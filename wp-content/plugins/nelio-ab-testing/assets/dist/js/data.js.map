{"version":3,"file":"js/data.js","mappings":"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","sources":["webpack://nab/./packages/data/hooks.ts","webpack://nab/./packages/data/index.ts","webpack://nab/./packages/data/store/actions/entities.ts","webpack://nab/./packages/data/store/actions/experiment.ts","webpack://nab/./packages/data/store/actions/fastspring.ts","webpack://nab/./packages/data/store/actions/index.ts","webpack://nab/./packages/data/store/actions/media.ts","webpack://nab/./packages/data/store/actions/page.ts","webpack://nab/./packages/data/store/actions/results.ts","webpack://nab/./packages/data/store/actions/settings.ts","webpack://nab/./packages/data/store/actions/site-quota.ts","webpack://nab/./packages/data/store/config.ts","webpack://nab/./packages/data/store/index.ts","webpack://nab/./packages/data/store/reducer/entities.ts","webpack://nab/./packages/data/store/reducer/experiments.ts","webpack://nab/./packages/data/store/reducer/fastspring.ts","webpack://nab/./packages/data/store/reducer/index.ts","webpack://nab/./packages/data/store/reducer/media.ts","webpack://nab/./packages/data/store/reducer/page.ts","webpack://nab/./packages/data/store/reducer/results.ts","webpack://nab/./packages/data/store/reducer/settings.ts","webpack://nab/./packages/data/store/reducer/site-quota.ts","webpack://nab/./packages/data/store/selectors/entities.ts","webpack://nab/./packages/data/store/selectors/experiment.ts","webpack://nab/./packages/data/store/selectors/fastspring.ts","webpack://nab/./packages/data/store/selectors/index.ts","webpack://nab/./packages/data/store/selectors/media.ts","webpack://nab/./packages/data/store/selectors/page.ts","webpack://nab/./packages/data/store/selectors/results.ts","webpack://nab/./packages/data/store/selectors/settings.ts","webpack://nab/./packages/data/store/selectors/site-quota.ts","webpack://nab/./packages/data/store/side-effects/actions/experiment.ts","webpack://nab/./packages/data/store/side-effects/actions/fastspring.ts","webpack://nab/./packages/data/store/side-effects/actions/index.ts","webpack://nab/./packages/data/store/side-effects/resolvers/entities.ts","webpack://nab/./packages/data/store/side-effects/resolvers/experiment.ts","webpack://nab/./packages/data/store/side-effects/resolvers/fastspring.ts","webpack://nab/./packages/data/store/side-effects/resolvers/index.ts","webpack://nab/./packages/data/store/side-effects/resolvers/media.ts","webpack://nab/./packages/data/store/side-effects/resolvers/results.ts","webpack://nab/./packages/data/store/side-effects/resolvers/settings.ts","webpack://nab/./packages/data/store/side-effects/resolvers/site-quota.ts","webpack://nab/./packages/data/store/types.ts","webpack://nab/./packages/data/store/utils.ts","webpack://nab/./packages/safe-wordpress/api-fetch.ts","webpack://nab/./packages/safe-wordpress/data.ts","webpack://nab/./packages/safe-wordpress/i18n.ts","webpack://nab/./packages/safe-wordpress/url.ts","webpack://nab/external window \"lodash\"","webpack://nab/external window [\"nab\",\"date\"]","webpack://nab/external window [\"nab\",\"utils\"]","webpack://nab/external window [\"wp\",\"apiFetch\"]","webpack://nab/external window [\"wp\",\"data\"]","webpack://nab/external window [\"wp\",\"date\"]","webpack://nab/external window [\"wp\",\"i18n\"]","webpack://nab/external window [\"wp\",\"url\"]","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/./packages/data/export.ts"],"sourcesContent":["/**\n * WordPress dependencies\n */\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport type { Experiment } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_DATA } from './store';\nimport type { State } from './store/types';\n\nexport function useExperimentAttribute< K extends keyof Experiment >(\n\tattr: K,\n\tdefaultValue: Experiment[ K ]\n): Experiment[ K ] {\n\treturn useSelect( ( select ) => {\n\t\tconst { getPageAttribute, getExperimentAttribute } = select( NAB_DATA );\n\t\tconst exp = getPageAttribute( 'editor/activeExperiment' ) ?? 0;\n\t\treturn getExperimentAttribute( exp, attr ) ?? defaultValue;\n\t} );\n} //end useExperimentAttribute()\n\ntype PageAttributes = Required< State[ 'page' ] >;\nexport function usePageAttribute< A extends keyof PageAttributes >(\n\tattr: A,\n\tdefaultValue: PageAttributes[ A ]\n): [ PageAttributes[ A ], ( v: PageAttributes[ A ] ) => void ] {\n\tconst value: PageAttributes[ A ] =\n\t\t// TODO. I dont know how to get this working without the explicit cast.\n\t\tuseSelect(\n\t\t\t( select ) =>\n\t\t\t\tselect( NAB_DATA ).getPageAttribute(\n\t\t\t\t\tattr\n\t\t\t\t) as PageAttributes[ A ]\n\t\t) ?? defaultValue;\n\n\tconst { setPageAttribute } = useDispatch( NAB_DATA );\n\tconst setValue = ( v: PageAttributes[ A ] ) => setPageAttribute( attr, v );\n\n\treturn [ value, setValue ];\n} // ennd usePageAttribute()\n\ntype PluginSettings = State[ 'settings' ][ 'nelio' ];\nexport function usePluginSetting< A extends keyof PluginSettings >(\n\tattr: A\n): PluginSettings[ A ] {\n\treturn useSelect( ( select ) =>\n\t\tselect( NAB_DATA ).getPluginSetting( attr )\n\t);\n} // ennd usePageAttribute()\n\nexport const useAdminUrl = (\n\tpath: string,\n\targs: Record< string, string | boolean | number >\n): string =>\n\tuseSelect( ( select ) => select( NAB_DATA ).getAdminUrl( path, args ) );\n","export * from './store';\nexport * from './hooks';\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\nimport type { EntityInstance, EntityKind, EntityKindName } from '@nab/types';\n\nexport type EntityAction = ReceiveKindEntitiesQuery | ReceiveEntityRecords;\n\nexport function receiveKindEntitiesQuery(\n\tkindEntities: EntityKind | ReadonlyArray< EntityKind >\n): ReceiveKindEntitiesQuery {\n\treturn {\n\t\ttype: 'RECEIVE_TYPE_QUERY',\n\t\tkindEntities: castArray( kindEntities ),\n\t};\n} //end receiveKindEntitiesQuery()\n\nexport function receiveEntityRecords(\n\tkind: EntityKindName,\n\trecords: EntityInstance | ReadonlyArray< EntityInstance >\n): ReceiveEntityRecords {\n\treturn {\n\t\ttype: 'RECEIVE_ITEMS',\n\t\titems: castArray( records ),\n\t\tkind,\n\t};\n} //end receiveEntityRecords()\n\n// ============\n// HELPER TYPES\n// ============\n\ntype ReceiveKindEntitiesQuery = {\n\treadonly type: 'RECEIVE_TYPE_QUERY';\n\treadonly kindEntities: ReadonlyArray< EntityKind >;\n};\n\ntype ReceiveEntityRecords = {\n\treadonly type: 'RECEIVE_ITEMS';\n\treadonly kind: EntityKindName;\n\treadonly items: ReadonlyArray< EntityInstance >;\n};\n","/**\n * External dependencies\n */\nimport type { AlternativeId, Experiment, ExperimentId } from '@nab/types';\n\nexport type ExperimentAction = ChangeLastAppliedAlternative | ReceiveExperiment;\n\nexport function changeLastAppliedAlternative(\n\texperimentId: ExperimentId,\n\talternativeId: AlternativeId\n): ChangeLastAppliedAlternative {\n\treturn {\n\t\ttype: 'CHANGE_LAST_APPLIED_ALTERNATIVE',\n\t\texperimentId,\n\t\talternativeId,\n\t};\n} //end receiveExperiment()\n\nexport function receiveExperiment(\n\tkey: ExperimentId,\n\texperiment: Experiment\n): ReceiveExperiment {\n\treturn {\n\t\ttype: 'RECEIVE_EXPERIMENT',\n\t\tkey,\n\t\texperiment,\n\t};\n} //end receiveExperiment()\n\n// ============\n// HELPER TYPES\n// ============\n\ntype ChangeLastAppliedAlternative = {\n\treadonly type: 'CHANGE_LAST_APPLIED_ALTERNATIVE';\n\treadonly experimentId: ExperimentId;\n\treadonly alternativeId: AlternativeId;\n};\n\ntype ReceiveExperiment = {\n\treadonly type: 'RECEIVE_EXPERIMENT';\n\treadonly key: ExperimentId;\n\treadonly experiment: Experiment;\n};\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\nimport type { FastSpringProduct } from '@nab/types';\n\nexport type FastSpringAction =\n\t| ReceiveFSCurrency\n\t| ReceiveFSProducts\n\t| ReceiveFSSubscriptionId;\n\nexport function receiveFSCurrency( currency: string ): ReceiveFSCurrency {\n\treturn {\n\t\ttype: 'RECEIVE_FS_CURRENCY',\n\t\tcurrency,\n\t};\n} //end receiveFSCurrency()\n\nexport function receiveFSProducts(\n\tproducts: FastSpringProduct | ReadonlyArray< FastSpringProduct >\n): ReceiveFSProducts {\n\treturn {\n\t\ttype: 'RECEIVE_FS_PRODUCTS',\n\t\tproducts: castArray( products ),\n\t};\n} //end receiveFSProducts()\n\nexport function receiveFSSubscriptionId(\n\tsubscriptionId: string\n): ReceiveFSSubscriptionId {\n\treturn {\n\t\ttype: 'RECEIVE_FS_SUBSCRIPTION_ID',\n\t\tsubscriptionId,\n\t};\n} //end receiveFSSubscriptionId()\n\n// ============\n// HELPER TYPES\n// ============\n\ntype ReceiveFSCurrency = {\n\treadonly type: 'RECEIVE_FS_CURRENCY';\n\treadonly currency: string;\n};\n\ntype ReceiveFSProducts = {\n\treadonly type: 'RECEIVE_FS_PRODUCTS';\n\treadonly products: ReadonlyArray< FastSpringProduct >;\n};\n\ntype ReceiveFSSubscriptionId = {\n\treadonly type: 'RECEIVE_FS_SUBSCRIPTION_ID';\n\treadonly subscriptionId: string;\n};\n","export * from './entities';\nexport * from './experiment';\nexport * from './fastspring';\nexport * from './media';\nexport * from './page';\nexport * from './results';\nexport * from './settings';\nexport * from './site-quota';\n","/**\n * External dependencies\n */\nimport type { MediaId, Url } from '@nab/types';\n\nexport type MediaAction = ReceiveMediaUrl;\n\nexport function receiveMediaUrl( id: MediaId, url: Url ): ReceiveMediaUrl {\n\treturn {\n\t\ttype: 'RECEIVE_MEDIA_URL',\n\t\tid,\n\t\turl,\n\t};\n} //end receiveMediaUrl()\n\n// ============\n// HELPER TYPES\n// ============\n\ntype ReceiveMediaUrl = {\n\treadonly type: 'RECEIVE_MEDIA_URL';\n\treadonly id: MediaId;\n\treadonly url: Url;\n};\n","/**\n * Internal dependencies\n */\nimport type { State } from '../types';\n\nexport type PageAction = SetPageAttribute | Lock | Unlock;\n\nexport function setPageAttribute< K extends keyof State[ 'page' ] >(\n\tname: K,\n\tvalue: State[ 'page' ][ K ]\n): SetPageAttribute< K > {\n\treturn {\n\t\ttype: 'SET_PAGE_ATTRIBUTE',\n\t\tname,\n\t\tvalue,\n\t};\n} //end getPageAttribute()\n\nexport function lock(): Lock {\n\treturn {\n\t\ttype: 'LOCK_UI',\n\t};\n} //end lock()\n\nexport function unlock(): Unlock {\n\treturn {\n\t\ttype: 'UNLOCK_UI',\n\t};\n} //end lock()\n\n// ============\n// HELPER TYPES\n// ============\n\ntype SetPageAttribute<\n\tK extends keyof State[ 'page' ] = keyof State[ 'page' ],\n> = {\n\treadonly type: 'SET_PAGE_ATTRIBUTE';\n\treadonly name: K;\n\treadonly value: State[ 'page' ][ K ];\n};\n\ntype Lock = {\n\treadonly type: 'LOCK_UI';\n};\n\ntype Unlock = {\n\treadonly type: 'UNLOCK_UI';\n};\n","/**\n * External dependencies\n */\nimport type { ExperimentId, Results } from '@nab/types';\n\nexport type ResultsAction = ReceiveExperimentResult;\n\nexport function receiveExperimentResult(\n\tkey: ExperimentId,\n\tresult: Results\n): ReceiveExperimentResult {\n\treturn {\n\t\ttype: 'RECEIVE_RESULT',\n\t\tkey,\n\t\tresult,\n\t};\n} //end receiveExperimentResult()\n\n// ============\n// HELPER TYPES\n// ============\n\ntype ReceiveExperimentResult = {\n\treadonly type: 'RECEIVE_RESULT';\n\treadonly key: ExperimentId;\n\treadonly result: Results;\n};\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\nimport type {\n\tECommercePlugin,\n\tEntityKindName,\n\tMenu,\n\tPluginSettings,\n\tTemplate,\n\tTheme,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { ECommerceSettings } from '../types';\n\nexport type SettingsAction =\n\t| SetToday\n\t| ReceivePlugins\n\t| ReceiveMenus\n\t| ReceiveTemplates\n\t| ReceiveThemes\n\t| ReceivePluginSettings\n\t| ReceiveECommerceSettings;\n\nexport function setToday( today: string ): SetToday {\n\treturn {\n\t\ttype: 'SET_TODAY',\n\t\ttoday,\n\t};\n} //end setToday()\n\nexport function receivePlugins(\n\tplugins: string | ReadonlyArray< string >\n): ReceivePlugins {\n\treturn {\n\t\ttype: 'RECEIVE_PLUGINS',\n\t\tplugins: castArray( plugins ),\n\t};\n} //end receivePlugins()\n\nexport function receiveMenus(\n\tmenus: Menu | ReadonlyArray< Menu >\n): ReceiveMenus {\n\treturn {\n\t\ttype: 'RECEIVE_MENUS',\n\t\tmenus: castArray( menus ),\n\t};\n} //end receiveMenus()\n\nexport function receiveTemplates(\n\ttemplates: Record< EntityKindName, ReadonlyArray< Template > >\n): ReceiveTemplates {\n\treturn {\n\t\ttype: 'RECEIVE_TEMPLATES',\n\t\ttemplates,\n\t};\n} //end receiveTemplates()\n\nexport function receiveThemes(\n\tthemes: Theme | ReadonlyArray< Theme >\n): ReceiveThemes {\n\treturn {\n\t\ttype: 'RECEIVE_THEMES',\n\t\tthemes: castArray( themes ),\n\t};\n} //end receiveThemes()\n\nexport function receivePluginSettings(\n\tsettings: PluginSettings\n): ReceivePluginSettings {\n\treturn {\n\t\ttype: 'RECEIVE_PLUGIN_SETTINGS',\n\t\tsettings,\n\t};\n} //end receivePluginSettings()\n\nexport function receiveECommerceSettings(\n\tecommerce: ECommercePlugin,\n\tsettings: ECommerceSettings\n): ReceiveECommerceSettings {\n\treturn {\n\t\ttype: 'RECEIVE_ECOMMERCE_SETTINGS',\n\t\tecommerce,\n\t\tsettings,\n\t};\n} //end receiveECommerceSettings()\n\n// ============\n// HELPER TYPES\n// ============\n\ntype SetToday = {\n\treadonly type: 'SET_TODAY';\n\treadonly today: string;\n};\n\ntype ReceivePlugins = {\n\treadonly type: 'RECEIVE_PLUGINS';\n\treadonly plugins: ReadonlyArray< string >;\n};\n\ntype ReceiveMenus = {\n\treadonly type: 'RECEIVE_MENUS';\n\treadonly menus: ReadonlyArray< Menu >;\n};\n\ntype ReceiveTemplates = {\n\treadonly type: 'RECEIVE_TEMPLATES';\n\treadonly templates: Record< EntityKindName, ReadonlyArray< Template > >;\n};\n\ntype ReceiveThemes = {\n\treadonly type: 'RECEIVE_THEMES';\n\treadonly themes: ReadonlyArray< Theme >;\n};\n\ntype ReceivePluginSettings = {\n\treadonly type: 'RECEIVE_PLUGIN_SETTINGS';\n\treadonly settings: PluginSettings;\n};\n\ntype ReceiveECommerceSettings = {\n\treadonly type: 'RECEIVE_ECOMMERCE_SETTINGS';\n\treadonly ecommerce: ECommercePlugin;\n\treadonly settings: ECommerceSettings;\n};\n","/**\n * External dependencies\n */\nimport type { Quota } from '@nab/types';\n\nexport type SiteAction = ReceiveSiteQuota;\n\nexport function receiveSiteQuota( quota: Quota ): ReceiveSiteQuota {\n\treturn {\n\t\ttype: 'RECEIVE_SITE_QUOTA',\n\t\tquota,\n\t};\n} //end ReceiveSiteQuota()\n\n// ============\n// HELPER TYPES\n// ============\n\ntype ReceiveSiteQuota = {\n\treadonly type: 'RECEIVE_SITE_QUOTA';\n\treadonly quota: Quota;\n};\n","import type { State } from './types';\n\nexport const STORE_NAME = 'nab/data';\n\nexport const INIT_STATE: State = {\n\tentities: {\n\t\tconfig: [],\n\t\tdata: {},\n\t},\n\n\texperiments: {},\n\n\tfastspring: {\n\t\tcurrency: 'USD',\n\t\tproducts: [],\n\t\tsubscriptionId: '',\n\t},\n\n\tmedia: {},\n\n\tpage: {\n\t\tisLocked: false,\n\t\tsidebarDimensions: {\n\t\t\ttop: 0,\n\t\t\theight: '100vh',\n\t\t\tapplyFix: true,\n\t\t},\n\t},\n\n\tresults: {},\n\n\tsettings: {\n\t\ttoday: '2013-01-01',\n\t\tmenus: {},\n\t\tnelio: {\n\t\t\tadminUrl: '/wp-admin/',\n\t\t\tapiUrl: '',\n\t\t\tareAutoTutorialsEnabled: true,\n\t\t\tareSubscriptionControlsDisabled: false,\n\t\t\tcapabilities: [],\n\t\t\tgoalTracking: 'all-pages',\n\t\t\thomeUrl: '/',\n\t\t\tminConfidence: 95,\n\t\t\tminSampleSize: 100,\n\t\t\tsegmentEvaluation: 'site',\n\t\t\tsiteId: '',\n\t\t\tsubscription: false,\n\t\t\tthemeSupport: {\n\t\t\t\tmenus: false,\n\t\t\t\twidgets: false,\n\t\t\t},\n\t\t},\n\t\tplugins: [],\n\t\ttemplates: {},\n\t\tthemes: {},\n\t\tecommerce: {\n\t\t\twoocommerce: {\n\t\t\t\tcurrency: 'USD',\n\t\t\t\tcurrencyPosition: 'before',\n\t\t\t\tcurrencySymbol: '$',\n\t\t\t\tdecimalSeparator: '.',\n\t\t\t\tnumberOfDecimals: 2,\n\t\t\t\torderStatuses: [],\n\t\t\t\tthousandsSeparator: ',',\n\t\t\t},\n\t\t\tedd: {\n\t\t\t\tcurrency: 'USD',\n\t\t\t\tcurrencyPosition: 'before',\n\t\t\t\tcurrencySymbol: '$',\n\t\t\t\tdecimalSeparator: '.',\n\t\t\t\tnumberOfDecimals: 2,\n\t\t\t\torderStatuses: [],\n\t\t\t\tthousandsSeparator: ',',\n\t\t\t},\n\t\t},\n\t},\n\n\tsiteQuota: undefined,\n};\n","/**\n * WordPress dependencies\n */\nimport {\n\tselect as s,\n\tdispatch as d,\n\tregisterStore,\n\tcontrols,\n} from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport { format } from '@nab/date';\nimport type {\n\tDataControls,\n\tECommercePlugin,\n\tExperiment,\n\tExperimentId,\n\tMaybe,\n\tOmitFirstArgs,\n\tPromisifyReturnTypes,\n\tRemoveReturnTypes,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as realActions from './actions';\nimport * as sideEffects from './side-effects/actions';\nimport * as resolvers from './side-effects/resolvers';\nimport { STORE_NAME } from './config';\nimport type { ECommerceSettings, State } from './types';\n\nexport { STORE_NAME } from './config';\nexport * from './types';\n\nconst actions = { ...realActions, ...sideEffects };\n\nregisterStore( STORE_NAME, {\n\treducer,\n\tcontrols,\n\t// eslint-disable-next-line\n\tactions: actions as any,\n\tselectors,\n\tresolvers,\n} );\n\ns( STORE_NAME ).getPluginSetting( 'siteId' );\nd( STORE_NAME ).setToday( format( 'Y-m-d', new Date() ) );\n\n// ==========\n// TYPESCRIPT\n// ==========\n\ntype Actions = RealActions & SideEffectActions;\n\ntype RealActions = RemoveReturnTypes<\n\tOmit< typeof realActions, 'setPageAttribute' >\n> & {\n\treadonly setPageAttribute: < K extends keyof State[ 'page' ] >(\n\t\tname: K,\n\t\tvalue: State[ 'page' ][ K ]\n\t) => void;\n};\n\ntype SideEffectActions = PromisifyReturnTypes<\n\tRemoveReturnTypes< typeof sideEffects >\n>;\n\ntype TypedSelectors = OmitFirstArgs<\n\tOmit<\n\t\ttypeof selectors,\n\t\t| 'getECommerceSetting'\n\t\t| 'getExperimentAttribute'\n\t\t| 'getPageAttribute'\n\t\t| 'getPluginSetting'\n\t>\n> & {\n\treadonly getExperimentAttribute: < K extends keyof Experiment >(\n\t\tkey: ExperimentId,\n\t\tattribute: K\n\t) => Maybe< Experiment[ K ] >;\n\treadonly getPageAttribute: < K extends keyof State[ 'page' ] >(\n\t\tname: K\n\t) => State[ 'page' ][ K ];\n\treadonly getPluginSetting: <\n\t\tK extends keyof State[ 'settings' ][ 'nelio' ],\n\t>(\n\t\tname: K\n\t) => State[ 'settings' ][ 'nelio' ][ K ];\n\treadonly getECommerceSetting: < K extends keyof ECommerceSettings >(\n\t\tplugin: ECommercePlugin,\n\t\tname: K\n\t) => ECommerceSettings[ K ];\n};\n\ntype ResolvableSelectors = PromisifyReturnTypes<\n\tPick< TypedSelectors, keyof typeof resolvers >\n>;\n\ntype Selectors = TypedSelectors & DataControls< ResolvableSelectors >;\n\ndeclare module '@wordpress/data' {\n\tfunction dispatch( key: typeof STORE_NAME ): Actions;\n\tfunction select( key: typeof STORE_NAME ): Selectors;\n\tfunction resolveSelect( key: typeof STORE_NAME ): ResolvableSelectors;\n}\n","/**\n * External dependencies\n */\nimport { keyBy } from 'lodash';\nimport type { AnyAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT_STATE } from '../config';\nimport type { State as FullState } from '../types';\nimport type { EntityAction as Action } from '../actions/entities';\n\ntype State = FullState[ 'entities' ];\n\nexport function entities(\n\tstate = INIT_STATE.entities,\n\taction: AnyAction\n): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n} //end entities()\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_TYPE_QUERY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tconfig: action.kindEntities,\n\t\t\t};\n\n\t\tcase 'RECEIVE_ITEMS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdata: {\n\t\t\t\t\t...state.data,\n\t\t\t\t\t[ action.kind ]: {\n\t\t\t\t\t\t...state.data[ action.kind ],\n\t\t\t\t\t\t...keyBy( action.items, 'id' ),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t} //end switch\n} //end actualReducer()\n","/**\n * External dependencies\n */\nimport { createAlternative, createGoal } from '@nab/utils';\nimport type {\n\tAlternative,\n\tAlternativeId,\n\tAnyAction,\n\tExperiment,\n\tMaybe,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT_STATE } from '../config';\nimport type { State as FullState } from '../types';\nimport type { ExperimentAction as Action } from '../actions/experiment';\n\ntype State = FullState[ 'experiments' ];\n\nexport function experiments(\n\tstate = INIT_STATE.experiments,\n\taction: AnyAction\n): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n} //end experiments()\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_EXPERIMENT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.key ]: {\n\t\t\t\t\t...action.experiment,\n\t\t\t\t\talternatives: maybeAddDefaultAlternatives(\n\t\t\t\t\t\taction.experiment.alternatives\n\t\t\t\t\t),\n\t\t\t\t\tgoals: action.experiment.goals || [ createGoal() ],\n\t\t\t\t\tsegments: action.experiment.segments || [],\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'CHANGE_LAST_APPLIED_ALTERNATIVE':\n\t\t\tconst experiment: Maybe< Experiment > =\n\t\t\t\tstate[ action.experimentId ];\n\t\t\tif ( ! experiment ) {\n\t\t\t\treturn state;\n\t\t\t} //end if\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.experimentId ]: {\n\t\t\t\t\t...experiment,\n\t\t\t\t\talternatives: experiment.alternatives.map(\n\t\t\t\t\t\tisLastApplied( action.alternativeId )\n\t\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t\t\t) as any as Experiment[ 'alternatives' ],\n\t\t\t\t},\n\t\t\t};\n\t} //end switch\n} //end actualReducer()\n\n// =======\n// HELPERS\n// =======\n\nconst isLastApplied = ( aid: AlternativeId ) =>\n\tfunction < T extends Alternative >( a: T ): T {\n\t\treturn { ...a, isLastApplied: a.id === aid };\n\t};\n\n// TODO. Improve these types.\nfunction maybeAddDefaultAlternatives< T extends Experiment[ 'alternatives' ] >(\n\talternatives: T\n): T {\n\tconst defaultOriginal = createAlternative( 'control' );\n\tconst defaultFirstAlt = createAlternative();\n\n\tif ( ! alternatives ) {\n\t\treturn [ defaultOriginal, defaultFirstAlt ] as unknown as T;\n\t} //end if\n\n\tif ( alternatives[ 0 ].id !== 'control' ) {\n\t\treturn [ defaultOriginal, ...alternatives ] as unknown as T;\n\t} //end if\n\n\tif ( 1 === alternatives.length ) {\n\t\treturn [ alternatives[ 0 ], defaultFirstAlt ] as unknown as T;\n\t} //end if\n\n\treturn alternatives;\n} //end maybeAddDefaultAlternatives()\n","/**\n * External dependencies\n */\nimport type { AnyAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT_STATE } from '../config';\nimport type { State as FullState } from '../types';\nimport type { FastSpringAction as Action } from '../actions/fastspring';\n\ntype State = FullState[ 'fastspring' ];\n\nexport function fastspring(\n\tstate = INIT_STATE.fastspring,\n\taction: AnyAction\n): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n} //end fastspring()\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_FS_CURRENCY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrency: action.currency,\n\t\t\t};\n\n\t\tcase 'RECEIVE_FS_PRODUCTS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tproducts: action.products,\n\t\t\t};\n\n\t\tcase 'RECEIVE_FS_SUBSCRIPTION_ID':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsubscriptionId: action.subscriptionId,\n\t\t\t};\n\t} //end switch\n} //end actualReducer()\n","/**\n * WordPress dependencies\n */\nimport { combineReducers } from '@safe-wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport { entities } from './entities';\nimport { experiments } from './experiments';\nimport { fastspring } from './fastspring';\nimport { media } from './media';\nimport { page } from './page';\nimport { results } from './results';\nimport { settings } from './settings';\nimport { siteQuota } from './site-quota';\n\nexport default combineReducers( {\n\tentities,\n\texperiments,\n\tfastspring,\n\tmedia,\n\tpage,\n\tresults,\n\tsettings,\n\tsiteQuota,\n} );\n","/**\n * External dependencies\n */\nimport type { AnyAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT_STATE } from '../config';\nimport type { State as FullState } from '../types';\nimport type { MediaAction as Action } from '../actions/media';\n\ntype State = FullState[ 'media' ];\n\nexport function media( state = INIT_STATE.media, action: AnyAction ): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n} //end media()\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_MEDIA_URL':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.id ]: action.url,\n\t\t\t};\n\t} //end switch\n} //end actualReducer()\n","/**\n * External dependencies\n */\nimport type { AnyAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT_STATE } from '../config';\nimport type { State as FullState } from '../types';\nimport type { PageAction as Action } from '../actions/page';\n\ntype State = FullState[ 'page' ];\n\nexport function page( state = INIT_STATE.page, action: AnyAction ): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n} //end page()\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'SET_PAGE_ATTRIBUTE':\n\t\t\tif ( ! action.name ) {\n\t\t\t\treturn state;\n\t\t\t} //end if\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.name ]: action.value,\n\t\t\t};\n\n\t\tcase 'LOCK_UI':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLocked: true,\n\t\t\t};\n\n\t\tcase 'UNLOCK_UI':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisLocked: false,\n\t\t\t};\n\t} //end switch\n} //end actualReducer()\n","/**\n * External dependencies\n */\nimport type { AnyAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT_STATE } from '../config';\nimport type { State as FullState } from '../types';\nimport type { ResultsAction as Action } from '../actions/results';\n\ntype State = FullState[ 'results' ];\n\nexport function results(\n\tstate = INIT_STATE.results,\n\taction: AnyAction\n): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n} //end results()\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_RESULT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t[ action.key ]: action.result,\n\t\t\t};\n\t} //end switch\n} //end actualReducer()\n","/**\n * External dependencies\n */\nimport { keyBy, sortBy } from 'lodash';\nimport type { AnyAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT_STATE } from '../config';\nimport type { State as FullState } from '../types';\nimport type { SettingsAction as Action } from '../actions/settings';\n\ntype State = FullState[ 'settings' ];\n\nexport function settings(\n\tstate = INIT_STATE.settings,\n\taction: AnyAction\n): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n} //end settings()\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'SET_TODAY':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttoday: action.today,\n\t\t\t};\n\n\t\tcase 'RECEIVE_MENUS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmenus: {\n\t\t\t\t\t...state.menus,\n\t\t\t\t\t...keyBy( action.menus, 'id' ),\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase 'RECEIVE_PLUGINS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tplugins: action.plugins || [],\n\t\t\t};\n\n\t\tcase 'RECEIVE_TEMPLATES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttemplates: action.templates,\n\t\t\t};\n\n\t\tcase 'RECEIVE_THEMES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tthemes: keyBy( action.themes, 'id' ),\n\t\t\t};\n\n\t\tcase 'RECEIVE_PLUGIN_SETTINGS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tnelio: action.settings,\n\t\t\t};\n\n\t\tcase 'RECEIVE_ECOMMERCE_SETTINGS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tecommerce: {\n\t\t\t\t\t...state.ecommerce,\n\t\t\t\t\t[ action.ecommerce ]: {\n\t\t\t\t\t\t...action.settings,\n\t\t\t\t\t\torderStatuses: sortBy(\n\t\t\t\t\t\t\taction.settings.orderStatuses,\n\t\t\t\t\t\t\t'label'\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t};\n\t} //end switch\n} //end actualReducer()\n","/**\n * External dependencies\n */\nimport type { AnyAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT_STATE } from '../config';\nimport type { State as FullState } from '../types';\nimport type { SiteAction as Action } from '../actions/site-quota';\n\ntype State = FullState[ 'siteQuota' ];\n\nexport function siteQuota(\n\tstate = INIT_STATE.siteQuota,\n\taction: AnyAction\n): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n} //end siteQuota()\n\nfunction actualReducer( _: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_SITE_QUOTA':\n\t\t\treturn action.quota;\n\t} //end switch\n} //end actualReducer()\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\nimport type {\n\tEntityId,\n\tEntityInstance,\n\tEntityKind,\n\tEntityKindName,\n\tMaybe,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { State } from '../types';\n\nexport function getKindEntities( state: State ): ReadonlyArray< EntityKind > {\n\treturn state.entities.config;\n} //end getKindEntities()\n\nexport function getEntityRecord(\n\tstate: State,\n\tkind: EntityKindName,\n\tkey: EntityId\n): Maybe< EntityInstance > {\n\treturn get( state.entities.data, [ kind, key ] );\n} //end getEntityRecord()\n","/**\n * External dependencies\n */\nimport { get } from 'lodash';\nimport type {\n\tGoal,\n\tGoalId,\n\tECommercePlugin,\n\tExperiment,\n\tExperimentId,\n\tMaybe,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { State } from '../types';\n\nexport function getExperiment(\n\tstate: State,\n\tkey: ExperimentId\n): Maybe< Experiment > {\n\treturn get( state.experiments, key );\n} //end getExperiment()\n\nexport type GetExperimentAttributeFunction = < K extends keyof Experiment >(\n\tkey: ExperimentId,\n\tattribute: K\n) => Maybe< Experiment[ K ] >;\n\nexport function getExperimentAttribute< K extends keyof Experiment >(\n\tstate: State,\n\tkey: ExperimentId,\n\tattribute: K\n): Maybe< Experiment[ K ] > {\n\tconst experiment = getExperiment( state, key );\n\tif ( ! experiment ) {\n\t\treturn;\n\t} //end if\n\treturn experiment[ attribute ];\n} //end getExperimentAttribute()\n\nexport function getDefaultGoal(\n\tstate: State,\n\tkey: ExperimentId\n): Maybe< Goal > {\n\tconst experiment = getExperiment( state, key );\n\tif ( ! experiment ) {\n\t\treturn;\n\t} //end if\n\treturn experiment.goals[ 0 ];\n} //end getDefaultGoal()\n\nexport function getECommercePlugin(\n\tstate: State,\n\tkey: ExperimentId,\n\tgoalId?: GoalId\n): Maybe< ECommercePlugin > {\n\tif ( isWooCommerceGoal( state, key, goalId ) ) {\n\t\treturn 'woocommerce';\n\t} //end if\n\n\tif ( isEddGoal( state, key, goalId ) ) {\n\t\treturn 'edd';\n\t} //end if\n\n\treturn undefined;\n} //end getECommercePlugin();\n\n// ========\n// INTERNAL\n// ========\n\nfunction isWooCommerceGoal(\n\tstate: State,\n\tkey: ExperimentId,\n\tgoalId?: GoalId\n): boolean {\n\tconst experiment = getExperiment( state, key );\n\tif ( ! experiment ) {\n\t\treturn false;\n\t} //end if\n\n\tgoalId = goalId ?? getDefaultGoal( state, key )?.id;\n\tconst goal = experiment.goals.find( ( g ) => g.id === goalId );\n\tif ( ! goal ) {\n\t\treturn false;\n\t} //end if\n\n\tconst actions = goal?.conversionActions ?? [];\n\treturn (\n\t\t0 < actions.length &&\n\t\tactions.every( ( { type } ) => type === 'nab/wc-order' )\n\t);\n} //end isWooCommerceGoal()\n\nfunction isEddGoal(\n\tstate: State,\n\tkey: ExperimentId,\n\tgoalId?: GoalId\n): boolean {\n\tconst experiment = getExperiment( state, key );\n\tif ( ! experiment ) {\n\t\treturn false;\n\t} //end if\n\n\tgoalId = goalId ?? getDefaultGoal( state, key )?.id;\n\tconst goal = experiment.goals.find( ( g ) => g.id === goalId );\n\tif ( ! goal ) {\n\t\treturn false;\n\t} //end if\n\n\tconst actions = goal?.conversionActions ?? [];\n\treturn (\n\t\t0 < actions.length &&\n\t\tactions.every( ( { type } ) => type === 'nab/edd-order' )\n\t);\n} //end isEddGoal()\n","/**\n * External dependencies\n */\nimport type { FastSpringProduct, Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { State } from '../types';\n\nexport function getCurrency( state: State ): string {\n\treturn state.fastspring.currency;\n} //end getCurrency()\n\nexport function getProducts(\n\tstate: State\n): ReadonlyArray< FastSpringProduct > {\n\treturn state.fastspring.products;\n} //end getProducts()\n\nexport function getSubscriptionId( state: State ): Maybe< string > {\n\treturn state.fastspring.subscriptionId || undefined;\n} //end getSubscriptionId()\n","export * from './entities';\nexport * from './experiment';\nexport * from './fastspring';\nexport * from './media';\nexport * from './page';\nexport * from './results';\nexport * from './settings';\nexport * from './site-quota';\n","/**\n * External dependencies\n */\nimport type { Maybe, MediaId, Url } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { State } from '../types';\n\nexport function getMediaUrl( state: State, id: MediaId ): Maybe< Url > {\n\treturn state.media[ id ];\n} //end getMediaUrl()\n","/**\n * Internal dependencies\n */\nimport { State } from '../types';\n\nexport function getPageAttribute< K extends keyof State[ 'page' ] >(\n\tstate: State,\n\tname: K\n): State[ 'page' ][ K ] {\n\treturn state.page[ name ];\n} //end getPageAttribute()\n\nexport function isLocked( state: State ): boolean {\n\treturn getPageAttribute( state, 'isLocked' );\n} //end isLocked()\n","/**\n * External dependencies\n */\nimport { values } from 'lodash';\nimport type {\n\tAlternativeTrackingData,\n\tAlternativeId,\n\tGoalId,\n\tExperimentId,\n\tMaybe,\n\tResultStatus,\n\tResults,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { differenceInDays } from '../utils';\nimport { getDefaultGoal, getExperiment } from './experiment';\nimport { getPageAttribute } from './page';\nimport { getPluginSetting } from './settings';\nimport { State } from '../types';\n\nexport function getExperimentResults(\n\tstate: State,\n\tkey: ExperimentId\n): Maybe< Results > {\n\treturn state.results[ key ];\n} //end getExperimentResults()\n\nexport function getWinnersInExperiment(\n\tstate: State,\n\tkey: ExperimentId\n): Maybe< Results[ 'winners' ] > {\n\tconst results = getExperimentResults( state, key );\n\tif ( ! results ) {\n\t\treturn;\n\t} //end if\n\n\tconst areResultsUnique =\n\t\tgetPageAttribute( state, 'editor/areResultsUnique' ) ?? false;\n\tconst activeSegment =\n\t\tgetPageAttribute( state, 'editor/activeSegment' ) ?? 'default';\n\n\tconst winnerKey = areResultsUnique ? 'winnersUnique' : 'winners';\n\treturn activeSegment === 'default'\n\t\t? results[ winnerKey ]\n\t\t: results.segments[ activeSegment ]?.[ winnerKey ];\n} //end getWinnersInExperiment()\n\nexport function getAlternativeResultsInExperiment(\n\tstate: State,\n\tkey: ExperimentId\n): Maybe< ReadonlyArray< AlternativeTrackingData > > {\n\tconst results = getExperimentResults( state, key );\n\tif ( ! results ) {\n\t\treturn;\n\t} //end if\n\n\tconst activeSegment =\n\t\tgetPageAttribute( state, 'editor/activeSegment' ) ?? 'default';\n\treturn activeSegment === 'default'\n\t\t? values( results.alternatives )\n\t\t: values( results.segments[ activeSegment ]?.alternatives );\n} //end getAlternativeResultsInExperiment()\n\nexport function getPageViews( state: State, key: ExperimentId ): number {\n\tconst results = getExperimentResults( state, key );\n\tif ( ! results?.alternatives ) {\n\t\treturn 0;\n\t} //end if\n\n\tconst areResultsUnique =\n\t\tgetPageAttribute( state, 'editor/areResultsUnique' ) ?? false;\n\tconst activeSegment =\n\t\tgetPageAttribute( state, 'editor/activeSegment' ) ?? 'default';\n\tconst resultsOfAlternatives =\n\t\tactiveSegment === 'default'\n\t\t\t? values( results.alternatives )\n\t\t\t: values( results.segments[ activeSegment ]?.alternatives );\n\treturn resultsOfAlternatives.reduce(\n\t\t( memo, alternative ) =>\n\t\t\tmemo +\n\t\t\t( areResultsUnique\n\t\t\t\t? alternative.uniqueVisits\n\t\t\t\t: alternative.visits ),\n\t\t0\n\t);\n} //end getPageViews()\n\nexport function getAlternativePageViews(\n\tstate: State,\n\texperimentId: ExperimentId,\n\talternativeId: AlternativeId\n): number {\n\tconst results = getExperimentResults( state, experimentId );\n\tif ( ! results?.alternatives ) {\n\t\treturn 0;\n\t} //end if\n\n\tconst areResultsUnique =\n\t\tgetPageAttribute( state, 'editor/areResultsUnique' ) ?? false;\n\tconst activeSegment =\n\t\tgetPageAttribute( state, 'editor/activeSegment' ) ?? 'default';\n\n\tconst alternative =\n\t\tactiveSegment === 'default'\n\t\t\t? results.alternatives[ alternativeId ]\n\t\t\t: results.segments[ activeSegment ]?.alternatives[ alternativeId ];\n\tif ( ! alternative ) {\n\t\treturn 0;\n\t} //end if\n\n\treturn areResultsUnique ? alternative.uniqueVisits : alternative.visits;\n} //end getAlternativePageViews()\n\nexport function getConversions(\n\tstate: State,\n\tkey: ExperimentId,\n\tgoalId?: GoalId\n): number {\n\tconst results = getExperimentResults( state, key );\n\tif ( ! results || ! results.alternatives ) {\n\t\treturn 0;\n\t} //end if\n\n\tconst gid = goalId ?? getDefaultGoal( state, key )?.id ?? '';\n\tif ( ! gid ) {\n\t\treturn 0;\n\t} //end if\n\n\tconst areResultsUnique =\n\t\tgetPageAttribute( state, 'editor/areResultsUnique' ) ?? false;\n\tconst activeSegment =\n\t\tgetPageAttribute( state, 'editor/activeSegment' ) ?? 'default';\n\tconst resultsOfAlternatives =\n\t\tactiveSegment === 'default'\n\t\t\t? values( results.alternatives )\n\t\t\t: values( results.segments[ activeSegment ]?.alternatives );\n\n\treturn resultsOfAlternatives.reduce(\n\t\t( memo, alternative ) =>\n\t\t\tmemo +\n\t\t\t( ( areResultsUnique\n\t\t\t\t? alternative.uniqueConversions[ gid ]\n\t\t\t\t: alternative.conversions[ gid ] ) || 0 ),\n\t\t0\n\t);\n} //end getConversions()\n\nexport function getTotalRevenue(\n\tstate: State,\n\tkey: ExperimentId,\n\tgoalId?: GoalId\n): number {\n\tconst results = getExperimentResults( state, key );\n\tif ( ! results || ! results.alternatives ) {\n\t\treturn 0;\n\t} //end if\n\n\tconst gid = goalId ?? getDefaultGoal( state, key )?.id ?? '';\n\tif ( ! gid ) {\n\t\treturn 0;\n\t} //end if\n\n\tconst areResultsUnique =\n\t\tgetPageAttribute( state, 'editor/areResultsUnique' ) ?? false;\n\tconst activeSegment =\n\t\tgetPageAttribute( state, 'editor/activeSegment' ) ?? 'default';\n\tconst resultsOfAlternatives =\n\t\tactiveSegment === 'default'\n\t\t\t? values( results.alternatives )\n\t\t\t: values( results.segments[ activeSegment ]?.alternatives );\n\n\treturn resultsOfAlternatives.reduce(\n\t\t( memo, alternative ) =>\n\t\t\tmemo +\n\t\t\t( ( areResultsUnique\n\t\t\t\t? alternative.uniqueValues[ gid ]\n\t\t\t\t: alternative.values[ gid ] ) ?? 0 ),\n\t\t0\n\t);\n} //end getTotalRevenue()\n\nexport function getDaysRunning( state: State, key: ExperimentId ): number {\n\tconst experiment = getExperiment( state, key );\n\tif ( ! experiment ) {\n\t\treturn 0;\n\t} //end if\n\n\tconst startDate = experiment.startDate;\n\tlet endDate = '';\n\tif ( 'finished' === experiment.status ) {\n\t\tendDate = experiment.endDate || '';\n\t} //end if\n\n\treturn differenceInDays( startDate, endDate );\n} //end getDaysRunning()\n\nexport function getExperimentResultsStatus(\n\tstate: State,\n\tkey: ExperimentId,\n\tgoalId?: GoalId\n): Maybe< ResultStatus > {\n\tconst results = getExperimentResults( state, key );\n\tif ( ! results ) {\n\t\treturn;\n\t} //end if\n\n\tconst gid = goalId ?? getDefaultGoal( state, key )?.id ?? '';\n\tif ( ! gid ) {\n\t\treturn;\n\t} //end if\n\n\tconst requiredConfidence = getPluginSetting( state, 'minConfidence' );\n\tif ( ! requiredConfidence ) {\n\t\treturn;\n\t} //end if\n\n\tconst areResultsUnique =\n\t\tgetPageAttribute( state, 'editor/areResultsUnique' ) ?? false;\n\tconst activeSegment =\n\t\tgetPageAttribute( state, 'editor/activeSegment' ) ?? 'default';\n\n\tconst winnerKey = areResultsUnique ? 'winnersUnique' : 'winners';\n\n\tconst winner =\n\t\tactiveSegment === 'default'\n\t\t\t? results[ winnerKey ]?.[ gid ]\n\t\t\t: results.segments[ activeSegment ]?.[ winnerKey ]?.[ gid ];\n\tif ( ! winner ) {\n\t\treturn 'testing';\n\t} else if ( winner.confidence >= requiredConfidence ) {\n\t\treturn 'winner';\n\t} //end if\n\treturn 'possible-winner';\n} //end getExperimentResultsStatus()\n\nexport function getWinnerAlternative(\n\tstate: State,\n\tkey: ExperimentId,\n\tgoalId?: GoalId\n): Maybe< number > {\n\tconst results = getExperimentResults( state, key );\n\tif ( ! results ) {\n\t\treturn;\n\t} //end if\n\n\tconst gid = goalId ?? getDefaultGoal( state, key )?.id ?? '';\n\tif ( ! gid ) {\n\t\treturn;\n\t} //end if\n\n\tconst requiredConfidence = getPluginSetting( state, 'minConfidence' );\n\tif ( ! requiredConfidence ) {\n\t\treturn;\n\t} //end if\n\n\tconst areResultsUnique =\n\t\tgetPageAttribute( state, 'editor/areResultsUnique' ) ?? false;\n\tconst activeSegment =\n\t\tgetPageAttribute( state, 'editor/activeSegment' ) ?? 'default';\n\n\tconst winnerKey = areResultsUnique ? 'winnersUnique' : 'winners';\n\n\tconst winner =\n\t\tactiveSegment === 'default'\n\t\t\t? results[ winnerKey ]?.[ gid ]\n\t\t\t: results.segments[ activeSegment ]?.[ winnerKey ]?.[ gid ];\n\tif ( ! winner || winner.confidence < requiredConfidence ) {\n\t\treturn;\n\t} //end if\n\n\treturn winner.alternative;\n} //end getWinnerAlternative()\n\nexport function getConversionRatesOfAlternativesInGoal(\n\tstate: State,\n\tkey: ExperimentId,\n\tgoalId?: GoalId\n): Maybe< ReadonlyArray< number > > {\n\tconst results = getExperimentResults( state, key );\n\tif ( ! results ) {\n\t\treturn;\n\t} //end if\n\n\tconst gid = goalId ?? getDefaultGoal( state, key )?.id;\n\tif ( ! gid ) {\n\t\treturn;\n\t} //end if\n\n\tconst areResultsUnique =\n\t\tgetPageAttribute( state, 'editor/areResultsUnique' ) ?? false;\n\tconst activeSegment =\n\t\tgetPageAttribute( state, 'editor/activeSegment' ) ?? 'default';\n\tconst resultsOfAlternatives =\n\t\tactiveSegment === 'default'\n\t\t\t? values( results.alternatives )\n\t\t\t: values( results.segments[ activeSegment ]?.alternatives );\n\n\treturn resultsOfAlternatives.map( ( alternative ) =>\n\t\tareResultsUnique\n\t\t\t? alternative.uniqueConversionRates[ gid ] || 0\n\t\t\t: alternative.conversionRates[ gid ] || 0\n\t);\n} //end getConversionRatesOfAlternativesInGoal()\n\nexport function getRevenuesOfAlternativesInGoal(\n\tstate: State,\n\tkey: ExperimentId,\n\tgoalId?: GoalId\n): Maybe< ReadonlyArray< number > > {\n\tconst results = getExperimentResults( state, key );\n\tif ( ! results ) {\n\t\treturn;\n\t} //end if\n\n\tconst gid = goalId ?? getDefaultGoal( state, key )?.id ?? '';\n\tif ( ! gid ) {\n\t\treturn;\n\t} //end if\n\n\tconst areResultsUnique =\n\t\tgetPageAttribute( state, 'editor/areResultsUnique' ) ?? false;\n\tconst activeSegment =\n\t\tgetPageAttribute( state, 'editor/activeSegment' ) ?? 'default';\n\tconst resultsOfAlternatives =\n\t\tactiveSegment === 'default'\n\t\t\t? values( results.alternatives )\n\t\t\t: values( results.segments[ activeSegment ]?.alternatives );\n\n\treturn resultsOfAlternatives.map( ( alternative ) =>\n\t\tareResultsUnique\n\t\t\t? alternative.uniqueValues[ gid ] || 0\n\t\t\t: alternative.values[ gid ] || 0\n\t);\n} //end getRevenuesOfAlternativesInGoal()\n\nexport function getResultsOfAlternatives(\n\tstate: State,\n\tkey: ExperimentId\n): Maybe< Results[ 'alternatives' ] > {\n\tconst results = getExperimentResults( state, key );\n\tif ( ! results ) {\n\t\treturn;\n\t} //end if\n\n\tconst activeSegment =\n\t\tgetPageAttribute( state, 'editor/activeSegment' ) ?? 'default';\n\treturn activeSegment === 'default'\n\t\t? results.alternatives\n\t\t: results.segments[ activeSegment ]?.alternatives;\n} //end getResultsOfAlternatives()\n","/**\n * WordPress dependencies\n */\nimport { addQueryArgs } from '@safe-wordpress/url';\n\n/**\n * External dependencies\n */\nimport { keys, values } from 'lodash';\nimport type {\n\tECommercePlugin,\n\tMaybe,\n\tMenu,\n\tNabCapability,\n\tSubscriptionPlan,\n\tTheme,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { ECommerceSettings, State } from '../types';\n\nexport function getToday( state: State ): string {\n\treturn state.settings.today;\n} //end getToday()\n\nexport function getActivePlugins( state: State ): ReadonlyArray< string > {\n\treturn state.settings.plugins;\n} //end getActivePlugins()\n\nexport function hasMenus( state: State ): boolean {\n\treturn !! keys( state.settings.menus ).length;\n} //end hasMenus()\n\nexport function getMenu( state: State, id: number ): Maybe< Menu > {\n\treturn state.settings.menus[ id ];\n} //end getMenu()\n\nexport function getTemplates(\n\tstate: State\n): State[ 'settings' ][ 'templates' ] {\n\treturn state.settings.templates;\n} //end getTemplates()\n\nexport function getThemes( state: State ): ReadonlyArray< Theme > {\n\treturn values( state.settings.themes );\n} //end getThemes()\n\nexport function getAdminUrl(\n\tstate: State,\n\tpath: string,\n\targs: Record< string, string | boolean | number >\n): string {\n\tconst adminUrl = getPluginSetting( state, 'adminUrl' );\n\treturn addQueryArgs( `${ adminUrl }${ path }`, args );\n} //end getAdminUrl()\n\nexport function hasCapability(\n\tstate: State,\n\tcapability: NabCapability\n): boolean {\n\treturn state.settings.nelio.capabilities.includes( capability );\n} //end hasCapability()\n\nexport function getPluginSetting<\n\tK extends keyof State[ 'settings' ][ 'nelio' ],\n>( state: State, name: K ): State[ 'settings' ][ 'nelio' ][ K ] {\n\treturn state.settings.nelio[ name ];\n} //end getPluginSetting()\n\nexport function getECommerceSetting< K extends keyof ECommerceSettings >(\n\tstate: State,\n\tplugin: ECommercePlugin,\n\tname: K\n): ECommerceSettings[ K ] {\n\treturn state.settings.ecommerce[ plugin ][ name ];\n} //end getECommerceSetting()\n\nexport function canLimitSiteQuota( state: State ): boolean {\n\treturn isSubscribedTo( state, 'professional', 'or-above' );\n} //end canLimitSiteQuota()\n\nexport function isSubscribedTo(\n\tstate: State,\n\tplan: SubscriptionPlan,\n\tmode: 'exactly' | 'or-above' = 'or-above'\n): boolean {\n\tconst actualPlan = getPluginSetting( state, 'subscription' );\n\tif ( ! actualPlan ) {\n\t\treturn false;\n\t} //end if\n\n\tconst plans = [ 'basic', 'professional', 'enterprise' ];\n\tconst expectedIndex = plans.indexOf( plan );\n\tconst actualIndex = plans.indexOf( actualPlan );\n\n\tif ( -1 === expectedIndex || -1 === actualIndex ) {\n\t\treturn false;\n\t} //end if\n\n\tif ( 'or-above' !== mode ) {\n\t\treturn expectedIndex === actualIndex;\n\t} //end if\n\n\treturn actualIndex >= expectedIndex;\n} //end isSubscribedTo()\n","/**\n * External dependencies\n */\nimport type { Maybe, Quota } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { State } from '../types';\n\nexport function getQuota( state: State ): Maybe< Quota > {\n\treturn state.siteQuota;\n} //end getQuota()\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch, resolveSelect, select } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { keyBy } from 'lodash';\nimport { createErrorNotice } from '@nab/utils';\nimport type { Alternative, AlternativeId, Experiment, Maybe } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '../../config';\n\n/**\n * Stops the experiment in the database.\n */\nexport async function stopExperiment(): Promise< void > {\n\tconst experimentId = select( NAB_DATA ).getPageAttribute(\n\t\t'editor/activeExperiment'\n\t);\n\tif ( ! experimentId ) {\n\t\treturn;\n\t} //end if\n\n\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t'editor/isExperimentBeingStopped',\n\t\ttrue\n\t);\n\n\tlet experiment: Maybe< Experiment >;\n\ttry {\n\t\texperiment =\n\t\t\tawait resolveSelect( NAB_DATA ).getExperiment( experimentId );\n\t\tif ( ! experiment ) {\n\t\t\treturn;\n\t\t} //end if\n\t} catch ( e ) {\n\t\tcreateErrorNotice( e );\n\t\treturn;\n\t} //end try\n\n\tlet stoppedExperiment: Experiment;\n\ttry {\n\t\tstoppedExperiment = await apiFetch< Experiment >( {\n\t\t\tpath: `/nab/v1/experiment/${ experimentId }/stop`,\n\t\t\tmethod: 'PUT',\n\t\t} );\n\t} catch ( e ) {\n\t\tcreateErrorNotice(\n\t\t\te,\n\t\t\t_x( 'Test cant be stopped', 'text', 'nelio-ab-testing' )\n\t\t);\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'editor/isExperimentBeingStopped',\n\t\t\tfalse\n\t\t);\n\t\treturn;\n\t} //end try\n\n\tconst newAlternatives = keyBy( stoppedExperiment.alternatives || [], 'id' );\n\n\tconst newExperiment: Experiment = {\n\t\t...stoppedExperiment,\n\t\tlinks: {\n\t\t\t...stoppedExperiment.links,\n\t\t\t...experiment.links,\n\t\t},\n\t\talternatives: ( experiment.alternatives || [] ).map(\n\t\t\t( alternative ) => ( {\n\t\t\t\t...alternative,\n\t\t\t\tlinks: updateLinksKeepingPreviewAndHeatmap(\n\t\t\t\t\talternative,\n\t\t\t\t\tnewAlternatives[ alternative.id ]\n\t\t\t\t),\n\t\t\t} )\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t) as any as Experiment[ 'alternatives' ],\n\t};\n\n\tdispatch( NAB_DATA ).receiveExperiment( experiment.id, newExperiment );\n\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t'editor/isExperimentBeingStopped',\n\t\tfalse\n\t);\n} //end stopExperiment()\n\n/**\n * Pauses the experiment in the database.\n */\nexport async function pauseExperiment(): Promise< void > {\n\tconst experimentId = select( NAB_DATA ).getPageAttribute(\n\t\t'editor/activeExperiment'\n\t);\n\tif ( ! experimentId ) {\n\t\treturn;\n\t} //end if\n\n\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t'editor/isExperimentBeingPaused',\n\t\ttrue\n\t);\n\n\ttry {\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/experiment/${ experimentId }/pause`,\n\t\t\tmethod: 'PUT',\n\t\t} );\n\t} catch ( e ) {\n\t\tcreateErrorNotice(\n\t\t\te,\n\t\t\t_x( 'Test cant be paused', 'text', 'nelio-ab-testing' )\n\t\t);\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'editor/isExperimentBeingPaused',\n\t\t\tfalse\n\t\t);\n\t\treturn;\n\t} //end if\n\n\t// phpcs:ignore\n\twindow.location.href = select( NAB_DATA ).getAdminUrl( 'admin.php', {\n\t\tpage: 'nelio-ab-testing-experiment-edit',\n\t\texperiment: experimentId,\n\t} );\n} //end pauseExperiment()\n\n/**\n * Applies the given alternative.\n *\n * @param {string} alternativeId the alternative to apply.\n */\nexport async function applyAlternative(\n\talternativeId: AlternativeId\n): Promise< void > {\n\tconst experimentId = select( NAB_DATA ).getPageAttribute(\n\t\t'editor/activeExperiment'\n\t);\n\tif ( ! experimentId ) {\n\t\treturn;\n\t} //end if\n\n\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t'editor/alternativeBeingApplied',\n\t\talternativeId\n\t);\n\n\tlet experiment: Experiment;\n\ttry {\n\t\texperiment = await apiFetch( {\n\t\t\tpath: `/nab/v1/experiment/${ experimentId }/apply/${ alternativeId }`,\n\t\t\tmethod: 'PUT',\n\t\t} );\n\t} catch ( e ) {\n\t\tcreateErrorNotice(\n\t\t\te,\n\t\t\t_x( 'Alternative cant be applied', 'text', 'nelio-ab-testing' )\n\t\t);\n\t\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t\t'editor/alternativeBeingApplied',\n\t\t\tfalse\n\t\t);\n\t\treturn;\n\t} //end if\n\n\tdispatch( NAB_DATA ).changeLastAppliedAlternative(\n\t\texperiment.id,\n\t\talternativeId\n\t);\n\tdispatch( NAB_DATA ).setPageAttribute(\n\t\t'editor/alternativeBeingApplied',\n\t\tfalse\n\t);\n} //end applyAlternative()\n\n// =======\n// HELPERS\n// =======\n\nfunction updateLinksKeepingPreviewAndHeatmap(\n\toldAlternative?: Alternative,\n\tnewAlternative?: Alternative\n): Maybe< Alternative[ 'links' ] > {\n\tif ( ! oldAlternative?.links ) {\n\t\treturn;\n\t} //end if\n\n\tif ( ! newAlternative?.links ) {\n\t\treturn oldAlternative.links;\n\t} //end if\n\n\treturn {\n\t\t...newAlternative.links,\n\t\theatmap: oldAlternative.links.heatmap,\n\t\tpreview: oldAlternative.links.preview,\n\t};\n} //end newAlternative()\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch, select } from '@safe-wordpress/data';\n/**\n * External dependencies\n */\nimport { createErrorNotice } from '@nab/utils';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '../../config';\n\nexport async function purchaseQuota(\n\tquantity: number,\n\tcurrency: string\n): Promise< void > {\n\tconst subscriptionId = select( NAB_DATA ).getSubscriptionId();\n\tif ( ! subscriptionId ) {\n\t\treturn;\n\t} //end if\n\n\ttry {\n\t\tdispatch( NAB_DATA ).lock();\n\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/subscription/${ subscriptionId }/quota`,\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\tquantity,\n\t\t\t\tcurrency,\n\t\t\t},\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tdispatch( NAB_DATA ).unlock();\n\t\tcreateErrorNotice( error );\n\t}\n} //end purchaseQuota()\n","export * from './experiment';\nexport * from './fastspring';\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch, resolveSelect } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport { find, values } from 'lodash';\nimport type {\n\tEntityKind,\n\tEntityKindName,\n\tEntityId,\n\tEntityInstance,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '../../config';\n\nexport async function getKindEntities(): Promise< void > {\n\ttry {\n\t\tconst response = await apiFetch< Record< EntityKindName, EntityKind > >(\n\t\t\t{ path: '/nab/v1/types' }\n\t\t);\n\t\tdispatch( NAB_DATA ).receiveKindEntitiesQuery( values( response ) );\n\t} catch ( e ) {\n\t\t// eslint-disable-next-line\n\t\tconsole.warn( e );\n\t} //end try\n} //end getKindEntities()\n\nexport async function getEntityRecord(\n\tkind?: EntityKindName,\n\tkey?: EntityId\n): Promise< void > {\n\tif ( ! kind || ! key ) {\n\t\treturn;\n\t} //end if\n\n\ttry {\n\t\tconst entities = await resolveSelect( NAB_DATA ).getKindEntities();\n\t\tconst entity = find( entities, { name: kind } );\n\t\tif ( ! entity ) {\n\t\t\t// eslint-disable-next-line\n\t\t\tconsole.warn( `Entity ${ kind } not found in`, entities );\n\t\t\treturn;\n\t\t} //end if\n\n\t\tconst record = await apiFetch< EntityInstance >( {\n\t\t\tpath: `/nab/v1/post/?id=${ key }&type=${ kind }`,\n\t\t} );\n\t\tdispatch( NAB_DATA ).receiveEntityRecords( kind, record );\n\t} catch ( e ) {\n\t\t// eslint-disable-next-line\n\t\tconsole.warn( e );\n\t} //end try\n} //end getEntityRecord()\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport type { Experiment, ExperimentId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '../../config';\n\nexport async function getExperiment( id: ExperimentId ): Promise< void > {\n\ttry {\n\t\tconst experiment = await apiFetch< Experiment >( {\n\t\t\tpath: `/nab/v1/experiment/${ id }`,\n\t\t} );\n\t\tdispatch( NAB_DATA ).receiveExperiment( id, experiment );\n\t} catch ( error ) {\n\t\tconst message = error instanceof Error ? error.message : 'unknown';\n\t\t// eslint-disable-next-line\n\t\tconsole.warn(\n\t\t\t`Unable to retrieve experiment ${ id }. Error: ${ message }.`\n\t\t);\n\t} //end try\n} //end getExperiment()\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch, resolveSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { createErrorNotice } from '@nab/utils';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '../../config';\nimport type { State } from '../../types';\n\nexport async function getProducts(): Promise< void > {\n\ttry {\n\t\tconst { currency, products, subscriptionId } = await apiFetch<\n\t\t\tState[ 'fastspring' ]\n\t\t>( {\n\t\t\tpath: '/nab/v1/fastspring',\n\t\t} );\n\t\tdispatch( NAB_DATA ).receiveFSCurrency( currency );\n\t\tdispatch( NAB_DATA ).receiveFSProducts( products );\n\t\tdispatch( NAB_DATA ).receiveFSSubscriptionId( subscriptionId );\n\t} catch ( error ) {\n\t\tcreateErrorNotice(\n\t\t\terror,\n\t\t\t_x(\n\t\t\t\t'Error while retrieving NC products.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t)\n\t\t);\n\t\tthrow error;\n\t} //end try\n} //end getProducts()\n\nexport const getCurrency = async (): Promise< void > =>\n\tvoid ( await resolveSelect( NAB_DATA ).getProducts() );\n\nexport const getSubscriptionId = async (): Promise< void > =>\n\tvoid ( await resolveSelect( NAB_DATA ).getProducts() );\n","export * from './entities';\nexport * from './experiment';\nexport * from './fastspring';\nexport * from './media';\nexport * from './results';\nexport * from './settings';\nexport * from './site-quota';\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport type { MediaId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '../../config';\n\nexport async function getMediaUrl( id: MediaId ): Promise< void > {\n\tif ( ! id ) {\n\t\treturn;\n\t} //end if\n\n\ttry {\n\t\t// eslint-disable-next-line camelcase\n\t\ttype Media = { readonly source_url: string };\n\t\tconst media = await apiFetch< Media >( {\n\t\t\tpath: `/wp/v2/media/${ id }`,\n\t\t} );\n\t\tdispatch( NAB_DATA ).receiveMediaUrl( id, media.source_url );\n\t} catch ( error ) {\n\t\tconst message = error instanceof Error ? error.message : 'unknown';\n\t\t// eslint-disable-next-line\n\t\tconsole.warn( `Error while retrieving media. Error: ${ message }` );\n\t} //end try\n} //end getMediaUrl()\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch, resolveSelect } from '@safe-wordpress/data';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { createErrorNotice } from '@nab/utils';\nimport type { CloudResults, ExperimentId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '../../config';\nimport { processResult } from '../../utils';\n\nexport async function getExperimentResults(\n\tid: ExperimentId\n): Promise< void > {\n\ttry {\n\t\tconst experiment = await resolveSelect( NAB_DATA ).getExperiment( id );\n\t\tif ( ! experiment ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tconst data = await apiFetch< CloudResults >( {\n\t\t\tpath: `/nab/v1/experiment/${ id }/result`,\n\t\t} );\n\n\t\tconst result = processResult( data, experiment );\n\t\tdispatch( NAB_DATA ).receiveExperimentResult( id, result );\n\t} catch ( error ) {\n\t\tcreateErrorNotice(\n\t\t\terror,\n\t\t\tsprintf(\n\t\t\t\t/* translators: test id */\n\t\t\t\t_x(\n\t\t\t\t\t'Unable to retrieve results in test %d.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tid\n\t\t\t)\n\t\t);\n\t} //end try\n} //end getExperimentResults()\n\nexport async function getPageViews( id: ExperimentId ): Promise< void > {\n\tawait resolveSelect( NAB_DATA ).getExperimentResults( id );\n} //end getPageViews()\n\nexport async function getAlternativePageViews(\n\tid: ExperimentId\n): Promise< void > {\n\tawait resolveSelect( NAB_DATA ).getExperimentResults( id );\n} //end getAlternativePageViews()\n\nexport async function getDaysRunning( id: ExperimentId ): Promise< void > {\n\tawait resolveSelect( NAB_DATA ).getExperimentResults( id );\n} //end getDaysRunning()\n\nexport async function getExperimentResultsStatus(\n\tid: ExperimentId\n): Promise< void > {\n\tawait resolveSelect( NAB_DATA ).getExperimentResults( id );\n} //end getExperimentResultsStatus()\n\nexport async function getConversionRatesOfAlternativesInGoal(\n\tid: ExperimentId\n): Promise< void > {\n\tawait resolveSelect( NAB_DATA ).getExperimentResults( id );\n} //end getConversionRatesOfAlternativesInGoal()\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch } from '@safe-wordpress/data';\nimport { addQueryArgs } from '@safe-wordpress/url';\n\n/**\n * External dependencies\n */\nimport type {\n\tEntityKindName,\n\tMenuId,\n\tMenu,\n\tPaginatedResults,\n\tTheme,\n\tTemplate,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '../../config';\n\nexport async function getActivePlugins(): Promise< void > {\n\ttry {\n\t\tconst plugins = await apiFetch< ReadonlyArray< string > >( {\n\t\t\tpath: '/nab/v1/plugins',\n\t\t} );\n\t\tdispatch( NAB_DATA ).receivePlugins( plugins );\n\t} catch ( error ) {\n\t\tconst message = error instanceof Error ? error.message : 'unknown';\n\t\t// eslint-disable-next-line\n\t\tconsole.warn(\n\t\t\t`Unable to retrieve active plugins. Error: ${ message }`\n\t\t);\n\t} //end try\n} //end getActivePlugins()\n\nexport async function hasMenus(): Promise< void > {\n\ttry {\n\t\tconst response = await apiFetch< PaginatedResults< Menu > >( {\n\t\t\tpath: '/nab/v1/menu/search?query',\n\t\t} );\n\t\tdispatch( NAB_DATA ).receiveMenus( response.results );\n\t} catch ( error ) {\n\t\tconst message = error instanceof Error ? error.message : 'unknown';\n\t\t// eslint-disable-next-line\n\t\tconsole.warn(\n\t\t\t`Unable to check if site has menus. Error: ${ message }`\n\t\t);\n\t} //end try\n} //end hasMenus()\n\nexport async function getMenu( id: MenuId ): Promise< void > {\n\ttry {\n\t\tconst record = await apiFetch< Menu >( {\n\t\t\tpath: `/nab/v1/menu/${ id }`,\n\t\t} );\n\t\tdispatch( NAB_DATA ).receiveMenus( record );\n\t} catch ( error ) {\n\t\tconst message = error instanceof Error ? error.message : 'unknown';\n\t\t// eslint-disable-next-line\n\t\tconsole.warn( `Unable to retrieve menu ${ id }. Error: ${ message }` );\n\t} //end try\n} //end getMenu()\n\nexport async function getTemplates(): Promise< void > {\n\ttry {\n\t\tconst response = await apiFetch<\n\t\t\tPaginatedResults<\n\t\t\t\tRecord< EntityKindName, ReadonlyArray< Template > >\n\t\t\t>\n\t\t>( {\n\t\t\tpath: addQueryArgs( `/nab/v1/templates` ),\n\t\t} );\n\t\tdispatch( NAB_DATA ).receiveTemplates( response.results );\n\t} catch ( error ) {\n\t\tconst message = error instanceof Error ? error.message : 'unknown';\n\t\t// eslint-disable-next-line\n\t\tconsole.warn( `Unable to retrieve templates. Error: ${ message }` );\n\t} //end try\n} //end getTemplates()\n\nexport async function getThemes(): Promise< void > {\n\ttry {\n\t\tconst response = await apiFetch<\n\t\t\tPaginatedResults< ReadonlyArray< Theme > >\n\t\t>( {\n\t\t\tpath: `/nab/v1/themes`,\n\t\t} );\n\t\tdispatch( NAB_DATA ).receiveThemes( response.results );\n\t} catch ( error ) {\n\t\tconst message = error instanceof Error ? error.message : 'unknown';\n\t\t// eslint-disable-next-line\n\t\tconsole.warn( `Unable to retrieve themes. Error: ${ message }` );\n\t} //end try\n} //end getThemes()\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { createErrorNotice } from '@nab/utils';\nimport type { Quota } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '../../config';\n\nexport async function getQuota(): Promise< void > {\n\ttry {\n\t\tconst quota = await apiFetch< Quota >( {\n\t\t\tpath: '/nab/v1/site/quota',\n\t\t} );\n\t\tdispatch( NAB_DATA ).receiveSiteQuota( quota );\n\t} catch ( error ) {\n\t\tcreateErrorNotice(\n\t\t\terror,\n\t\t\t_x( 'Unable to retrieve quota.', 'text', 'nelio-ab-testing' )\n\t\t);\n\t\tthrow error;\n\t} //end try\n} //end getQuota()\n","/**\n * External dependencies\n */\nimport type {\n\tAlternativeId,\n\tConfettiOption,\n\tConfettiType,\n\tECommercePlugin,\n\tEntityId,\n\tEntityInstance,\n\tEntityKind,\n\tEntityKindName,\n\tExperiment,\n\tExperimentId,\n\tFastSpringProduct,\n\tGoalId,\n\tHeatmapDataStatus,\n\tHeatmapFrameAction,\n\tHeatmapMode,\n\tHeatmapResolution,\n\tMaybe,\n\tMediaId,\n\tMenu,\n\tMenuId,\n\tOrderStatus,\n\tPluginSettings,\n\tQuota,\n\tResults,\n\tSegmentId,\n\tSiteId,\n\tTemplate,\n\tTheme,\n\tThemeId,\n\tUrl,\n} from '@nab/types';\n\nexport type State = {\n\treadonly entities: {\n\t\treadonly config: ReadonlyArray< EntityKind >;\n\t\treadonly data: Record<\n\t\t\tEntityKindName,\n\t\t\tRecord< EntityId, EntityInstance >\n\t\t>;\n\t};\n\n\treadonly experiments: Record< ExperimentId, Experiment >;\n\n\treadonly fastspring: {\n\t\treadonly currency: string;\n\t\treadonly products: ReadonlyArray< FastSpringProduct >;\n\t\treadonly subscriptionId: string;\n\t};\n\n\treadonly media: Record< MediaId, Url >;\n\n\treadonly page: PageAttributes;\n\n\treadonly results: Record< ExperimentId, Results >;\n\n\treadonly settings: {\n\t\treadonly today: string;\n\t\treadonly menus: Record< MenuId, Menu >;\n\t\treadonly nelio: PluginSettings;\n\t\treadonly plugins: ReadonlyArray< string >;\n\t\treadonly templates: Record< EntityKindName, ReadonlyArray< Template > >;\n\t\treadonly themes: Record< ThemeId, Theme >;\n\t\treadonly ecommerce: Record< ECommercePlugin, ECommerceSettings >;\n\t};\n\n\treadonly siteQuota: Maybe< Quota >;\n};\n\nexport type ECommerceSettings = {\n\treadonly currency: string;\n\treadonly currencyPosition: 'before' | 'after';\n\treadonly currencySymbol: string;\n\treadonly decimalSeparator: string;\n\treadonly numberOfDecimals: number;\n\treadonly orderStatuses: ReadonlyArray< OrderStatus >;\n\treadonly thousandsSeparator: string;\n};\n\n// ============\n// HELPER TYPES\n// ============\n\ntype PageAttributes = {\n\treadonly isLocked: boolean;\n\treadonly sidebarDimensions: {\n\t\treadonly top: number;\n\t\treadonly height: string;\n\t\treadonly applyFix: boolean;\n\t};\n\n\treadonly 'account/usesFullViewAgency'?: boolean;\n\n\treadonly 'css-preview/areControlsVisible'?: boolean;\n\treadonly 'css-preview/activeResolution'?: 'desktop' | 'tablet' | 'mobile';\n\treadonly 'css-selector/cssSelectorFinderState'?: SelectorFinderState;\n\treadonly 'css-selector/openedCssSelectorFinderId'?: number | string;\n\n\treadonly 'editor/activeExperiment'?: ExperimentId;\n\treadonly 'editor/activeGoal'?: GoalId;\n\treadonly 'editor/activeSegment'?: SegmentId;\n\treadonly 'editor/alternativeBeingApplied'?: AlternativeId | false;\n\treadonly 'editor/alternativeInPreviewDialog'?: AlternativeId | false;\n\treadonly 'editor/isExperimentBeingPaused'?: boolean;\n\treadonly 'editor/isExperimentBeingStopped'?: boolean;\n\treadonly 'editor/areResultsUnique'?: boolean;\n\n\treadonly 'heatmap/activeAlternative'?: number;\n\treadonly 'heatmap/activeFilter'?: ConfettiType;\n\treadonly 'heatmap/activeMode'?: HeatmapMode;\n\treadonly 'heatmap/activeResolution'?: HeatmapResolution;\n\treadonly 'heatmap/awsAuthToken'?: string;\n\treadonly 'heatmap/clickCount'?: number;\n\treadonly 'heatmap/confettiFilterOptions'?: Partial<\n\t\tRecord< ConfettiType, ReadonlyArray< ConfettiOption > >\n\t>;\n\treadonly 'heatmap/dataStatus'?: HeatmapDataStatus;\n\treadonly 'heatmap/disabledFilterOptions'?: ReadonlyArray< string >;\n\treadonly 'heatmap/firstDayOfWeek'?: number;\n\treadonly 'heatmap/intensity'?: number;\n\treadonly 'heatmap/isProcessingData'?: boolean;\n\treadonly 'heatmap/isSidebarVisible'?: boolean;\n\treadonly 'heatmap/opacity'?: number;\n\treadonly 'heatmap/postMessageProxy'?: HeatmapFrameAction | false;\n\treadonly 'heatmap/progress'?: number;\n\treadonly 'heatmap/siteId'?: SiteId;\n\treadonly 'heatmap/timezone'?: string;\n\n\treadonly 'javascript-preview/areControlsVisible'?: boolean;\n\treadonly 'javascript-preview/activeResolution'?:\n\t\t| 'desktop'\n\t\t| 'tablet'\n\t\t| 'mobile';\n\treadonly 'javascript-preview/isLoading'?: boolean;\n\n\treadonly 'menus/isConfirmationDialogForMenuDuplicationVisible'?: boolean;\n\treadonly 'menus/isDuplicatingMenu'?: boolean;\n\n\treadonly 'welcome/isPluginBeingInitialized'?: boolean;\n\treadonly 'welcome/isPolicyAccepted'?: boolean;\n\n\treadonly 'widgets/isConfirmationDialogForWidgetDuplicationVisible'?: boolean;\n\treadonly 'widgets/isDuplicatingWidgets'?: boolean;\n};\n\ntype SelectorFinderState = {\n\treadonly alternative: number;\n\treadonly currentUrl?: string;\n\treadonly initialMode: 'id' | 'class' | 'css';\n\treadonly initialValue: string;\n\treadonly mode: 'id' | 'class' | 'css';\n\treadonly value: string;\n\treadonly isExploring: boolean;\n};\n","/**\n * External dependencies\n */\nimport { keyBy, find } from 'lodash';\nimport type {\n\tAlternativeId,\n\tAlternativeTrackingData,\n\tCloudAlternativeResults,\n\tCloudDayResults,\n\tCloudResults,\n\tCloudSegmentResults,\n\tDayResults,\n\tGoal,\n\tExperiment,\n\tResults,\n} from '@nab/types';\nimport { getDate, format, date as formatDate } from '@nab/date';\n\nexport function differenceInDays(\n\td1: string | Date,\n\td2: string | Date\n): number {\n\tif ( 'string' === typeof d1 ) {\n\t\td1 = new Date( d1 );\n\t} //end if\n\n\tif ( 'string' === typeof d2 ) {\n\t\td2 = new Date( d2 );\n\t} //end if\n\n\tconst now = new Date();\n\tif ( ! d1 || isNaN( d1.getTime() ) ) {\n\t\td1 = now;\n\t} //end if\n\n\tif ( ! d2 || isNaN( d2.getTime() ) ) {\n\t\td2 = now;\n\t} //end if\n\n\tconst diffTime = Math.abs( d2.getTime() - d1.getTime() );\n\treturn Math.ceil( diffTime / ( 1000 * 60 * 60 * 24 ) );\n} //end differenceInDays()\n\nexport function processResult(\n\tdata: CloudResults,\n\texperiment: Experiment\n): Results {\n\treturn {\n\t\twinners: extractWinnersInfo( data.results || {}, experiment.goals ),\n\t\twasEnoughData: extractWhetherThereWasEnoughData(\n\t\t\tdata.results || {},\n\t\t\texperiment.goals\n\t\t),\n\t\talternatives: extractAlternativesInfo( data, experiment ),\n\t\tsegments: processResultOfSegments( data, experiment ),\n\t\t...( data.uniqueResults && {\n\t\t\twinnersUnique: extractWinnersInfo(\n\t\t\t\tdata.uniqueResults || {},\n\t\t\t\texperiment.goals\n\t\t\t),\n\t\t\twasEnoughDataUnique: extractWhetherThereWasEnoughData(\n\t\t\t\tdata.uniqueResults || {},\n\t\t\t\texperiment.goals\n\t\t\t),\n\t\t} ),\n\t};\n} //end processResult\n\nfunction processResultOfSegments(\n\tdata: CloudResults,\n\texperiment: Experiment\n): Results[ 'segments' ] {\n\tconst { segments } = experiment;\n\tconst EMPTY_SEGMENT_RESULTS = { results: {} };\n\n\treturn keyBy(\n\t\tsegments.map( ( segment, index ) => ( {\n\t\t\twinners: extractWinnersInfo(\n\t\t\t\tdata.segments?.[ `s${ index + 1 }` ]?.results || {},\n\t\t\t\texperiment.goals\n\t\t\t),\n\t\t\twasEnoughData: extractWhetherThereWasEnoughData(\n\t\t\t\tdata.segments?.[ `s${ index + 1 }` ]?.results || {},\n\t\t\t\texperiment.goals\n\t\t\t),\n\t\t\talternatives: extractAlternativesInfo(\n\t\t\t\tdata.segments?.[ `s${ index + 1 }` ] || EMPTY_SEGMENT_RESULTS,\n\t\t\t\texperiment\n\t\t\t),\n\t\t\t...( data.segments?.[ `s${ index + 1 }` ]?.uniqueResults && {\n\t\t\t\twinnersUnique: extractWinnersInfo(\n\t\t\t\t\tdata.segments?.[ `s${ index + 1 }` ]?.uniqueResults || {},\n\t\t\t\t\texperiment.goals\n\t\t\t\t),\n\t\t\t\twasEnoughDataUnique: extractWhetherThereWasEnoughData(\n\t\t\t\t\tdata.segments?.[ `s${ index + 1 }` ]?.uniqueResults || {},\n\t\t\t\t\texperiment.goals\n\t\t\t\t),\n\t\t\t} ),\n\t\t\tid: segment.id,\n\t\t} ) ),\n\t\t'id'\n\t);\n} //end processResultOfSegments()\n\nfunction extractWinnersInfo(\n\tresults: CloudSegmentResults[ 'results' ],\n\tgoals: ReadonlyArray< Goal >\n): Results[ 'winners' ] {\n\tconst winners: Results[ 'winners' ] = {};\n\tconst numberOfGoals = goals.length;\n\n\tfor ( let i = 0; i < numberOfGoals; ++i ) {\n\t\tconst goal = goals[ i ];\n\t\tif ( ! goal ) {\n\t\t\tcontinue;\n\t\t} //end if\n\t\tconst goalId = goal.id;\n\t\tconst data = results[ `g${ i }` ] || false;\n\n\t\tif ( data && 'win' === data.status ) {\n\t\t\twinners[ goalId ] = {\n\t\t\t\talternative: data.winner,\n\t\t\t\tconfidence: data.confidence,\n\t\t\t};\n\t\t} //end if\n\t} //end for\n\n\treturn winners;\n} //end extractWinnersInfo()\n\nfunction extractWhetherThereWasEnoughData(\n\tresults: CloudSegmentResults[ 'results' ],\n\tgoals: ReadonlyArray< Goal >\n): Results[ 'wasEnoughData' ] {\n\tconst enoughData: Results[ 'wasEnoughData' ] = {};\n\tconst numberOfGoals = goals.length;\n\n\tfor ( let i = 0; i < numberOfGoals; ++i ) {\n\t\tconst goal = goals[ i ];\n\t\tif ( ! goal ) {\n\t\t\tcontinue;\n\t\t} //end if\n\t\tconst goalId = goal.id;\n\t\tconst data = results[ `g${ i }` ];\n\t\tenoughData[ goalId ] = 'low-data' !== data?.status;\n\t} //end for\n\n\treturn enoughData;\n} //end extractWhetherThereWasEnoughData()\n\nfunction extractAlternativesInfo(\n\tdata: CloudSegmentResults,\n\texperiment: Experiment\n): Results[ 'alternatives' ] {\n\tconst { alternatives } = experiment;\n\tconst endDate =\n\t\t'finished' === experiment.status\n\t\t\t? getDate( experiment.endDate || '' )\n\t\t\t: new Date();\n\tconst formattedEndDate = formatDate( 'Y-m-d', endDate );\n\n\treturn keyBy(\n\t\talternatives.map( ( alternative, index ) =>\n\t\t\tsetAlternativeTrackingData(\n\t\t\t\tdata[ `a${ index }` ] || {},\n\t\t\t\talternative.id,\n\t\t\t\texperiment.startDate,\n\t\t\t\tformattedEndDate,\n\t\t\t\texperiment.goals\n\t\t\t)\n\t\t),\n\t\t'id'\n\t);\n} //end extractAlternativesInfo()\n\nfunction setAlternativeTrackingData(\n\tdata: CloudAlternativeResults,\n\tid: AlternativeId,\n\tstartDate: string,\n\tendDate: string,\n\tgoals: ReadonlyArray< Goal >\n): AlternativeTrackingData {\n\treturn {\n\t\tid,\n\t\tvisits: data.v || 0,\n\t\tvalues: fixConversionValues( data.cv, goals ),\n\t\tconversions: fixConversionCounts( data.c, goals ),\n\t\tconversionRates: fixConversionRates( data.cr, goals ),\n\t\timprovementFactors: fixImprovementFactors( data.i, goals ),\n\n\t\tuniqueVisits: data.uv || 0,\n\t\tuniqueValues: fixConversionValues( data.ucv, goals ),\n\t\tuniqueConversions: fixConversionCounts( data.uc, goals ),\n\t\tuniqueConversionRates: fixConversionRates( data.ucr, goals ),\n\t\tuniqueImprovementFactors: fixImprovementFactors( data.ui, goals ),\n\n\t\ttimeline: fixTimelineData( data.t, startDate, endDate, goals ),\n\t};\n} //end setAlternativeTrackingData()\n\nfunction fixConversionValues(\n\tvalues: CloudAlternativeResults[ 'cv' ],\n\tgoals: ReadonlyArray< Goal >\n): AlternativeTrackingData[ 'conversions' ] {\n\tconst result: AlternativeTrackingData[ 'conversions' ] = {};\n\tconst numberOfGoals = goals.length;\n\n\tfor ( let i = 0; i < numberOfGoals; ++i ) {\n\t\tconst goal = goals[ i ];\n\t\tif ( ! goal ) {\n\t\t\tcontinue;\n\t\t} //end if\n\t\tconst goalId = goal.id;\n\t\tresult[ goalId ] = values?.[ `g${ i }` ] || 0;\n\t} //end for\n\n\treturn result;\n} //end fixConversionValues()\n\nfunction fixConversionCounts(\n\tconversions: CloudAlternativeResults[ 'c' ],\n\tgoals: ReadonlyArray< Goal >\n): AlternativeTrackingData[ 'conversions' ] {\n\tconst result: AlternativeTrackingData[ 'conversions' ] = {};\n\tconst numberOfGoals = goals.length;\n\n\tfor ( let i = 0; i < numberOfGoals; ++i ) {\n\t\tconst goal = goals[ i ];\n\t\tif ( ! goal ) {\n\t\t\tcontinue;\n\t\t} //end if\n\t\tconst goalId = goal.id;\n\t\tresult[ goalId ] = conversions?.[ `g${ i }` ] || 0;\n\t} //end for\n\n\treturn result;\n} //end fixConversionCounts()\n\nfunction fixConversionRates(\n\tconversionRates: CloudAlternativeResults[ 'cr' ],\n\tgoals: ReadonlyArray< Goal >\n): AlternativeTrackingData[ 'conversionRates' ] {\n\tconst result: AlternativeTrackingData[ 'conversionRates' ] = {};\n\tconst numberOfGoals = goals.length;\n\n\tfor ( let i = 0; i < numberOfGoals; ++i ) {\n\t\tconst goal = goals[ i ];\n\t\tif ( ! goal ) {\n\t\t\tcontinue;\n\t\t} //end if\n\t\tconst goalId = goal.id;\n\t\tconst cr = conversionRates?.[ `g${ i }` ] || 0;\n\t\tresult[ goalId ] = Math.round( cr * 100 ) / 100 || 0;\n\t} //end for\n\n\treturn result;\n} //end fixConversionRates()\n\nfunction fixImprovementFactors(\n\timprovementFactors: CloudAlternativeResults[ 'i' ],\n\tgoals: ReadonlyArray< Goal >\n): AlternativeTrackingData[ 'improvementFactors' ] {\n\tconst result: AlternativeTrackingData[ 'improvementFactors' ] = {};\n\tconst numberOfGoals = goals.length;\n\n\tfor ( let i = 0; i < numberOfGoals; ++i ) {\n\t\tconst goal = goals[ i ];\n\t\tif ( ! goal ) {\n\t\t\tcontinue;\n\t\t} //end if\n\t\tconst goalId = goal.id;\n\t\tconst factor = improvementFactors?.[ `g${ i }` ] || 0;\n\t\tresult[ goalId ] = Math.round( factor * 100 ) / 100 || 0;\n\t} //end for\n\n\treturn result;\n} //end fixImprovementFactors()\n\nfunction fixTimelineData(\n\ttimeline: CloudAlternativeResults[ 't' ],\n\tstartDate: string,\n\tendDate: string,\n\tgoals: ReadonlyArray< Goal >\n): AlternativeTrackingData[ 'timeline' ] {\n\tconst result: DayResults[] = [];\n\tconst day = getDate( startDate );\n\tlet dayLabel;\n\n\tdo {\n\t\tdayLabel = format( 'Y-m-d', day );\n\t\tconst cloudDayResults = findDayResults( timeline, dayLabel );\n\t\tconst dayResults = fixDayResults( cloudDayResults, goals );\n\t\tresult.push( dayResults );\n\t\tday.setDate( day.getDate() + 1 );\n\t} while ( endDate > dayLabel );\n\n\treturn result;\n} //end fixTimelineData()\n\nfunction findDayResults(\n\ttimeline: CloudAlternativeResults[ 't' ],\n\tdate: string\n): CloudDayResults {\n\tconst result = find( timeline, { d: date } ) || {};\n\t// TODO. Dont know why I need the cast :-(\n\treturn { v: 0, ...result, d: date } as CloudDayResults;\n} //end findDayResults()\n\nfunction fixDayResults(\n\tdata: CloudDayResults,\n\tgoals: ReadonlyArray< Goal >\n): DayResults {\n\tconst result: DayResults = {\n\t\tvisits: data.v || 0,\n\t\tdate: data.d,\n\t\tconversions: {},\n\t\tvalues: {},\n\t\tuniqueVisits: data.uv || 0,\n\t\tuniqueConversions: {},\n\t\tuniqueValues: {},\n\t};\n\n\tconst numberOfGoals = goals.length;\n\tfor ( let i = 0; i < numberOfGoals; ++i ) {\n\t\tconst goal = goals[ i ];\n\t\tif ( ! goal ) {\n\t\t\tcontinue;\n\t\t} //end if\n\t\tconst goalId = goal.id;\n\t\tresult.conversions[ goalId ] = data[ `g${ i }` ] || 0;\n\t\tresult.values[ goalId ] = data[ `val${ i }` ] || 0;\n\t\tresult.uniqueConversions[ goalId ] = data[ `ug${ i }` ] || 0;\n\t\tresult.uniqueValues[ goalId ] = data[ `uval${ i }` ] || 0;\n\t} //end for\n\n\treturn result;\n} //end fixDayResults()\n","/**\n * WordPress dependencies\n */\nimport baseApiFetch from '@wordpress/api-fetch';\nimport { format } from '@wordpress/date';\nimport { addQueryArgs } from '@wordpress/url';\n\nimport type { APIFetchOptions } from '@wordpress/api-fetch';\n\nconst apiFetch = < T >( options: APIFetchOptions ): Promise< T > => {\n\tconst { url, path } = options;\n\tconst nabts = format( 'YmjHi' ).substring( 0, 11 ) + '0';\n\treturn baseApiFetch( {\n\t\t...options,\n\t\t...( url && {\n\t\t\turl: isRestApiRequest( options )\n\t\t\t\t? addQueryArgs( url, { nabts } )\n\t\t\t\t: url,\n\t\t} ),\n\t\t...( path && { path: addQueryArgs( path, { nabts } ) } ),\n\t} );\n};\n\nexport * from '@wordpress/api-fetch';\nexport default apiFetch;\n\n// =======\n// HELPERS\n// =======\nconst isRestApiRequest = ( options: APIFetchOptions ): boolean =>\n\t!! options.url?.includes( '/wp-json/' ) ||\n\t!! options.url?.includes( 'rest_route' ) ||\n\t!! Object.keys( options ).includes( 'rest_route' );\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/data';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/i18n';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/url';\n","module.exports = window[\"lodash\"];","module.exports = window[\"nab\"][\"date\"];","module.exports = window[\"nab\"][\"utils\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"date\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"url\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * as data from './index';\n"],"names":["useDispatch","useSelect","STORE_NAME","NAB_DATA","useExperimentAttribute","attr","defaultValue","select","_c","getPageAttribute","getExperimentAttribute","exp","_a","_b","usePageAttribute","value","setPageAttribute","setValue","v","usePluginSetting","getPluginSetting","useAdminUrl","path","args","getAdminUrl","castArray","receiveKindEntitiesQuery","kindEntities","type","receiveEntityRecords","kind","records","items","changeLastAppliedAlternative","experimentId","alternativeId","receiveExperiment","key","experiment","receiveFSCurrency","currency","receiveFSProducts","products","receiveFSSubscriptionId","subscriptionId","receiveMediaUrl","id","url","name","lock","unlock","receiveExperimentResult","result","setToday","today","receivePlugins","plugins","receiveMenus","menus","receiveTemplates","templates","receiveThemes","themes","receivePluginSettings","settings","receiveECommerceSettings","ecommerce","receiveSiteQuota","quota","INIT_STATE","entities","config","data","experiments","fastspring","media","page","isLocked","sidebarDimensions","top","height","applyFix","results","nelio","adminUrl","apiUrl","areAutoTutorialsEnabled","areSubscriptionControlsDisabled","capabilities","goalTracking","homeUrl","minConfidence","minSampleSize","segmentEvaluation","siteId","subscription","themeSupport","widgets","woocommerce","currencyPosition","currencySymbol","decimalSeparator","numberOfDecimals","orderStatuses","thousandsSeparator","edd","siteQuota","undefined","s","dispatch","d","registerStore","controls","format","reducer","selectors","realActions","sideEffects","resolvers","actions","__assign","Date","keyBy","state","action","actualReducer","createAlternative","createGoal","alternatives","maybeAddDefaultAlternatives","goals","segments","map","isLastApplied","aid","a","defaultOriginal","defaultFirstAlt","__spreadArray","length","combineReducers","sortBy","_","get","getKindEntities","getEntityRecord","getExperiment","attribute","getDefaultGoal","getECommercePlugin","goalId","isWooCommerceGoal","isEddGoal","goal","find","g","conversionActions","every","getCurrency","getProducts","getSubscriptionId","getMediaUrl","values","differenceInDays","getExperimentResults","getWinnersInExperiment","areResultsUnique","activeSegment","winnerKey","getAlternativeResultsInExperiment","getPageViews","resultsOfAlternatives","reduce","memo","alternative","uniqueVisits","visits","getAlternativePageViews","getConversions","gid","_d","_e","uniqueConversions","conversions","getTotalRevenue","uniqueValues","getDaysRunning","startDate","endDate","status","getExperimentResultsStatus","requiredConfidence","winner","_g","_f","confidence","getWinnerAlternative","getConversionRatesOfAlternativesInGoal","uniqueConversionRates","conversionRates","getRevenuesOfAlternativesInGoal","getResultsOfAlternatives","addQueryArgs","keys","getToday","getActivePlugins","hasMenus","getMenu","getTemplates","getThemes","concat","hasCapability","capability","includes","getECommerceSetting","plugin","canLimitSiteQuota","isSubscribedTo","plan","mode","actualPlan","plans","expectedIndex","indexOf","actualIndex","getQuota","apiFetch","resolveSelect","_x","createErrorNotice","stopExperiment","sent","e_1","method","stoppedExperiment","e_2","newAlternatives","newExperiment","links","updateLinksKeepingPreviewAndHeatmap","pauseExperiment","e_3","window","location","href","applyAlternative","e_4","oldAlternative","newAlternative","heatmap","preview","purchaseQuota","quantity","reload","error_1","response","console","warn","entity","record","message","Error","__awaiter","__generator","source_url","sprintf","processResult","error_2","error_3","error_4","error_5","getDate","date","formatDate","d1","d2","now","isNaN","getTime","diffTime","Math","abs","ceil","winners","extractWinnersInfo","wasEnoughData","extractWhetherThereWasEnoughData","extractAlternativesInfo","processResultOfSegments","uniqueResults","winnersUnique","wasEnoughDataUnique","EMPTY_SEGMENT_RESULTS","segment","index","_j","_h","_l","_k","numberOfGoals","i","enoughData","formattedEndDate","setAlternativeTrackingData","fixConversionValues","cv","fixConversionCounts","c","fixConversionRates","cr","improvementFactors","fixImprovementFactors","uv","ucv","uc","ucr","uniqueImprovementFactors","ui","timeline","fixTimelineData","t","round","factor","day","dayLabel","cloudDayResults","findDayResults","dayResults","fixDayResults","push","setDate","baseApiFetch","options","nabts","substring","isRestApiRequest","Object"],"sourceRoot":""}