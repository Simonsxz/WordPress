{"version":3,"file":"js/account-page.js","mappings":"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","sources":["webpack://nab/./node_modules/@automattic/interpolate-components/dist/esm/index.js","webpack://nab/./node_modules/@automattic/interpolate-components/dist/esm/tokenize.js","webpack://nab/./assets/src/admin/pages/account/components/account-info/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/actions/index.ts","webpack://nab/./assets/src/admin/pages/account/components/actions/remove-license.tsx","webpack://nab/./assets/src/admin/pages/account/components/addons-popover/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/billing/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/invoice/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/layout/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/license-popover/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/loading-modal/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/page-title/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/plan/agency-plan.tsx","webpack://nab/./assets/src/admin/pages/account/components/plan/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/provider/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/site/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/sites/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/upgrade-popover/enterprise.tsx","webpack://nab/./assets/src/admin/pages/account/components/upgrade-popover/index.tsx","webpack://nab/./assets/src/admin/pages/account/components/upgrade-popover/regular.tsx","webpack://nab/./assets/src/admin/pages/account/help.ts","webpack://nab/./assets/src/admin/pages/account/store/actions.ts","webpack://nab/./assets/src/admin/pages/account/store/config.ts","webpack://nab/./assets/src/admin/pages/account/store/index.ts","webpack://nab/./assets/src/admin/pages/account/store/reducer.ts","webpack://nab/./assets/src/admin/pages/account/store/selectors.ts","webpack://nab/./assets/src/admin/pages/account/store/side-effects/actions.ts","webpack://nab/./assets/src/admin/pages/account/store/side-effects/resolvers.ts","webpack://nab/./assets/src/admin/pages/account/store/types.ts","webpack://nab/./packages/safe-wordpress/api-fetch.ts","webpack://nab/./packages/safe-wordpress/components.ts","webpack://nab/./packages/safe-wordpress/data.ts","webpack://nab/./packages/safe-wordpress/dom-ready.ts","webpack://nab/./packages/safe-wordpress/element.ts","webpack://nab/./packages/safe-wordpress/i18n.ts","webpack://nab/./packages/safe-wordpress/notices.ts","webpack://nab/./assets/src/admin/pages/account/components/account-info/style.scss?c51f","webpack://nab/./assets/src/admin/pages/account/components/addons-popover/style.scss?7303","webpack://nab/./assets/src/admin/pages/account/components/billing/style.scss?0899","webpack://nab/./assets/src/admin/pages/account/components/invoice/style.scss?553f","webpack://nab/./assets/src/admin/pages/account/components/layout/style.scss?a08e","webpack://nab/./assets/src/admin/pages/account/components/license-popover/style.scss?1b95","webpack://nab/./assets/src/admin/pages/account/components/loading-modal/style.scss?9733","webpack://nab/./assets/src/admin/pages/account/components/page-title/style.scss?e631","webpack://nab/./assets/src/admin/pages/account/components/plan/style.scss?2180","webpack://nab/./assets/src/admin/pages/account/components/site/style.scss?ea85","webpack://nab/./assets/src/admin/pages/account/components/sites/style.scss?efbe","webpack://nab/./assets/src/admin/pages/account/components/upgrade-popover/enterprise.scss?39af","webpack://nab/./assets/src/admin/pages/account/components/upgrade-popover/regular.scss?6091","webpack://nab/external window \"React\"","webpack://nab/external window \"lodash\"","webpack://nab/external window [\"nab\",\"components\"]","webpack://nab/external window [\"nab\",\"data\"]","webpack://nab/external window [\"nab\",\"date\"]","webpack://nab/external window [\"nab\",\"i18n\"]","webpack://nab/external window [\"nab\",\"utils\"]","webpack://nab/external window [\"wp\",\"apiFetch\"]","webpack://nab/external window [\"wp\",\"components\"]","webpack://nab/external window [\"wp\",\"data\"]","webpack://nab/external window [\"wp\",\"date\"]","webpack://nab/external window [\"wp\",\"domReady\"]","webpack://nab/external window [\"wp\",\"element\"]","webpack://nab/external window [\"wp\",\"i18n\"]","webpack://nab/external window [\"wp\",\"notices\"]","webpack://nab/external window [\"wp\",\"url\"]","webpack://nab/./node_modules/classnames/index.js","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/./assets/src/admin/pages/account/index.tsx"],"sourcesContent":["import { cloneElement, createElement, Fragment } from 'react';\nimport tokenize from './tokenize';\n\nfunction getCloseIndex(openIndex, tokens) {\n  const openToken = tokens[openIndex];\n  let nestLevel = 0;\n\n  for (let i = openIndex + 1; i < tokens.length; i++) {\n    const token = tokens[i];\n\n    if (token.value === openToken.value) {\n      if (token.type === 'componentOpen') {\n        nestLevel++;\n        continue;\n      }\n\n      if (token.type === 'componentClose') {\n        if (nestLevel === 0) {\n          return i;\n        }\n\n        nestLevel--;\n      }\n    }\n  } // if we get this far, there was no matching close token\n\n\n  throw new Error('Missing closing component token `' + openToken.value + '`');\n}\n\nfunction buildChildren(tokens, components) {\n  let children = [];\n  let openComponent;\n  let openIndex;\n\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n\n    if (token.type === 'string') {\n      children.push(token.value);\n      continue;\n    } // component node should at least be set\n\n\n    if (components[token.value] === undefined) {\n      throw new Error(`Invalid interpolation, missing component node: \\`${token.value}\\``);\n    } // should be either ReactElement or null (both type \"object\"), all other types deprecated\n\n\n    if (typeof components[token.value] !== 'object') {\n      throw new Error(`Invalid interpolation, component node must be a ReactElement or null: \\`${token.value}\\``);\n    } // we should never see a componentClose token in this loop\n\n\n    if (token.type === 'componentClose') {\n      throw new Error(`Missing opening component token: \\`${token.value}\\``);\n    }\n\n    if (token.type === 'componentOpen') {\n      openComponent = components[token.value];\n      openIndex = i;\n      break;\n    } // componentSelfClosing token\n\n\n    children.push(components[token.value]);\n    continue;\n  }\n\n  if (openComponent) {\n    const closeIndex = getCloseIndex(openIndex, tokens);\n    const grandChildTokens = tokens.slice(openIndex + 1, closeIndex);\n    const grandChildren = buildChildren(grandChildTokens, components);\n    const clonedOpenComponent = /*#__PURE__*/cloneElement(openComponent, {}, grandChildren);\n    children.push(clonedOpenComponent);\n\n    if (closeIndex < tokens.length - 1) {\n      const siblingTokens = tokens.slice(closeIndex + 1);\n      const siblings = buildChildren(siblingTokens, components);\n      children = children.concat(siblings);\n    }\n  }\n\n  children = children.filter(Boolean);\n\n  if (children.length === 0) {\n    return null;\n  }\n\n  if (children.length === 1) {\n    return children[0];\n  }\n\n  return /*#__PURE__*/createElement(Fragment, null, ...children);\n}\n\nexport default function interpolate(options) {\n  const {\n    mixedString,\n    components,\n    throwErrors\n  } = options;\n\n  if (!components) {\n    return mixedString;\n  }\n\n  if (typeof components !== 'object') {\n    if (throwErrors) {\n      throw new Error(`Interpolation Error: unable to process \\`${mixedString}\\` because components is not an object`);\n    }\n\n    return mixedString;\n  }\n\n  const tokens = tokenize(mixedString);\n\n  try {\n    return buildChildren(tokens, components);\n  } catch (error) {\n    if (throwErrors) {\n      throw new Error(`Interpolation Error: unable to process \\`${mixedString}\\` because of error \\`${error.message}\\``);\n    }\n\n    return mixedString;\n  }\n}","function identifyToken(item) {\n  // {{/example}}\n  if (item.startsWith('{{/')) {\n    return {\n      type: 'componentClose',\n      value: item.replace(/\\W/g, '')\n    };\n  } // {{example /}}\n\n\n  if (item.endsWith('/}}')) {\n    return {\n      type: 'componentSelfClosing',\n      value: item.replace(/\\W/g, '')\n    };\n  } // {{example}}\n\n\n  if (item.startsWith('{{')) {\n    return {\n      type: 'componentOpen',\n      value: item.replace(/\\W/g, '')\n    };\n  }\n\n  return {\n    type: 'string',\n    value: item\n  };\n}\n\nexport default function tokenize(mixedString) {\n  const tokenStrings = mixedString.split(/(\\{\\{\\/?\\s*\\w+\\s*\\/?\\}\\})/g); // split to components and strings\n\n  return tokenStrings.map(identifyToken);\n}","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { Button, Dashicon } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { formatI18nDate } from '@nab/date';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { LicensePopover } from '../license-popover';\nimport { RemoveLicenseAction } from '../actions';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport const AccountInfo = (): JSX.Element | null => {\n\tconst isVisible = useIsVisible();\n\tconst fullname = useFullName();\n\tconst email = useEmail();\n\tconst startDate = useStartDate();\n\tconst license = useLicense();\n\tconst photo = usePhoto();\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-info\">\n\t\t\t<h3 className=\"nab-info__title\">\n\t\t\t\t{ _x(\n\t\t\t\t\t'Account Information',\n\t\t\t\t\t'title (account)',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</h3>\n\n\t\t\t<div className=\"nab-info__container\">\n\t\t\t\t<div className=\"nab-info__profile\">\n\t\t\t\t\t<div className=\"nab-info__picture nab-first-letter-a\">\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"nab-info__actual-picture\"\n\t\t\t\t\t\t\tstyle={ {\n\t\t\t\t\t\t\t\tbackgroundImage: `url(${ photo })`,\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"nab-info__details\">\n\t\t\t\t\t<p className=\"nab-info__name\">{ fullname }</p>\n\t\t\t\t\t<p className=\"nab-info__email\">\n\t\t\t\t\t\t<Dashicon icon=\"email\" className=\"nab-info__icon\" />\n\t\t\t\t\t\t{ email }\n\t\t\t\t\t</p>\n\t\t\t\t\t<p className=\"nab-info__creation-date\">\n\t\t\t\t\t\t<Dashicon icon=\"calendar\" className=\"nab-info__icon\" />\n\t\t\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\t\t\t/* translators: date */\n\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t'Member since %s.',\n\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t`{{date}}${ formatI18nDate(\n\t\t\t\t\t\t\t\t\tstartDate\n\t\t\t\t\t\t\t\t) }{{/date}}`\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tcomponents: {\n\t\t\t\t\t\t\t\tdate: <strong />,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t</p>\n\t\t\t\t\t<div className=\"nab-info__license\">\n\t\t\t\t\t\t<Dashicon\n\t\t\t\t\t\t\ticon=\"admin-network\"\n\t\t\t\t\t\t\tclassName=\"nab-info__icon\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<code\n\t\t\t\t\t\t\ttitle={ _x(\n\t\t\t\t\t\t\t\t'License Key',\n\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ license }\n\t\t\t\t\t\t</code>\n\t\t\t\t\t\t<div className=\"nab-info__change-license\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\tonClick={ () => setPopoverVisible( true ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t'Change',\n\t\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<LicensePopover\n\t\t\t\t\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t\t\t\t\t\tposition=\"bottom center\"\n\t\t\t\t\t\t\t\tonClick={ () => setPopoverVisible( false ) }\n\t\t\t\t\t\t\t\tonFocusOutside={ () =>\n\t\t\t\t\t\t\t\t\tsetPopoverVisible( false )\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"nab-info__remove-license\">\n\t\t\t\t\t\t\t<RemoveLicenseAction\n\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t\t\t'Remove',\n\t\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsVisible = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getMode, isAgency, isAgencyFullViewEnabled } =\n\t\t\tselect( NAB_ACCOUNT );\n\t\tconst isSubscribed = getMode() === 'regular';\n\t\tconst isAgencySummary = isAgency() && ! isAgencyFullViewEnabled();\n\t\treturn isSubscribed && ! isAgencySummary;\n\t} );\n\nconst useFullName = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getFullname() );\n\nconst useEmail = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getEmail() );\n\nconst useStartDate = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getStartDate() ||\n\t\t\tselect( NAB_DATA ).getToday()\n\t);\n\nconst useLicense = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getLicense() );\n\nconst usePhoto = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getPhoto() );\n","export * from './remove-license';\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { Button } from '@safe-wordpress/components';\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { ConfirmationDialog } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport const RemoveLicenseAction = ( {\n\tlabel,\n\t...buttonProps\n}: Button.Props ): JSX.Element => {\n\tconst [ isVisible, setVisible ] = useState( false );\n\n\tconst siteId = useSelect( ( select ) =>\n\t\tselect( NAB_DATA ).getPluginSetting( 'siteId' )\n\t);\n\tconst isLocked = useSelect( ( select ) =>\n\t\tselect( NAB_ACCOUNT ).isLocked()\n\t);\n\tconst { unlinkSite } = useDispatch( NAB_ACCOUNT );\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tonClick={ () => setVisible( true ) }\n\t\t\t\tdisabled={ isLocked }\n\t\t\t\t{ ...buttonProps }\n\t\t\t>\n\t\t\t\t{ label }\n\t\t\t</Button>\n\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Downgrade to Free Version?',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ _x(\n\t\t\t\t\t'This action will remove the license from this site so that you can use it somewhere else. Nelio A/B Testing will remain active on this site, but you will be using the free version instead. Do you want to continue?',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Downgrade',\n\t\t\t\t\t'command (remove license)',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tcancelLabel={ _x( 'Back', 'command', 'nelio-ab-testing' ) }\n\t\t\t\tisDestructive\n\t\t\t\tonCancel={ () => setVisible( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tvoid unlinkSite( siteId );\n\t\t\t\t\tsetVisible( false );\n\t\t\t\t} }\n\t\t\t\tisOpen={ isVisible }\n\t\t\t/>\n\t\t</>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { useState } from '@safe-wordpress/element';\nimport { Button, Popover, Spinner } from '@safe-wordpress/components';\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\nimport type { Popover as PopoverProps } from '@safe-wordpress/components';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { ConfirmationDialog } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { getLocale } from '@nab/date';\nimport { createErrorNotice } from '@nab/utils';\nimport type { Currency, FSLocalizedString } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport type AddonsPopoverProps = {\n\treadonly isOpen?: boolean;\n\treadonly position: PopoverProps.Position;\n\treadonly onFocusOutside: () => void;\n};\n\nexport const AddonsPopover = ( {\n\tisOpen,\n\tposition,\n\tonFocusOutside,\n}: AddonsPopoverProps ): JSX.Element | null => {\n\tconst isLoading = useIsLoading();\n\tconst { addons, enabledAddons } = useAddons();\n\tconst [ isConfirmationOpen, setIsConfirmationOpen ] = useState( false );\n\tconst [ selectedAddon, setSelectedAddon ] = useState< SelectedAddon >();\n\tconst currency = useCurrency();\n\tconst isLocked = useSelect( ( select ) =>\n\t\tselect( NAB_ACCOUNT ).isLocked()\n\t);\n\tconst { lock, unlock } = useDispatch( NAB_ACCOUNT );\n\n\tif ( isConfirmationOpen ) {\n\t\tif ( ! selectedAddon ) {\n\t\t\treturn null;\n\t\t} //end if\n\n\t\tconst { displayName, displayPrice } = selectedAddon;\n\t\treturn (\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ sprintf(\n\t\t\t\t\t/* translators: addon name */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'Upgrade your subscription to include %s?',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tdisplayName\n\t\t\t\t) }\n\t\t\t\ttext={ interpolateComponents( {\n\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\t/* translators: 1 -> addon name, 2 -> addon price */\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'This will include the %1$s addon to your subscription for an additional charge of %2$s. You will be charged today.',\n\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tdisplayName,\n\t\t\t\t\t\t`{{strong}}${ displayPrice }{{/strong}}`\n\t\t\t\t\t),\n\t\t\t\t\tcomponents: {\n\t\t\t\t\t\tstrong: <strong />,\n\t\t\t\t\t},\n\t\t\t\t} ) }\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Upgrade Now',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tisOpen={ isConfirmationOpen }\n\t\t\t\tisConfirmBusy={ isLocked }\n\t\t\t\tonCancel={ () => setIsConfirmationOpen( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tlock();\n\t\t\t\t\tvoid apiFetch( {\n\t\t\t\t\t\tpath: '/nab/v1/activate/recordings',\n\t\t\t\t\t\tmethod: 'POST',\n\t\t\t\t\t} )\n\t\t\t\t\t\t.then( () => window.location.reload() )\n\t\t\t\t\t\t.catch( ( error ) => createErrorNotice( error ) )\n\t\t\t\t\t\t.finally( () => {\n\t\t\t\t\t\t\tunlock();\n\t\t\t\t\t\t\tsetSelectedAddon( undefined );\n\t\t\t\t\t\t\tsetIsConfirmationOpen( false );\n\t\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t/>\n\t\t);\n\t}\n\n\tif ( ! isOpen ) {\n\t\treturn null;\n\t} //end if\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tclassName=\"nab-addons nab-addons--loading\"\n\t\t\t\tnoArrow={ false }\n\t\t\t\tposition={ position }\n\t\t\t\tonFocusOutside={ onFocusOutside }\n\t\t\t>\n\t\t\t\t<Spinner />\n\t\t\t</Popover>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"nab-addons\"\n\t\t\tnoArrow={ false }\n\t\t\tposition={ position }\n\t\t\tonFocusOutside={ onFocusOutside }\n\t\t>\n\t\t\t<div className=\"nab-addons__container\">\n\t\t\t\t<div className=\"nab-addons__container-title\">\n\t\t\t\t\t{ _x( 'Addons', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t</div>\n\t\t\t\t<div className=\"nab-addons__container-list\">\n\t\t\t\t\t{ addons.map( ( { id, displayName, price, period } ) => (\n\t\t\t\t\t\t<div className=\"nab-addons__product\" key={ id }>\n\t\t\t\t\t\t\t<div className=\"nab-addons__product-details\">\n\t\t\t\t\t\t\t\t<div className=\"nab-addons__product-name\">\n\t\t\t\t\t\t\t\t\t{ localize( displayName ) }\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{ ! enabledAddons.includes( id ) && (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"nab-addons__product-price\"\n\t\t\t\t\t\t\t\t\t\ttitle={ currency }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ formatPrice(\n\t\t\t\t\t\t\t\t\t\t\tprice[ currency ] || 0,\n\t\t\t\t\t\t\t\t\t\t\tcurrency,\n\t\t\t\t\t\t\t\t\t\t\tperiod\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"nab-addons__product-action\">\n\t\t\t\t\t\t\t\t{ enabledAddons.includes( id ) ? (\n\t\t\t\t\t\t\t\t\t<span className=\"nab-addons__product--enabled\">\n\t\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t\t'Enabled',\n\t\t\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={ isLocked }\n\t\t\t\t\t\t\t\t\t\tisBusy={ isLocked }\n\t\t\t\t\t\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedAddon( {\n\t\t\t\t\t\t\t\t\t\t\t\tdisplayName:\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalize( displayName ),\n\t\t\t\t\t\t\t\t\t\t\t\tdisplayPrice: formatPrice(\n\t\t\t\t\t\t\t\t\t\t\t\t\tprice[ currency ] || 0,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency,\n\t\t\t\t\t\t\t\t\t\t\t\t\tperiod\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t} );\n\t\t\t\t\t\t\t\t\t\t\tsetIsConfirmationOpen( true );\n\t\t\t\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t\t'Enable',\n\t\t\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) ) }\n\t\t\t\t</div>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"screen-reader-text\"\n\t\t\t\t\tonClick={ onFocusOutside }\n\t\t\t\t>\n\t\t\t\t\t{ _x( 'Close addons', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Popover>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\ntype SelectedAddon = {\n\treadonly displayName: string;\n\treadonly displayPrice: string;\n};\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_DATA ).hasFinishedResolution( 'getProducts' )\n\t);\n\nconst useAddons = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getProducts } = select( NAB_DATA );\n\t\tconst { getSubscriptionProduct, getSubscriptionAddons } =\n\t\t\tselect( NAB_ACCOUNT );\n\n\t\tconst currentProduct = getSubscriptionProduct();\n\t\tconst enabledAddons = getSubscriptionAddons();\n\t\tconst products = getProducts();\n\t\tconst allowedAddons =\n\t\t\tproducts.find( ( p ) => p.id === currentProduct )?.allowedAddons ||\n\t\t\t[];\n\t\treturn {\n\t\t\taddons: products.filter(\n\t\t\t\t( p ) => p.isAddon && allowedAddons.includes( p.id )\n\t\t\t),\n\t\t\tenabledAddons,\n\t\t};\n\t} );\n\nconst useCurrency = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getCurrency() || 'USD' );\n\n// =======\n// HELPERS\n// =======\n\nconst formatPrice = (\n\tprice: number,\n\tcurrency: Currency,\n\tperiod?: 'month' | 'year'\n) => {\n\tconst periodText =\n\t\tperiod === 'month'\n\t\t\t? _x( ' / month', 'text', 'nelio-ab-testing' )\n\t\t\t: _x( ' / year', 'text', 'nelio-ab-testing' );\n\tconst priceText = 'EUR' === currency ? `${ price }` : `US$${ price }`;\n\treturn `${ priceText } ${ periodText }`.trim();\n};\n\nconst localize = ( str: FSLocalizedString ) => {\n\tconst locale = getLocale();\n\treturn locale.startsWith( 'es' ) ? str.es : str.en;\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { ExternalLink, Spinner } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport { Invoice } from '../invoice';\nimport './style.scss';\n\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport const Billing = (): JSX.Element | null => {\n\tconst isVisible = useIsVisible();\n\tconst isLoading = useIsLoading();\n\tconst invoices = useInvoices();\n\tconst urlToManagePayments = usePaymentsUrl();\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-billing\">\n\t\t\t<h3 className=\"nab-billing__title\">\n\t\t\t\t{ _x( 'Billing History', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t{ isLoading && <Spinner /> }\n\t\t\t</h3>\n\n\t\t\t{ ! isLoading && (\n\t\t\t\t<>\n\t\t\t\t\t<ExternalLink\n\t\t\t\t\t\tclassName=\"nab-billing__action\"\n\t\t\t\t\t\thref={ urlToManagePayments }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ _x( 'Manage Payments', 'user', 'nelio-ab-testing' ) }\n\t\t\t\t\t</ExternalLink>\n\n\t\t\t\t\t<table className=\"nab-billing__container\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th className=\"nab-billing__reference\">\n\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t'Invoice Reference',\n\t\t\t\t\t\t\t\t\t\t'text (account, billing table title)',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"nab-billing__date\">\n\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t'Date',\n\t\t\t\t\t\t\t\t\t\t'text (account, billing table title)',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t<th className=\"nab-billing__total\">\n\t\t\t\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t\t\t\t'Total',\n\t\t\t\t\t\t\t\t\t\t'text (account, billing table title)',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\n\t\t\t\t\t\t<tbody className=\"invoice-list\">\n\t\t\t\t\t\t\t{ invoices.map( ( invoice ) => (\n\t\t\t\t\t\t\t\t<Invoice\n\t\t\t\t\t\t\t\t\tkey={ invoice.reference }\n\t\t\t\t\t\t\t\t\t{ ...invoice }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) ) }\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsVisible = () =>\n\tuseSelect( ( select ) => {\n\t\tconst {\n\t\t\tgetMode,\n\t\t\tisAgency,\n\t\t\tisAgencyFullViewEnabled,\n\t\t\tisSubscriptionDeprecated,\n\t\t} = select( NAB_ACCOUNT );\n\n\t\tconst isSubscribed = getMode() === 'regular';\n\t\tconst isDeprecated = isSubscriptionDeprecated();\n\t\tconst isAgencySummary = isAgency() && ! isAgencyFullViewEnabled();\n\t\treturn isSubscribed && ! isDeprecated && ! isAgencySummary;\n\t} );\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_ACCOUNT ).hasFinishedResolution( 'getInvoices', [\n\t\t\t\tselect( NAB_ACCOUNT ).getSubscriptionId(),\n\t\t\t] )\n\t);\n\nconst useInvoices = () =>\n\tuseSelect( ( select ) =>\n\t\tselect( NAB_ACCOUNT ).getInvoices(\n\t\t\tselect( NAB_ACCOUNT ).getSubscriptionId()\n\t\t)\n\t);\n\nconst usePaymentsUrl = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getUrlToManagePayments() );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport type { Invoice as InvoiceProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport const Invoice = ( {\n\tinvoiceUrl,\n\treference,\n\tchargeDate,\n\tisRefunded,\n\tsubtotalDisplay,\n}: InvoiceProps ): JSX.Element => (\n\t<tr className=\"nab-invoice\">\n\t\t<td className=\"nab-invoice__reference\">\n\t\t\t<a\n\t\t\t\thref={ invoiceUrl }\n\t\t\t\tclassName=\"nab-invoice__link\"\n\t\t\t\ttarget=\"_blank\"\n\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t>\n\t\t\t\t{ reference }\n\t\t\t</a>\n\t\t</td>\n\n\t\t<td className=\"nab-invoice__date\">{ chargeDate }</td>\n\n\t\t<td className=\"nab-invoice__total\">\n\t\t\t{ isRefunded && (\n\t\t\t\t<span className=\"nab-invoice__label\">\n\t\t\t\t\t{ _x( '(Refunded)', 'text (invoice)', 'nelio-ab-testing' ) }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t<span\n\t\t\t\tclassName={ classnames( 'nab-invoice__total-value', {\n\t\t\t\t\t'nab-invoice__total-value--refunded': isRefunded,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t{ subtotalDisplay }\n\t\t\t</span>\n\t\t</td>\n\t</tr>\n);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\n\n/**\n * External dependencies\n */\nimport type { SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nimport { Plan } from '../plan';\nimport { AccountInfo } from '../account-info';\nimport { Sites } from '../sites';\nimport { Billing } from '../billing';\nimport { LoadingModal } from '../loading-modal';\n\nexport type LayoutProps = {\n\treadonly siteId: SiteId;\n};\n\nexport const Layout = ( { siteId }: LayoutProps ): JSX.Element => (\n\t<div className=\"nab-account-container\">\n\t\t<Plan siteId={ siteId } />\n\t\t<AccountInfo />\n\t\t<Sites />\n\t\t<Billing />\n\t\t<LoadingModal />\n\t</div>\n);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { useDispatch } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { Popover, TextControl, Button } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\nimport type { Popover as PopoverProps } from '@safe-wordpress/components';\n\n/**\n * External dependencies\n */\nimport { trim } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nconst LICENSE_LENGTH = 21;\nconst OLD_LICENSE_LENGTH = 26;\n\nexport type LicensePopoverProps = {\n\treadonly isOpen?: boolean;\n\treadonly position: PopoverProps.Position;\n\treadonly onClick: () => void;\n\treadonly onFocusOutside: () => void;\n};\n\nexport const LicensePopover = ( {\n\tisOpen,\n\tposition,\n\tonClick,\n\tonFocusOutside,\n}: LicensePopoverProps ): JSX.Element | null => {\n\tconst [ license, setLicense ] = useState( '' );\n\tconst { linkSite } = useDispatch( NAB_ACCOUNT );\n\n\tif ( ! isOpen ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"nab-license-form\"\n\t\t\tnoArrow={ false }\n\t\t\tposition={ position }\n\t\t\tonFocusOutside={ onFocusOutside }\n\t\t>\n\t\t\t<TextControl\n\t\t\t\tvalue={ license }\n\t\t\t\tplaceholder={ _x(\n\t\t\t\t\t'Type your license here',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tmaxLength={ Math.max( LICENSE_LENGTH, OLD_LICENSE_LENGTH ) }\n\t\t\t\tclassName=\"nab-license-form__text-control\"\n\t\t\t\tonChange={ ( v ) => setLicense( trim( v ) ) }\n\t\t\t/>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tclassName=\"nab-license-form__button\"\n\t\t\t\tdisabled={\n\t\t\t\t\tlicense.length !== LICENSE_LENGTH &&\n\t\t\t\t\tlicense.length !== OLD_LICENSE_LENGTH\n\t\t\t\t}\n\t\t\t\tonClick={ () => {\n\t\t\t\t\tonClick();\n\t\t\t\t\tvoid linkSite( license );\n\t\t\t\t} }\n\t\t\t>\n\t\t\t\t{ _x( 'Apply', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t</Popover>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { Modal, Spinner } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { noop } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport const LoadingModal = (): JSX.Element | null => {\n\tconst isLocked = useSelect( ( select ) =>\n\t\tselect( NAB_ACCOUNT ).isLocked()\n\t);\n\n\tif ( ! isLocked ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"nab-locked\"\n\t\t\ttitle={ _x( 'Loading', 'text', 'nelio-ab-testing' ) }\n\t\t\tshouldCloseOnEsc={ false }\n\t\t\tshouldCloseOnClickOutside={ false }\n\t\t\tisDismissible={ false }\n\t\t\tonRequestClose={ noop }\n\t\t>\n\t\t\t<Spinner />\n\t\t</Modal>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { IconButton, Snackbar } from '@safe-wordpress/components';\nimport { useEffect, useState } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport type PageTitleProps = {\n\treadonly isSubscribed: boolean;\n\treadonly siteId: SiteId;\n};\n\nexport const PageTitle = ( {\n\tisSubscribed,\n\tsiteId,\n}: PageTitleProps ): JSX.Element => {\n\tconst [ copied, setCopied ] = useState( false );\n\n\tuseEffect( () => {\n\t\tconst timeout = setTimeout( () => setCopied( false ), 1500 );\n\t\treturn () => clearTimeout( timeout );\n\t}, [ copied ] );\n\n\treturn (\n\t\t<h1 className=\"wp-heading-inline nelio-ab-testing-page-title\">\n\t\t\t<span>\n\t\t\t\t{ isSubscribed\n\t\t\t\t\t? _x( 'Account Details', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t: _x(\n\t\t\t\t\t\t\t'Upgrade to Nelio A/B Testing Premium',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t  ) }\n\t\t\t</span>\n\t\t\t<span className=\"nelio-ab-testing-page-title__support-key\">\n\t\t\t\t<strong>\n\t\t\t\t\t{ _x( 'Support Key:', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t</strong>\n\t\t\t\t<code>{ siteId }</code>\n\t\t\t\t{ !! navigator.clipboard?.writeText && (\n\t\t\t\t\t<IconButton\n\t\t\t\t\t\ticon=\"admin-page\"\n\t\t\t\t\t\tonClick={ () =>\n\t\t\t\t\t\t\t! copied &&\n\t\t\t\t\t\t\tvoid navigator.clipboard\n\t\t\t\t\t\t\t\t.writeText( siteId )\n\t\t\t\t\t\t\t\t.then( () => setCopied( true ) )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</span>\n\n\t\t\t{ copied && (\n\t\t\t\t<Snackbar className=\"nelio-ab-testing-page-title__support-key-copied\">\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Copied!',\n\t\t\t\t\t\t'text (support key)',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</Snackbar>\n\t\t\t) }\n\t\t</h1>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { Button, Popover, TextControl } from '@safe-wordpress/components';\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { trim } from 'lodash';\nimport { QuotaMeter, ConfirmationDialog } from '@nab/components';\nimport type { Account, SiteId } from '@nab/types';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport type AgencyPlanProps = {\n\treadonly siteId: SiteId;\n};\n\nexport const AgencyPlan = ( { siteId }: AgencyPlanProps ): JSX.Element => {\n\tconst productDisplay = useSelect( ( select ) =>\n\t\tselect( NAB_ACCOUNT ).getProductDisplay()\n\t);\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-plan\">\n\t\t\t<div className=\"nab-plan__content\">\n\t\t\t\t<h3 className=\"nab-plan__title\">\n\t\t\t\t\t{ productDisplay }\n\t\t\t\t\t<span className=\"nab-plan__period\">\n\t\t\t\t\t\t{ _x( 'Agency Plan', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\t</span>\n\t\t\t\t</h3>\n\t\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Youre currently using an agency subscription plan.',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t\t<QuotaMeter />\n\t\t\t</div>\n\t\t\t<div className=\"nab-plan__actions\">\n\t\t\t\t<DowngradeButton siteId={ siteId } />\n\t\t\t\t<ViewDetailsButton />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst DowngradeButton = ( { siteId }: { siteId: SiteId } ) => {\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\tconst { unlinkSite } = useDispatch( NAB_ACCOUNT );\n\n\tconst open = () => setIsOpen( true );\n\tconst close = () => setIsOpen( false );\n\tconst confirm = () => {\n\t\tclose();\n\t\tvoid unlinkSite( siteId );\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Button isDestructive className=\"nab-plan__action\" onClick={ open }>\n\t\t\t\t{ _x(\n\t\t\t\t\t'Downgrade to Free Version',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</Button>\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Downgrade to Free version?',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ _x(\n\t\t\t\t\t'This will remove the subscription license from the site and youll be using Nelio A/B Testings free version.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Downgrade',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tisOpen={ isOpen }\n\t\t\t\tonCancel={ close }\n\t\t\t\tonConfirm={ confirm }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst ViewDetailsButton = () => {\n\tconst [ isOpen, setIsOpen ] = useState( false );\n\tconst [ license, setLicense ] = useState( '' );\n\tconst [ validating, setValidating ] = useState( false );\n\tconst { enableAgencyFullView, receiveAccount } = useDispatch( NAB_ACCOUNT );\n\n\tconst open = () => setIsOpen( true );\n\tconst close = () => setIsOpen( false );\n\tconst validate = () => {\n\t\tsetValidating( true );\n\t\tvoid apiFetch< Account >( {\n\t\t\tpath: '/nab/v1/account/agency',\n\t\t\tmethod: 'POST',\n\t\t\tdata: { license },\n\t\t} )\n\t\t\t.then( ( account ) => {\n\t\t\t\treceiveAccount( account );\n\t\t\t\tenableAgencyFullView();\n\t\t\t\tsetValidating( false );\n\t\t\t\tclose();\n\t\t\t} )\n\t\t\t.catch( () => {\n\t\t\t\tsetValidating( false );\n\t\t\t} );\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ open }\n\t\t\t>\n\t\t\t\t{ _x( 'View Details', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t{ isOpen && (\n\t\t\t\t<Popover\n\t\t\t\t\tclassName=\"nab-license-form\"\n\t\t\t\t\tnoArrow={ false }\n\t\t\t\t\tposition=\"bottom left\"\n\t\t\t\t>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tvalue={ license }\n\t\t\t\t\t\tplaceholder={ _x(\n\t\t\t\t\t\t\t'Type your license here',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tclassName=\"nab-license-form__text-control\"\n\t\t\t\t\t\tonChange={ ( v ) => setLicense( trim( v ) ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tisBusy={ validating }\n\t\t\t\t\t\tclassName=\"nab-license-form__button\"\n\t\t\t\t\t\tonClick={ validate }\n\t\t\t\t\t\tdisabled={ ! license.length || validating }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ validating\n\t\t\t\t\t\t\t? _x( 'Validating', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t\t\t: _x( 'Validate', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t</Popover>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { Button, ExternalLink } from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport {\n\tQuotaMeter,\n\tQuotaPurchasePopover,\n\tConfirmationDialog,\n} from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { formatI18nDate } from '@nab/date';\nimport { getSubscribeLabel, getSubscribeLink } from '@nab/utils';\nimport type { SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { AgencyPlan } from './agency-plan';\n\nimport { AddonsPopover } from '../addons-popover';\nimport { LicensePopover } from '../license-popover';\nimport { UpgradePopover } from '../upgrade-popover';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport type PlanProps = {\n\treadonly siteId: SiteId;\n};\n\nexport const Plan = ( { siteId }: PlanProps ): JSX.Element => {\n\tconst quota = useSubscriptionQuota();\n\tconst isAgencySummary = useIsAgencySummary();\n\n\tif ( isAgencySummary ) {\n\t\treturn <AgencyPlan siteId={ siteId } />;\n\t} //end if\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-plan\">\n\t\t\t<div className=\"nab-plan__content\">\n\t\t\t\t<Title />\n\t\t\t\t<Explanation />\n\t\t\t\t<QuotaMeter\n\t\t\t\t\tdisabled={ quota.isLoading }\n\t\t\t\t\tsubscriptionQuota={ quota.data }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<Actions />\n\t\t</div>\n\t);\n};\n\n// ============\n// HELPER VIEWS\n// ============\n\nconst Title = () => {\n\tconst { period } = usePeriodAndPlan();\n\tconst productDisplay = useProductDisplay();\n\tconst state = useSubscriptionState();\n\tconst isFree = useIsFree();\n\n\tconst periodLabel =\n\t\t'month' === period\n\t\t\t? _x( 'Monthly', 'text', 'nelio-ab-testing' )\n\t\t\t: _x( 'Yearly', 'text', 'nelio-ab-testing' );\n\n\treturn (\n\t\t<h3 className=\"nab-plan__title\">\n\t\t\t{ productDisplay }\n\t\t\t<span className=\"nab-plan__period\">\n\t\t\t\t{ isFree\n\t\t\t\t\t? _x( 'Free', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t: periodLabel }\n\t\t\t</span>\n\n\t\t\t{ 'canceled' === state && (\n\t\t\t\t<span className=\"nab-plan__state\">\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Canceled',\n\t\t\t\t\t\t'text (account state)',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</span>\n\t\t\t) }\n\t\t</h3>\n\t);\n};\n\nconst Explanation = () => {\n\tconst isFree = useIsFree();\n\tconst isInvitation = useIsInvitation();\n\tconst state = useSubscriptionState();\n\tconst isSubscriptionDeprecated = useIsSubscriptionDeprecated();\n\tconst deactivationDate = useDeactivationDate();\n\tconst nextChargeDate = useNextChargeDate();\n\tconst nextChargeTotal = useNextChargeTotal();\n\n\tif ( isFree ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t{ _x(\n\t\t\t\t\t'You are using the free version of Nelio A/B Testing.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\tif ( isInvitation ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\t/* translators: 1 -> price and currency; 2 -> date */\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'Youre currently using a premium version of Nelio A/B Testing for free. This invitation will end on %s and the plugin will be downgraded to a free plan. Please consider subscribing before that.',\n\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t`{{date}}${ formatI18nDate( nextChargeDate ) }{{/date}}`\n\t\t\t\t\t),\n\t\t\t\t\tcomponents: {\n\t\t\t\t\t\tdate: <span className=\"nab-plan__renewal-date\" />,\n\t\t\t\t\t},\n\t\t\t\t} ) }\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\tif ( 'canceled' === state ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t\t/* translators: date */\n\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t'Your subscription will end on %s.',\n\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t`{{date}}${ formatI18nDate(\n\t\t\t\t\t\t\tdeactivationDate\n\t\t\t\t\t\t) }{{/date}}`\n\t\t\t\t\t),\n\t\t\t\t\tcomponents: {\n\t\t\t\t\t\tdate: <span className=\"nab-plan__renewal-date\" />,\n\t\t\t\t\t},\n\t\t\t\t} ) }\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\tif ( isSubscriptionDeprecated ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__renewal\">\n\t\t\t\t{ interpolateComponents( {\n\t\t\t\t\tmixedString: _x(\n\t\t\t\t\t\t'{{link}}Contact us{{/link}} to get additional features to manage your account.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tcomponents: {\n\t\t\t\t\t\tlink: (\n\t\t\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t\t\t<a href=\"mailto:support@neliosoftware.com\" />\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t} ) }\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<div className=\"nab-plan__renewal\">\n\t\t\t{ interpolateComponents( {\n\t\t\t\tmixedString: sprintf(\n\t\t\t\t\t/* translators: 1 -> price and currency; 2 -> date */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'Next charge will be %1$s on %2$s.',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\t`{{money}}${ nextChargeTotal }{{/money}}`,\n\t\t\t\t\t`{{date}}${ formatI18nDate( nextChargeDate ) }{{/date}}`\n\t\t\t\t),\n\t\t\t\tcomponents: {\n\t\t\t\t\tdate: <span className=\"nab-plan__renewal-date\" />,\n\t\t\t\t\tmoney: <span className=\"nab-plan__renewal-amount\" />,\n\t\t\t\t},\n\t\t\t} ) }\n\t\t</div>\n\t);\n};\n\nconst Actions = () => {\n\tconst isFree = useIsFree();\n\tconst isInvitation = useIsInvitation();\n\tconst state = useSubscriptionState();\n\tconst isSubscriptionDeprecated = useIsSubscriptionDeprecated();\n\n\tif ( isSubscriptionDeprecated ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__actions\">\n\t\t\t\t<BuyMoreQuotaLink />\n\t\t\t\t<UpgradeLink />\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\tif ( isFree || isInvitation ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__actions\">\n\t\t\t\t<AddLicenseAction />\n\t\t\t\t<SubscribeAction />\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\tif ( 'canceled' === state ) {\n\t\treturn (\n\t\t\t<div className=\"nab-plan__actions\">\n\t\t\t\t<ReactivateSubscriptionAction />\n\t\t\t</div>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<div className=\"nab-plan__actions nab-plan__actions--separated\">\n\t\t\t<CancelSubscriptionAction />\n\t\t\t<div className=\"nab-plan__actions-group\">\n\t\t\t\t<BuyMoreQuotaAction />\n\t\t\t\t<AddonsAction />\n\t\t\t\t<UpgradeAction />\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst AddLicenseAction = () => {\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\n\treturn (\n\t\t<span className=\"nab-plan__action-container\">\n\t\t\t<Button\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setPopoverVisible( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Use License', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<LicensePopover\n\t\t\t\tposition=\"bottom center\"\n\t\t\t\tonFocusOutside={ () => setPopoverVisible( false ) }\n\t\t\t\tonClick={ () => setPopoverVisible( false ) }\n\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t/>\n\t\t</span>\n\t);\n};\n\nconst SubscribeAction = () => {\n\tconst today = useToday();\n\n\treturn (\n\t\t<ExternalLink\n\t\t\tclassName=\"nab-plan__action components-button is-primary\"\n\t\t\thref={ getSubscribeLink( today ) }\n\t\t>\n\t\t\t{ getSubscribeLabel( today ) }\n\t\t</ExternalLink>\n\t);\n};\n\nconst BuyMoreQuotaLink = () => {\n\tconst { plan } = usePeriodAndPlan();\n\n\tif ( 'enterprise' === plan ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<ExternalLink\n\t\t\tclassName=\"nab-plan__action components-button is-secondary\"\n\t\t\thref=\"mailto:support@neliosoftware.com?subject=Buy%20Quota\"\n\t\t>\n\t\t\t{ _x( 'Buy More Quota', 'command', 'nelio-ab-testing' ) }\n\t\t</ExternalLink>\n\t);\n};\n\nconst UpgradeLink = () => {\n\treturn (\n\t\t<ExternalLink\n\t\t\tclassName=\"nab-plan__action components-button is-primary\"\n\t\t\thref=\"mailto:support@neliosoftware.com?subject=Upgrade%20Subscription\"\n\t\t>\n\t\t\t{ _x( 'Upgrade Subscription', 'command', 'nelio-ab-testing' ) }\n\t\t</ExternalLink>\n\t);\n};\n\nconst CancelSubscriptionAction = () => {\n\tconst [ isDialogOpen, setDialogOpen ] = useState( false );\n\tconst { cancelSubscription } = useDispatch( NAB_ACCOUNT );\n\tconst nextChargeDate = useNextChargeDate();\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tisDestructive\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setDialogOpen( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Cancel Subscription', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Cancel Subscription?',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ sprintf(\n\t\t\t\t\t/* translators: a date */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'Canceling your subscription will cause it not to renew. If you cancel your subscrition, it will continue until %s. Then, the subscription will expire and will not be invoiced again. Do you want to cancel your subscription?',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tformatI18nDate( nextChargeDate )\n\t\t\t\t) }\n\t\t\t\tisDestructive\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Cancel Subscription',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tcancelLabel={ _x( 'Back', 'command', 'nelio-ab-testing' ) }\n\t\t\t\tonCancel={ () => setDialogOpen( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tsetDialogOpen( false );\n\t\t\t\t\tvoid cancelSubscription();\n\t\t\t\t} }\n\t\t\t\tisOpen={ isDialogOpen }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst BuyMoreQuotaAction = () => {\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\tconst { plan } = usePeriodAndPlan();\n\n\tif ( 'enterprise' === plan ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setPopoverVisible( ! isPopoverVisible ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Buy More Quota', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<QuotaPurchasePopover\n\t\t\t\tposition=\"bottom center\"\n\t\t\t\tonClick={ () => setPopoverVisible( false ) }\n\t\t\t\tonFocusOutside={ () => setPopoverVisible( false ) }\n\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst AddonsAction = () => {\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\tvariant=\"secondary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setPopoverVisible( ! isPopoverVisible ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Addons', 'text', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<AddonsPopover\n\t\t\t\tposition=\"bottom center\"\n\t\t\t\tonFocusOutside={ () => setPopoverVisible( false ) }\n\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst UpgradeAction = () => {\n\tconst [ isPopoverVisible, setPopoverVisible ] = useState( false );\n\n\treturn (\n\t\t<div>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setPopoverVisible( ! isPopoverVisible ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Upgrade Subscription', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t<UpgradePopover\n\t\t\t\tposition=\"bottom center\"\n\t\t\t\tonClick={ () => setPopoverVisible( false ) }\n\t\t\t\tonFocusOutside={ () => setPopoverVisible( false ) }\n\t\t\t\tisOpen={ isPopoverVisible }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nconst ReactivateSubscriptionAction = () => {\n\tconst [ isDialogOpen, setDialogOpen ] = useState( false );\n\tconst { uncancelSubscription } = useDispatch( NAB_ACCOUNT );\n\tconst nextChargeDate = useNextChargeDate();\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"primary\"\n\t\t\t\tclassName=\"nab-plan__action\"\n\t\t\t\tonClick={ () => setDialogOpen( true ) }\n\t\t\t>\n\t\t\t\t{ _x(\n\t\t\t\t\t'Reactivate Subscription',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t</Button>\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Reactivate Subscription?',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\ttext={ sprintf(\n\t\t\t\t\t/* translators: a date */\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'Reactivating your subscription will cause it to renew on %s. Do you want to reactivate your subscription?',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tformatI18nDate( nextChargeDate )\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x(\n\t\t\t\t\t'Reactivate Subscription',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tcancelLabel={ _x( 'Back', 'command', 'nelio-ab-testing' ) }\n\t\t\t\tonCancel={ () => setDialogOpen( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tsetDialogOpen( false );\n\t\t\t\t\tvoid uncancelSubscription();\n\t\t\t\t} }\n\t\t\t\tisOpen={ isDialogOpen }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst usePeriodAndPlan = () =>\n\tuseSelect( ( select ) => ( {\n\t\tperiod: select( NAB_ACCOUNT ).getPeriod(),\n\t\tplan: select( NAB_ACCOUNT ).getPlan(),\n\t} ) );\n\nconst useSubscriptionState = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getState() );\n\nconst useIsSubscriptionDeprecated = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).isSubscriptionDeprecated() );\n\nconst useIsFree = () =>\n\tuseSelect( ( select ) => 'free' === select( NAB_ACCOUNT ).getMode() );\n\nconst useIsInvitation = () =>\n\tuseSelect( ( select ) => 'invitation' === select( NAB_ACCOUNT ).getMode() );\n\nconst useIsAgencySummary = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).isAgency() &&\n\t\t\t! select( NAB_ACCOUNT ).isAgencyFullViewEnabled()\n\t);\n\nconst useProductDisplay = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getProductDisplay() );\n\nconst useDeactivationDate = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getDeactivationDate() ||\n\t\t\tselect( NAB_DATA ).getToday()\n\t);\n\nconst useNextChargeDate = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getNextChargeDate() ||\n\t\t\tselect( NAB_DATA ).getToday()\n\t);\n\nconst useNextChargeTotal = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getNextChargeTotal() );\n\nconst useToday = () => useSelect( ( select ) => select( NAB_DATA ).getToday() );\n\nconst useSubscriptionQuota = () =>\n\tuseSelect( ( select ) => ( {\n\t\tdata: select( NAB_ACCOUNT ).getSubscriptionQuota(),\n\t\tisLoading: ! select( NAB_ACCOUNT ).hasFinishedResolution(\n\t\t\t'getSubscriptionQuota'\n\t\t),\n\t} ) );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { NoticeList } from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\nimport { store as noticesStore } from '@safe-wordpress/notices';\n\nconst NOTICES = noticesStore?.name ?? 'core/notices';\n\n/**\n * External dependencies\n */\nimport { LoadingAnimation } from '@nab/components';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport type AccountProviderProps = {\n\treadonly children: JSX.Element | JSX.Element[];\n};\n\nexport const AccountProvider = ( {\n\tchildren,\n}: AccountProviderProps ): JSX.Element => {\n\tconst isLoading = useIsLoading();\n\tconst hasError = useHasError();\n\tconst notices = useNotices();\n\tconst { removeNotice } = useDispatch( NOTICES );\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<LoadingAnimation\n\t\t\t\ttext={ _x( 'Loading', 'text', 'nelio-ab-testing' ) }\n\t\t\t/>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<>\n\t\t\t<NoticeList\n\t\t\t\tnotices={ notices }\n\t\t\t\tclassName=\"components-editor-notices__pinned\"\n\t\t\t\tonRemove={ removeNotice }\n\t\t\t/>\n\t\t\t{ ! hasError && children }\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsLoading = () =>\n\tuseSelect( ( select ) => {\n\t\tselect( NAB_ACCOUNT ).getAccount();\n\t\treturn ! select( NAB_ACCOUNT ).hasFinishedResolution( 'getAccount' );\n\t} );\n\nconst useHasError = () =>\n\tuseSelect( ( select ) =>\n\t\tselect( NAB_ACCOUNT ).hasResolutionFailed( 'getAccount' )\n\t);\n\nimport type { Notice } from 'wordpress__notices';\nconst useNotices = (): ReadonlyArray< Notice > =>\n\tuseSelect( ( select ) => select( NOTICES ).getNotices() );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport {\n\tButton,\n\tCheckboxControl,\n\tModal,\n\tTextControl,\n} from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { noop } from 'lodash';\nimport { HelpIcon, ConfirmationDialog } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { numberFormat } from '@nab/i18n';\nimport type { Site as SiteType, SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport type SiteProps = SiteType & {\n\treadonly displayQuotaLimit?: boolean;\n};\n\nexport const Site = ( {\n\tdisplayQuotaLimit,\n\tactualUrl,\n\tid,\n\tisCurrentSite,\n\tusedMonthlyQuota,\n\tmaxMonthlyQuota,\n\turl,\n}: SiteProps ): JSX.Element => (\n\t<li className=\"nab-site\">\n\t\t<span className=\"nab-site__details\">\n\t\t\t{ isCurrentSite ? (\n\t\t\t\t<span className=\"nab-site__url\">\n\t\t\t\t\t<span className=\"nab-site__current-site\">\n\t\t\t\t\t\t{ actualUrl }\n\t\t\t\t\t\t{ !! actualUrl && url !== actualUrl && (\n\t\t\t\t\t\t\t<HelpIcon\n\t\t\t\t\t\t\t\tclassName=\"nab-site__current-site-help\"\n\t\t\t\t\t\t\t\ttype=\"info\"\n\t\t\t\t\t\t\t\ttext={ sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: site URL */\n\t\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t\t'Activation URL is %s',\n\t\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\turl\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"nab-site__label\">\n\t\t\t\t\t\t{ _x( 'This site', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t) : (\n\t\t\t\t<span className=\"nab-site__url\">\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={ url }\n\t\t\t\t\t\tclassName={ classnames( 'nab-site__link', {\n\t\t\t\t\t\t\t'nab-site__link--current': isCurrentSite,\n\t\t\t\t\t\t} ) }\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{ url }\n\t\t\t\t\t</a>\n\t\t\t\t</span>\n\t\t\t) }\n\t\t\t{ !! displayQuotaLimit && (\n\t\t\t\t<small>\n\t\t\t\t\t<strong>\n\t\t\t\t\t\t{ _x( 'Quota Usage', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t\t\t{ ': ' }\n\t\t\t\t\t</strong>\n\t\t\t\t\t{ numberFormat( usedMonthlyQuota ) }\n\t\t\t\t\t{ ' / ' }\n\t\t\t\t\t{ stringifyMaxQuota( maxMonthlyQuota ) }\n\t\t\t\t</small>\n\t\t\t) }\n\t\t</span>\n\n\t\t<LimitQuotaAction siteId={ id } />\n\t\t<DeleteAction siteId={ id } />\n\t</li>\n);\n\n// ==============\n// INTERNAL VIEWS\n// ==============\n\ntype ActionProps = {\n\treadonly siteId: SiteId;\n};\n\nconst LimitQuotaAction = ( { siteId }: ActionProps ) => {\n\tconst [ isDialogOpen, setDialogOpen ] = useState( false );\n\tconst canLimitQuota = useSelect( ( select ) =>\n\t\tselect( NAB_DATA ).canLimitSiteQuota()\n\t);\n\tconst { limitSiteQuota } = useDispatch( NAB_ACCOUNT );\n\tconst currentSiteLimit = useSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getSite( siteId )?.maxMonthlyQuota ?? -1\n\t);\n\n\tif ( ! canLimitQuota ) {\n\t\treturn null;\n\t} //end if\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tvariant=\"tertiary\"\n\t\t\t\tclassName=\"nab-site__limit-quota-button\"\n\t\t\t\tonClick={ () => setDialogOpen( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Limit Quota', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\t\t\t{ isDialogOpen && (\n\t\t\t\t<SiteQuotaDialog\n\t\t\t\t\tinitialValue={ `${ currentSiteLimit }` }\n\t\t\t\t\tonClose={ () => setDialogOpen( false ) }\n\t\t\t\t\tonSave={ ( value ) => limitSiteQuota( siteId, value ) }\n\t\t\t\t/>\n\t\t\t) }\n\t\t</>\n\t);\n};\n\nconst DeleteAction = ( { siteId }: ActionProps ) => {\n\tconst [ isDialogOpen, setDialogOpen ] = useState( false );\n\tconst { unlinkSite } = useDispatch( NAB_ACCOUNT );\n\n\treturn (\n\t\t<>\n\t\t\t<Button\n\t\t\t\tisDestructive\n\t\t\t\tvariant=\"tertiary\"\n\t\t\t\tclassName=\"nab-site__unlink-button\"\n\t\t\t\tonClick={ () => setDialogOpen( true ) }\n\t\t\t>\n\t\t\t\t{ _x( 'Unlink Site', 'command', 'nelio-ab-testing' ) }\n\t\t\t</Button>\n\n\t\t\t<ConfirmationDialog\n\t\t\t\ttitle={ _x( 'Unlink Site?', 'text', 'nelio-ab-testing' ) }\n\t\t\t\ttext={ _x(\n\t\t\t\t\t'This will remove the subscription license from the site.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tconfirmLabel={ _x( 'Unlink', 'command', 'nelio-ab-testing' ) }\n\t\t\t\tisOpen={ isDialogOpen }\n\t\t\t\tonCancel={ () => setDialogOpen( false ) }\n\t\t\t\tonConfirm={ () => {\n\t\t\t\t\tsetDialogOpen( false );\n\t\t\t\t\tvoid unlinkSite( siteId );\n\t\t\t\t} }\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst SiteQuotaDialog = ( {\n\tinitialValue,\n\tonClose,\n\tonSave: save,\n}: {\n\treadonly initialValue: string;\n\treadonly onClose: () => void;\n\treadonly onSave: ( value: number ) => Promise< void >;\n} ) => {\n\tconst [ isSaving, setSaving ] = useState( false );\n\tconst [ value, setValue ] = useState( initialValue );\n\n\tconst isDirty = value !== initialValue;\n\n\tconst isUnlimited = ( n: number ) => n === -1;\n\tconst onSave = () => {\n\t\tconst intValue = Number.parseInt( value );\n\t\tconst limit = isUnlimited( intValue ) ? -1 : Math.abs( intValue );\n\t\tsetSaving( true );\n\t\tsave( limit )\n\t\t\t.then( onClose )\n\t\t\t.catch( () => setSaving( false ) );\n\t};\n\n\treturn (\n\t\t<Modal\n\t\t\tclassName=\"site-quota-dialog\"\n\t\t\ttitle={ _x( 'Site Quota', 'text', 'nelio-ab-testing' ) }\n\t\t\tonRequestClose={ noop }\n\t\t\tisDismissible={ false }\n\t\t>\n\t\t\t<CheckboxControl\n\t\t\t\tchecked={ '-1' !== value }\n\t\t\t\tonChange={ ( enabled ) => setValue( enabled ? '1000' : '-1' ) }\n\t\t\t\tlabel={ _x(\n\t\t\t\t\t'Limit quota usage in this site',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t{ '-1' !== value && (\n\t\t\t\t<TextControl\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tmin=\"0\"\n\t\t\t\t\tvalue={ value }\n\t\t\t\t\tonChange={ setValue }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t<div className=\"site-quota-dialog__actions\">\n\t\t\t\t<Button variant=\"secondary\" onClick={ onClose }>\n\t\t\t\t\t{ isDirty\n\t\t\t\t\t\t? _x( 'Discard Changes', 'command', 'nelio-ab-testing' )\n\t\t\t\t\t\t: _x( 'Close', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tonClick={ onSave }\n\t\t\t\t\tdisabled={ ! isDirty || isSaving }\n\t\t\t\t>\n\t\t\t\t\t{ isSaving\n\t\t\t\t\t\t? _x( 'Saving', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t\t: _x( 'Save', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst stringifyMaxQuota = ( n: number ) =>\n\t-1 === n ? '' : numberFormat( n );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { Spinner } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { Site as SiteInstance } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { Site } from '../site';\nimport './style.scss';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nexport const Sites = (): JSX.Element | null => {\n\tconst isVisible = useIsVisible();\n\tconst isLoading = useIsLoading();\n\tconst sites = useSites();\n\tconst sitesAllowed = useSitesAllowed();\n\n\tif ( ! isVisible ) {\n\t\treturn null;\n\t} //end if\n\n\tconst sitesConnected = sites.length;\n\tconst displayQuotaLimit =\n\t\tsites.length > 1 || sites.some( ( s ) => 0 <= s.maxMonthlyQuota );\n\n\treturn (\n\t\t<div className=\"nab-account-container__box nab-sites\">\n\t\t\t<h3 className=\"nab-sites__title\">\n\t\t\t\t{ _x( 'Sites', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t{ isLoading && <Spinner /> }\n\t\t\t\t<span className=\"nab-sites__availability\">\n\t\t\t\t\t{ `${ sitesConnected } / ${ sitesAllowed }` }\n\t\t\t\t</span>\n\t\t\t</h3>\n\n\t\t\t<ul className=\"nab-sites__list\">\n\t\t\t\t{ ! isLoading &&\n\t\t\t\t\tsites.map( ( site ) => (\n\t\t\t\t\t\t<Site\n\t\t\t\t\t\t\tkey={ site.id }\n\t\t\t\t\t\t\tdisplayQuotaLimit={ displayQuotaLimit }\n\t\t\t\t\t\t\t{ ...site }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) ) }\n\t\t\t</ul>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_ACCOUNT ).hasFinishedResolution( 'getSites', [\n\t\t\t\tselect( NAB_ACCOUNT ).getSubscriptionId(),\n\t\t\t] )\n\t);\n\nconst useIsVisible = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getMode, isAgency, isAgencyFullViewEnabled } =\n\t\t\tselect( NAB_ACCOUNT );\n\t\tconst isSubscribed = getMode() === 'regular';\n\t\tconst isAgencySummary = isAgency() && ! isAgencyFullViewEnabled();\n\t\treturn isSubscribed && ! isAgencySummary;\n\t} );\n\nconst useSites = (): ReadonlyArray< SiteInstance > =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_ACCOUNT ).getSites(\n\t\t\t\tselect( NAB_ACCOUNT ).getSubscriptionId()\n\t\t\t) || []\n\t);\n\nconst useSitesAllowed = () =>\n\tuseSelect( ( select ) =>\n\t\t'enterprise' === select( NAB_ACCOUNT ).getPlan()\n\t\t\t? ''\n\t\t\t: select( NAB_ACCOUNT ).getSitesAllowed()\n\t);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport {\n\tPopover,\n\tButton,\n\tSpinner,\n\tCheckboxControl,\n\tSelectControl,\n} from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { range, toPairs } from 'lodash';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { getLocale } from '@nab/date';\nimport type {\n\tCurrency,\n\tFastSpringProduct,\n\tFastSpringProductId,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './enterprise.scss';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nimport type { UpgradePopoverProps } from './props';\n\ntype Props = UpgradePopoverProps & {\n\treadonly back: false | ( () => void );\n};\n\nconst PRODUCTS = {\n\tmonthly: {\n\t\tproduct: 'nab-enterprise-monthly' as FastSpringProductId,\n\t\tquotaAddon: 'nab-pageviews-monthly' as FastSpringProductId,\n\t},\n\tyearly: {\n\t\tproduct: 'nab-enterprise-yearly' as FastSpringProductId,\n\t\tquotaAddon: 'nab-pageviews-yearly' as FastSpringProductId,\n\t},\n} as const;\n\nconst PRODUCT_LIST = [ PRODUCTS.monthly.product, PRODUCTS.yearly.product ];\n\nconst BASE_VIEWS = 200_000;\nconst ADDON_VIEWS = 50_000;\nconst ADDON_OPTIONS = [ 0, 2, 4, 6, 11, 16 ];\n\nexport const EnterpriseUpgradePopover = ( {\n\tback,\n\tisOpen,\n\tposition,\n\tonClick,\n\tonFocusOutside,\n}: Props ): JSX.Element | null => {\n\tconst isLoading = useIsLoading();\n\tconst products = useProducts();\n\n\tconst { wasYearly, previousAddonQuantity } = useCurrentStatus();\n\n\tconst options = expandOptionsAndDropFirst(\n\t\t[\n\t\t\tpreviousAddonQuantity,\n\t\t\t...ADDON_OPTIONS.filter( ( v ) => v > previousAddonQuantity ),\n\t\t],\n\t\t7\n\t);\n\n\tconst [ addonQuantity, setAddonQuantity ] = useState( options[ 0 ] );\n\tconst [ isYearly, setYearly ] = useState( wasYearly );\n\n\tconst price = useTotal( isYearly ? 'yearly' : 'monthly', addonQuantity );\n\tconst pricePeriod = wasYearly\n\t\t? '/' + _x( 'year', 'text', 'nelio-ab-testing' )\n\t\t: '';\n\tconst { upgradeSubscription } = useDispatch( NAB_ACCOUNT );\n\n\tif ( ! isOpen ) {\n\t\treturn null;\n\t} //end if\n\n\tif (\n\t\tPRODUCT_LIST.some(\n\t\t\t( p ) => ! products.map( ( x ) => x.id ).includes( p )\n\t\t)\n\t) {\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tclassName=\"nab-enterprise-upgrade-form nab-enterprise-upgrade-form nab-enterprise-upgrade-form--error\"\n\t\t\t\tnoArrow={ false }\n\t\t\t\tposition={ position }\n\t\t\t\tonFocusOutside={ onFocusOutside }\n\t\t\t>\n\t\t\t\t<p>ERROR TODO DAVID</p>\n\t\t\t\t<pre>{ JSON.stringify( PRODUCT_LIST, null, 2 ) }</pre>\n\t\t\t\t<pre>{ JSON.stringify( products, null, 2 ) }</pre>\n\t\t\t</Popover>\n\t\t);\n\t} //end if\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tclassName=\"nab-enterprise-upgrade-form nab-enterprise-upgrade-form--loading\"\n\t\t\t\tnoArrow={ false }\n\t\t\t\tposition={ position }\n\t\t\t\tonFocusOutside={ onFocusOutside }\n\t\t\t>\n\t\t\t\t<Spinner />\n\t\t\t</Popover>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"nab-enterprise-upgrade-form\"\n\t\t\tnoArrow={ false }\n\t\t\tposition={ position }\n\t\t\tonFocusOutside={ onFocusOutside }\n\t\t>\n\t\t\t<div className=\"nab-enterprise-upgrade-form__container\">\n\t\t\t\t<h3>\n\t\t\t\t\t{ sprintf(\n\t\t\t\t\t\t'Enterprise%1$s',\n\t\t\t\t\t\tprice ? ` (${ price }${ pricePeriod })` : ''\n\t\t\t\t\t) }\n\t\t\t\t</h3>\n\n\t\t\t\t<SelectControl\n\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t'Monthly Page Views',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t\tvalue={ `${ addonQuantity }` }\n\t\t\t\t\toptions={ options.map( ( value ) => ( {\n\t\t\t\t\t\tvalue: `${ value }`,\n\t\t\t\t\t\tlabel: formatViews( BASE_VIEWS + value * ADDON_VIEWS ),\n\t\t\t\t\t} ) ) }\n\t\t\t\t\tonChange={ ( v ) =>\n\t\t\t\t\t\tsetAddonQuantity( Number.parseInt( v ) )\n\t\t\t\t\t}\n\t\t\t\t\thelp={\n\t\t\t\t\t\tpreviousAddonQuantity >= 0\n\t\t\t\t\t\t\t? sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: number of page views */\n\t\t\t\t\t\t\t\t\t_x(\n\t\t\t\t\t\t\t\t\t\t'Currently set to %s',\n\t\t\t\t\t\t\t\t\t\t'text',\n\t\t\t\t\t\t\t\t\t\t'nelio-content'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tformatViews(\n\t\t\t\t\t\t\t\t\t\tBASE_VIEWS +\n\t\t\t\t\t\t\t\t\t\t\tpreviousAddonQuantity * ADDON_VIEWS\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t}\n\t\t\t\t/>\n\n\t\t\t\t{ ! wasYearly && (\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tchecked={ isYearly }\n\t\t\t\t\t\tonChange={ ( checked ) => setYearly( checked ) }\n\t\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t\t'Pay yearly',\n\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t) }\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\n\t\t\t<div className=\"nab-enterprise-upgrade-form__button-container\">\n\t\t\t\t{ back && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tclassName=\"nab-enterprise-upgrade-form__button\"\n\t\t\t\t\t\tonClick={ back }\n\t\t\t\t\t>\n\t\t\t\t\t\t{ _x( 'Back', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t\t</Button>\n\t\t\t\t) }\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tclassName=\"nab-enterprise-upgrade-form__button\"\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonClick();\n\t\t\t\t\t\tvoid upgradeSubscription(\n\t\t\t\t\t\t\tisYearly\n\t\t\t\t\t\t\t\t? PRODUCTS.yearly.product\n\t\t\t\t\t\t\t\t: PRODUCTS.monthly.product,\n\t\t\t\t\t\t\taddonQuantity\n\t\t\t\t\t\t);\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Upgrade Subscription',\n\t\t\t\t\t\t'command (subscription)',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Popover>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_DATA ).hasFinishedResolution( 'getProducts' )\n\t);\n\nconst useProducts = () =>\n\tuseSelect( ( select ) => select( NAB_DATA ).getProducts() );\n\nconst useTotal = ( mode: 'yearly' | 'monthly', quantity: number ) =>\n\tuseSelect( ( select ) => {\n\t\tconst products = select( NAB_DATA ).getProducts();\n\t\tconst currency = select( NAB_ACCOUNT ).getCurrency() || 'USD';\n\n\t\tconst baseProduct = products.find(\n\t\t\t( p ) => p.id === PRODUCTS[ mode ].product\n\t\t);\n\t\tconst addonProduct = products.find(\n\t\t\t( p ) => p.id === PRODUCTS[ mode ].quotaAddon\n\t\t);\n\n\t\tif ( ! baseProduct || ! addonProduct ) {\n\t\t\treturn '';\n\t\t} //end if\n\n\t\tconst price = ( p: FastSpringProduct ) =>\n\t\t\tp.price[ currency ] ?? p.price.USD ?? 0;\n\n\t\tconst perc = toPairs( addonProduct.quantityDiscounts ?? {} )\n\t\t\t.map( ( [ q, d ] ) => [ Number.parseInt( q ), d ] as const )\n\t\t\t.reduce( ( r, [ q, d ] ) => ( q <= quantity ? d : r ), 0 );\n\t\tconst discount = perc / 100;\n\t\tconst total =\n\t\t\tprice( baseProduct ) +\n\t\t\tprice( addonProduct ) * quantity * ( 1 - discount );\n\n\t\treturn formatPrice( total, currency );\n\t} );\n\nconst useCurrentStatus = () =>\n\tuseSelect( ( select ) => ( {\n\t\twasYearly: 'year' === select( NAB_ACCOUNT ).getPeriod(),\n\t\tpreviousAddonQuantity:\n\t\t\tselect( NAB_ACCOUNT ).getPlan() !== 'enterprise'\n\t\t\t\t? -1\n\t\t\t\t: select( NAB_ACCOUNT ).getExtraQuotaUnits(),\n\t} ) );\n\n// =======\n// HELPERS\n// =======\n\nconst formatter = ( () => {\n\ttry {\n\t\treturn new Intl.NumberFormat( getLocale().replace( '_', '-' ) );\n\t} catch ( e ) {\n\t\treturn new Intl.NumberFormat( 'en-US' );\n\t} //end try\n} )();\n\nconst formatPrice = ( price: number, currency: Currency ) =>\n\t'EUR' === currency\n\t\t? `${ formatter.format( Math.ceil( price ) ) }`\n\t\t: `USD${ formatter.format( Math.ceil( price ) ) }`;\n\nconst formatViews = ( value: number ) => formatter.format( value );\n\nconst expandOptionsAndDropFirst = (\n\tvalues: number[],\n\toptions: number\n): [ number, ...number[] ] => {\n\tconst max = values[ values.length - 1 ] || 0;\n\tconst result = [\n\t\t...values,\n\t\t...range( 1, options ).map( ( i ) => max + i * 20 ),\n\t].slice( 1, options );\n\treturn [ result[ 0 ] ?? 0, ...result.slice( 1 ) ];\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { useSelect } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { EnterpriseUpgradePopover } from './enterprise';\nimport { RegularUpgradePopover } from './regular';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nimport type { UpgradePopoverProps } from './props';\nexport type { UpgradePopoverProps } from './props';\n\nexport const UpgradePopover = (\n\tprops: UpgradePopoverProps\n): JSX.Element | null => {\n\tconst currentPlan = useSelect( ( select ) =>\n\t\tselect( NAB_ACCOUNT ).getPlan()\n\t);\n\tconst [ interestedInEnterprise, enableEnterprise ] = useState( false );\n\n\treturn 'enterprise' === currentPlan || interestedInEnterprise ? (\n\t\t<EnterpriseUpgradePopover\n\t\t\tback={\n\t\t\t\t'enterprise' !== currentPlan &&\n\t\t\t\t( () => enableEnterprise( false ) )\n\t\t\t}\n\t\t\t{ ...props }\n\t\t/>\n\t) : (\n\t\t<RegularUpgradePopover\n\t\t\tshowEnterprise={ () => enableEnterprise( true ) }\n\t\t\t{ ...props }\n\t\t/>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport {\n\tPopover,\n\tButton,\n\tSpinner,\n\tRadioControl,\n} from '@safe-wordpress/components';\nimport { useSelect, useDispatch } from '@safe-wordpress/data';\nimport { useState } from '@safe-wordpress/element';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { mapValues, trim } from 'lodash';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { getLocale } from '@nab/date';\nimport type {\n\tCurrency,\n\tFSLocalizedString,\n\tFastSpringProduct,\n\tFastSpringProductId,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './regular.scss';\nimport { STORE_NAME as NAB_ACCOUNT } from '../../store';\n\nimport type { UpgradePopoverProps } from './props';\n\ntype Props = UpgradePopoverProps & {\n\treadonly showEnterprise: () => void;\n};\n\nexport const RegularUpgradePopover = ( {\n\tisOpen,\n\tposition,\n\tonClick,\n\tonFocusOutside,\n\tshowEnterprise,\n}: Props ): JSX.Element | null => {\n\tconst isLoading = useIsLoading();\n\tconst products = useProducts();\n\tconst currency = useCurrency();\n\tconst { upgradeSubscription } = useDispatch( NAB_ACCOUNT );\n\tconst [ selectedOption, setSelectedOption ] = useState(\n\t\t'' as FastSpringProductId\n\t);\n\n\tif ( ! isOpen ) {\n\t\treturn null;\n\t} //end if\n\n\tif ( isLoading ) {\n\t\treturn (\n\t\t\t<Popover\n\t\t\t\tclassName=\"nab-regular-upgrade-form nab-regular-upgrade-form--loading\"\n\t\t\t\tnoArrow={ false }\n\t\t\t\tposition={ position }\n\t\t\t\tonFocusOutside={ onFocusOutside }\n\t\t\t>\n\t\t\t\t<Spinner />\n\t\t\t</Popover>\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<Popover\n\t\t\tclassName=\"nab-regular-upgrade-form\"\n\t\t\tnoArrow={ false }\n\t\t\tposition={ position }\n\t\t\tonFocusOutside={ onFocusOutside }\n\t\t>\n\t\t\t<div className=\"nab-regular-upgrade-form__product-container\">\n\t\t\t\t<h3>\n\t\t\t\t\t{ _x( 'Subscription Plans', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t</h3>\n\t\t\t\t<RadioControl\n\t\t\t\t\tselected={ selectedOption }\n\t\t\t\t\toptions={ products.map(\n\t\t\t\t\t\t( {\n\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\tdisplayName,\n\t\t\t\t\t\t\tprice,\n\t\t\t\t\t\t\tdescription,\n\t\t\t\t\t\t\tenabledAddons,\n\t\t\t\t\t\t} ) => ( {\n\t\t\t\t\t\t\tlabel: (\n\t\t\t\t\t\t\t\t<div className=\"nab-regular-upgrade-form__product\">\n\t\t\t\t\t\t\t\t\t<strong className=\"nab-regular-upgrade-form__product-name\">\n\t\t\t\t\t\t\t\t\t\t{ localize( displayName ) }\n\t\t\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\tclassName=\"nab-regular-upgrade-form__product-price\"\n\t\t\t\t\t\t\t\t\t\ttitle={ currency }\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{ formatPrice(\n\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\t( price[ currency ] || 0 ) +\n\t\t\t\t\t\t\t\t\t\t\t\tenabledAddons.reduce(\n\t\t\t\t\t\t\t\t\t\t\t\t\t( acc, a ) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tacc +\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t( a.price[ currency ] ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t0 ),\n\t\t\t\t\t\t\t\t\t\t\t\t\t0\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tcurrency\n\t\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span className=\"nab-regular-upgrade-form__product-description\">\n\t\t\t\t\t\t\t\t\t\t{ localize( description ) }\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div> // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\t\t\t\t\t\t\t ) as any as string,\n\t\t\t\t\t\t\tvalue: id,\n\t\t\t\t\t\t} )\n\t\t\t\t\t) }\n\t\t\t\t\tonChange={ ( option ) => {\n\t\t\t\t\t\tif ( ! option ) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( 'nab-enterprise-placeholder' === option ) {\n\t\t\t\t\t\t\tshowEnterprise();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetSelectedOption( option );\n\t\t\t\t\t} }\n\t\t\t\t/>\n\t\t\t</div>\n\n\t\t\t<div className=\"nab-regular-upgrade-form__button-container\">\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\tclassName=\"nab-regular-upgrade-form__button\"\n\t\t\t\t\tdisabled={ ! selectedOption }\n\t\t\t\t\tonClick={ () => {\n\t\t\t\t\t\tonClick();\n\t\t\t\t\t\tvoid upgradeSubscription( selectedOption, 0 );\n\t\t\t\t\t} }\n\t\t\t\t>\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Upgrade Subscription',\n\t\t\t\t\t\t'command',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</Popover>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsLoading = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\t! select( NAB_DATA ).hasFinishedResolution( 'getProducts' )\n\t);\n\nconst useProducts = () =>\n\tuseSelect(\n\t\t(\n\t\t\tselect\n\t\t): ReadonlyArray<\n\t\t\tPick<\n\t\t\t\tFastSpringProduct,\n\t\t\t\t'id' | 'displayName' | 'price' | 'description'\n\t\t\t> & {\n\t\t\t\treadonly enabledAddons: ReadonlyArray< FastSpringProduct >;\n\t\t\t}\n\t\t> => {\n\t\t\tconst { getProducts } = select( NAB_DATA );\n\t\t\tconst { getSubscriptionProduct, getSubscriptionAddons } =\n\t\t\t\tselect( NAB_ACCOUNT );\n\n\t\t\tconst currentProduct = getSubscriptionProduct();\n\t\t\tconst products = getProducts();\n\t\t\tconst allUpgradeableProducts = products.filter(\n\t\t\t\t( { upgradeableFrom } ) =>\n\t\t\t\t\tupgradeableFrom.includes( currentProduct )\n\t\t\t);\n\t\t\tconst upgradeableProducts = allUpgradeableProducts.filter(\n\t\t\t\t( p ) => ! p.id.includes( 'enterprise' )\n\t\t\t);\n\n\t\t\tconst enterpriseProduct =\n\t\t\t\tallUpgradeableProducts.find( ( p ) =>\n\t\t\t\t\tp.id.includes( 'enterprise-monthly' )\n\t\t\t\t) ||\n\t\t\t\tallUpgradeableProducts.find( ( p ) =>\n\t\t\t\t\tp.id.includes( 'enterprise-yearly' )\n\t\t\t\t);\n\n\t\t\tconst enabledAddons = getSubscriptionAddons();\n\t\t\tconst addons = products.filter( ( p ) => p.isAddon );\n\n\t\t\tconst getEnabledAddons = ( p?: FastSpringProduct ) =>\n\t\t\t\t( p?.allowedAddons ?? [] )\n\t\t\t\t\t.filter(\n\t\t\t\t\t\t( addonId ) =>\n\t\t\t\t\t\t\t!! enabledAddons.find( ( id ) =>\n\t\t\t\t\t\t\t\tareSameAddon( addonId, id )\n\t\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t.map( ( addonId ) =>\n\t\t\t\t\t\taddons.find( ( a ) => a.id === addonId )\n\t\t\t\t\t)\n\t\t\t\t\t.filter(\n\t\t\t\t\t\t( a ) => !! a\n\t\t\t\t\t) as ReadonlyArray< FastSpringProduct >;\n\t\t\treturn [\n\t\t\t\t...upgradeableProducts.map( ( p ) => ( {\n\t\t\t\t\t...p,\n\t\t\t\t\tenabledAddons: getEnabledAddons( p ),\n\t\t\t\t} ) ),\n\t\t\t\t{\n\t\t\t\t\tprice: { USD: 0, EUR: 0 },\n\t\t\t\t\tdescription: { en: '', es: '' },\n\t\t\t\t\tenabledAddons: getEnabledAddons( enterpriseProduct ),\n\t\t\t\t\t...enterpriseProduct,\n\t\t\t\t\tid: 'nab-enterprise-placeholder' as FastSpringProductId,\n\t\t\t\t\tdisplayName: mapValues(\n\t\t\t\t\t\tenterpriseProduct?.displayName ?? { en: '', es: '' },\n\t\t\t\t\t\t( name ) => trim( name.replace( /\\([^)]*\\)/, '' ) )\n\t\t\t\t\t),\n\t\t\t\t},\n\t\t\t];\n\t\t}\n\t);\n\nconst useCurrency = () =>\n\tuseSelect( ( select ) => select( NAB_ACCOUNT ).getCurrency() || 'USD' );\n\n// =======\n// HELPERS\n// =======\n\nconst formatter = ( () => {\n\ttry {\n\t\treturn new Intl.NumberFormat( getLocale().replace( '_', '-' ) );\n\t} catch ( e ) {\n\t\treturn new Intl.NumberFormat( 'en-US' );\n\t} //end try\n} )();\n\nconst formatPrice = (\n\tproduct: string,\n\tprice: number,\n\tcurrency: Currency\n): string => {\n\tconst result =\n\t\t'EUR' === currency\n\t\t\t? `${ formatter.format( Math.ceil( price ) ) }`\n\t\t\t: `USD${ formatter.format( Math.ceil( price ) ) }`;\n\tif ( 'nab-enterprise-placeholder' === product ) {\n\t\treturn sprintf(\n\t\t\t/* translators: price */\n\t\t\t_x( 'starting from %s', 'text (money)', 'nelio-ab-testing' ),\n\t\t\tresult\n\t\t);\n\t} //end if\n\treturn result;\n};\n\nconst localize = ( str: FSLocalizedString ) => {\n\tconst locale = getLocale();\n\treturn locale.startsWith( 'es' )\n\t\t? str.es.replace( 'de Nelio A/B Testing', '' )\n\t\t: str.en.replace( 'Nelio A/B Testing', '' );\n};\n\nconst areSameAddon = ( a: string, b: string ): boolean => {\n\tconst aprefix = a.substring( 0, a.indexOf( 'addon-' ) );\n\tconst bprefix = b.substring( 0, b.indexOf( 'addon-' ) );\n\treturn !! aprefix && !! bprefix && aprefix === bprefix;\n};\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { appendContextualHelp } from '@nab/components';\n\nexport function renderHelp(): void {\n\tappendContextualHelp( {\n\t\tscreen: 'account',\n\t\tquestions,\n\t} );\n} //end renderHelp()\n\nconst questions = [\n\t{\n\t\tlabel: _x(\n\t\t\t'How do I change my payment details?',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\tlink: _x(\n\t\t\t'https://neliosoftware.com/testing/help/how-do-i-change-my-payment-details/',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\t{\n\t\tlabel: _x(\n\t\t\t'What if my monthly quota of page views gets exhausted?',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\tlink: _x(\n\t\t\t'https://neliosoftware.com/testing/help/what-if-my-monthly-quota-gets-exhausted/',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n];\n","/**\n * External dependencies\n */\nimport { castArray } from 'lodash';\nimport type { Account, Site, Invoice, SiteId } from '@nab/types';\n\nexport type Action =\n\t| LockPage\n\t| UnlockPage\n\t| EnableAgencyFullView\n\t| ReceiveAccount\n\t| ReceiveInvoices\n\t| ReceiveSites\n\t| RemoveSiteAfterUnlink;\n\nexport function lock(): LockPage {\n\treturn {\n\t\ttype: 'LOCK_PAGE',\n\t};\n} //end lock()\n\nexport function unlock(): UnlockPage {\n\treturn {\n\t\ttype: 'UNLOCK_PAGE',\n\t};\n} //end unlock()\n\nexport function enableAgencyFullView(): EnableAgencyFullView {\n\treturn {\n\t\ttype: 'ENABLE_AGENCY_FULL_VIEW',\n\t};\n} //end enableAgencyFullView()\n\nexport function receiveAccount( account: Account ): ReceiveAccount {\n\treturn {\n\t\ttype: 'RECEIVE_ACCOUNT',\n\t\taccount,\n\t};\n} //end receiveAccount()\n\nexport function receiveSites(\n\tsites: Site | ReadonlyArray< Site >\n): ReceiveSites {\n\treturn {\n\t\ttype: 'RECEIVE_SITES',\n\t\tsites: castArray( sites ),\n\t};\n} //end receiveSites()\n\nexport function receiveInvoices(\n\tinvoices: Invoice | ReadonlyArray< Invoice >\n): ReceiveInvoices {\n\treturn {\n\t\ttype: 'RECEIVE_INVOICES',\n\t\tinvoices: castArray( invoices ),\n\t};\n} //end receiveInvoices()\n\nexport function removeSiteAfterUnlink( id: SiteId ): RemoveSiteAfterUnlink {\n\treturn {\n\t\ttype: 'UNLINK_SITE',\n\t\tid,\n\t};\n} //end removeSiteAfterUnlink()\n\n// ============\n// HELPER TYPES\n// ============\n\ntype ReceiveAccount = {\n\treadonly type: 'RECEIVE_ACCOUNT';\n\treadonly account: Account;\n};\n\ntype ReceiveSites = {\n\treadonly type: 'RECEIVE_SITES';\n\treadonly sites: ReadonlyArray< Site >;\n};\n\ntype ReceiveInvoices = {\n\treadonly type: 'RECEIVE_INVOICES';\n\treadonly invoices: ReadonlyArray< Invoice >;\n};\n\ntype RemoveSiteAfterUnlink = {\n\treadonly type: 'UNLINK_SITE';\n\treadonly id: SiteId;\n};\n\ntype LockPage = {\n\treadonly type: 'LOCK_PAGE';\n};\n\ntype UnlockPage = {\n\treadonly type: 'UNLOCK_PAGE';\n};\n\ntype EnableAgencyFullView = {\n\treadonly type: 'ENABLE_AGENCY_FULL_VIEW';\n};\n","import { FastSpringProductId } from '@nab/types';\nimport type { State } from './types';\n\nexport const STORE_NAME = 'nab/account';\n\nexport const INIT_STATE: State = {\n\taccount: {\n\t\tcurrency: 'USD',\n\t\tdeactivationDate: '',\n\t\temail: '',\n\t\tfirstname: '',\n\t\tfullname: '',\n\t\tisAgency: false,\n\t\tlastname: '',\n\t\tlicense: '',\n\t\tmode: 'free',\n\t\tnextChargeDate: '',\n\t\tnextChargeTotal: '',\n\t\tperiod: 'month',\n\t\tphoto: '',\n\t\tplan: 'free',\n\t\tproductDisplay: '',\n\t\tproductId: '' as FastSpringProductId,\n\t\tquota: 500,\n\t\tquotaExtra: 0,\n\t\tquotaPerMonth: 0,\n\t\tsitesAllowed: 1,\n\t\tstartDate: '',\n\t\tstate: 'active',\n\t\tsubscription: '',\n\t\taddons: [],\n\t\taddonDetails: {},\n\t\turlToManagePayments: '',\n\t},\n\n\tinvoices: [],\n\tsites: [],\n\n\tisPageLocked: false,\n\tisAgencyFullViewEnabled: false,\n};\n","/**\n * WordPress dependencies\n */\nimport { registerStore, controls } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport type {\n\tDataControls,\n\tOmitFirstArgs,\n\tPromisifyReturnTypes,\n\tRemoveReturnTypes,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport reducer from './reducer';\nimport * as selectors from './selectors';\nimport * as realActions from './actions';\nimport * as sideEffects from './side-effects/actions';\nimport * as resolvers from './side-effects/resolvers';\nimport { STORE_NAME } from './config';\n\nexport { STORE_NAME } from './config';\nexport * from './types';\n\nconst actions = { ...realActions, ...sideEffects };\n\nregisterStore( STORE_NAME, {\n\treducer,\n\tcontrols,\n\t// eslint-disable-next-line\n\tactions: actions as any,\n\tselectors,\n\tresolvers,\n} );\n\n// ==========\n// TYPESCRIPT\n// ==========\n\ntype Actions = RealActions & SideEffectActions;\n\ntype RealActions = RemoveReturnTypes< typeof realActions >;\ntype SideEffectActions = PromisifyReturnTypes<\n\tRemoveReturnTypes< typeof sideEffects >\n>;\n\ntype TypedSelectors = OmitFirstArgs< typeof selectors >;\ntype ResolvableSelectors = PromisifyReturnTypes<\n\tPick< TypedSelectors, keyof typeof resolvers >\n>;\n\ntype Selectors = TypedSelectors & DataControls< ResolvableSelectors >;\n\ndeclare module '@wordpress/data' {\n\tfunction dispatch( key: typeof STORE_NAME ): Actions;\n\tfunction select( key: typeof STORE_NAME ): Selectors;\n\tfunction resolveSelect( key: typeof STORE_NAME ): ResolvableSelectors;\n}\n","/**\n * External dependencies\n */\nimport { reject } from 'lodash';\nimport type { AnyAction } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { INIT_STATE } from './config';\nimport type { State } from './types';\nimport type { Action } from './actions';\n\nexport default function reducer(\n\tstate = INIT_STATE,\n\taction: AnyAction\n): State {\n\treturn actualReducer( state, action as Action ) ?? state;\n} //end reducer()\n\nfunction actualReducer( state: State, action: Action ): State {\n\tswitch ( action.type ) {\n\t\tcase 'RECEIVE_ACCOUNT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\taccount: action.account,\n\t\t\t};\n\n\t\tcase 'RECEIVE_INVOICES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinvoices: action.invoices,\n\t\t\t};\n\n\t\tcase 'RECEIVE_SITES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsites: action.sites,\n\t\t\t};\n\n\t\tcase 'UNLINK_SITE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsites: reject( state.sites, { id: action.id } ),\n\t\t\t};\n\n\t\tcase 'LOCK_PAGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisPageLocked: true,\n\t\t\t};\n\n\t\tcase 'UNLOCK_PAGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisPageLocked: false,\n\t\t\t};\n\n\t\tcase 'ENABLE_AGENCY_FULL_VIEW':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisAgencyFullViewEnabled: true,\n\t\t\t};\n\t} //end switch\n} //end actualReducer()\n","/**\n * External dependencies\n */\nimport { find } from 'lodash';\nimport type {\n\tAccount,\n\tAccountMode,\n\tFastSpringProduct,\n\tInvoice,\n\tLicense,\n\tMaybe,\n\tQuota,\n\tSite,\n\tSiteId,\n\tSubscriptionId,\n\tSubscriptionPlan,\n\tSubscriptionPeriod,\n\tSubscriptionState,\n\tFastSpringProductId,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { State } from './types';\n\nexport function getAccount( state: State ): Account {\n\treturn state.account;\n} //end getAccount()\n\nexport function getSites(\n\tstate: State,\n\tid?: SubscriptionId\n): ReadonlyArray< Site > {\n\tif ( ! id ) {\n\t\treturn [];\n\t} //end if\n\treturn state.sites;\n} //end getSites()\n\nexport function getSite( state: State, id: SiteId ): Maybe< Site > {\n\treturn find( state.sites, { id } );\n} //end getSites()\n\nexport function getInvoices(\n\tstate: State,\n\tid: SubscriptionId\n): ReadonlyArray< Invoice > {\n\tif ( ! id ) {\n\t\treturn [];\n\t} //end if\n\treturn state.invoices;\n} //end getInvoices()\n\nexport function getSubscriptionQuota( state: State ): Quota {\n\tconst { quota, quotaExtra, quotaPerMonth } = state.account;\n\n\tconst availableQuota = quota + quotaExtra;\n\tconst percentage = Math.floor(\n\t\t( 100 * ( availableQuota + 0.1 ) ) / quotaPerMonth\n\t);\n\n\treturn {\n\t\tmode: 'subscription',\n\t\tavailableQuota,\n\t\tpercentage,\n\t};\n} //end getSubscriptionId()\n\nexport function getSubscriptionId( state: State ): SubscriptionId {\n\treturn state.account.subscription;\n} //end getSubscriptionId()\n\nexport function getSubscriptionAddons(\n\tstate: State\n): ReadonlyArray< FastSpringProductId > {\n\treturn state.account.addons || [];\n} //end getSubscriptionAddons()\n\nexport function isSubscriptionDeprecated( state: State ): boolean {\n\treturn !! state.account.subscription.startsWith( 'OL' );\n} //end isSubscriptionDeprecated()\n\nexport function getFullname( state: State ): string {\n\treturn state.account.fullname;\n} //end getFullname()\n\nexport function getFirstname( state: State ): string {\n\treturn state.account.firstname;\n} //end getFirstname()\n\nexport function getLastname( state: State ): string {\n\treturn state.account.lastname;\n} //end getLastname()\n\nexport function getEmail( state: State ): string {\n\treturn state.account.email;\n} //end getEmail()\n\nexport function getStartDate( state: State ): string {\n\treturn state.account.startDate;\n} //end getStartDate()\n\nexport function getSubscriptionProduct(\n\tstate: State\n): FastSpringProduct[ 'id' ] {\n\treturn state.account.productId;\n} //end getSubscriptionProduct()\n\nexport function getPlan( state: State ): 'free' | SubscriptionPlan {\n\treturn state.account.plan;\n} //end getPlan()\n\nexport function getLicense( state: State ): License {\n\treturn state.account.license;\n} //end getLicense()\n\nexport function getPhoto( state: State ): string {\n\treturn state.account.photo;\n} //end getPhoto()\n\nexport function getProductDisplay( state: State ): string {\n\treturn state.account.productDisplay;\n} //end getProductDisplay()\n\nexport function getMode( state: State ): AccountMode {\n\treturn state.account.mode;\n} //end getMode()\n\nexport function getPeriod( state: State ): SubscriptionPeriod {\n\treturn state.account.period;\n} //end getPeriod()\n\nexport function getExtraQuotaUnits( state: State ): number {\n\treturn (\n\t\tstate.account.addonDetails[\n\t\t\t'nab-pageviews-monthly' as FastSpringProductId\n\t\t] ??\n\t\tstate.account.addonDetails[\n\t\t\t'nab-pageviews-yearly' as FastSpringProductId\n\t\t] ??\n\t\t0\n\t);\n} //end getExtraQuotaUnits()\n\nexport function getState( state: State ): SubscriptionState {\n\treturn state.account.state;\n} //end getState()\n\nexport function getDeactivationDate( state: State ): string {\n\treturn state.account.deactivationDate;\n} //end getDeactivationDate()\n\nexport function getNextChargeDate( state: State ): string {\n\treturn state.account.nextChargeDate;\n} //end getNextChargeDate()\n\nexport function getNextChargeTotal( state: State ): string {\n\treturn state.account.nextChargeTotal;\n} //end getNextChargeTotal()\n\nexport function getSitesAllowed( state: State ): number {\n\treturn state.account.sitesAllowed;\n} //end getSitesAllowed()\n\nexport function getCurrency( state: State ): string {\n\treturn state.account.currency;\n} //end getCurrency()\n\nexport function getUrlToManagePayments( state: State ): string {\n\treturn state.account.urlToManagePayments;\n} //end getUrlToManagePayments()\n\nexport function isAgency( state: State ): boolean {\n\treturn !! state.account.isAgency;\n} //end isAgency()\n\nexport function isLocked( state: State ): boolean {\n\treturn !! state.isPageLocked;\n} //end isLocked()\n\nexport function isAgencyFullViewEnabled( state: State ): boolean {\n\treturn isAgency( state ) && !! state.isAgencyFullViewEnabled;\n} //end isAgencyFullViewEnabled()\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch, select } from '@safe-wordpress/data';\n/**\n * External dependencies\n */\nimport { createErrorNotice } from '@nab/utils';\nimport type { FastSpringProductId, Site, SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_ACCOUNT } from '../config';\n\n/**\n * Connects the site with a subscription and reloads the page.\n *\n * @param {string} license Subscription license.\n */\nexport async function linkSite( license: string ): Promise< void > {\n\ttry {\n\t\tdispatch( NAB_ACCOUNT ).lock();\n\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/site/subscription`,\n\t\t\tmethod: 'POST',\n\t\t\tdata: { license },\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tdispatch( NAB_ACCOUNT ).unlock();\n\t\tcreateErrorNotice( error );\n\t} //end try\n} //end linkSite()\n\n/**\n * Returns an action object used in signalling that a site is unlinked for the account.\n * If the site is the current one, reload the page instead of returning an action.\n *\n * @param {string} id Site id.\n */\nexport async function unlinkSite( id: SiteId ): Promise< void > {\n\ttry {\n\t\tdispatch( NAB_ACCOUNT ).lock();\n\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/site/${ id }/subscription`,\n\t\t\tmethod: 'DELETE',\n\t\t} );\n\n\t\tconst site = select( NAB_ACCOUNT ).getSite( id );\n\n\t\tif ( site?.isCurrentSite ) {\n\t\t\twindow.location.reload();\n\t\t\treturn;\n\t\t} //end if\n\n\t\tdispatch( NAB_ACCOUNT ).unlock();\n\t\tdispatch( NAB_ACCOUNT ).removeSiteAfterUnlink( id );\n\t} catch ( error ) {\n\t\tdispatch( NAB_ACCOUNT ).unlock();\n\t\tcreateErrorNotice( error );\n\t}\n} //end unlinkSite()\n\n/**\n * Cancels the subscription and reloads the page.\n */\nexport async function cancelSubscription(): Promise< void > {\n\ttry {\n\t\tdispatch( NAB_ACCOUNT ).lock();\n\n\t\tconst subscriptionId = select( NAB_ACCOUNT ).getSubscriptionId();\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/subscription/${ subscriptionId }`,\n\t\t\tmethod: 'DELETE',\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tdispatch( NAB_ACCOUNT ).unlock();\n\t\tcreateErrorNotice( error );\n\t}\n} //end cancelSubscription()\n\n/**\n * Uncancels the subscription and reloads the page.\n */\nexport async function uncancelSubscription(): Promise< void > {\n\ttry {\n\t\tdispatch( NAB_ACCOUNT ).lock();\n\n\t\tconst subscriptionId = select( NAB_ACCOUNT ).getSubscriptionId();\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/subscription/${ subscriptionId }/uncancel`,\n\t\t\tmethod: 'POST',\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tdispatch( NAB_ACCOUNT ).unlock();\n\t\tcreateErrorNotice( error );\n\t}\n} //end uncancelSubscription()\n\nexport async function upgradeSubscription(\n\tproduct: FastSpringProductId,\n\textraQuotaUnits: number\n): Promise< void > {\n\ttry {\n\t\tdispatch( NAB_ACCOUNT ).lock();\n\n\t\tconst subscriptionId = select( NAB_ACCOUNT ).getSubscriptionId();\n\t\tawait apiFetch( {\n\t\t\tpath: `/nab/v1/subscription/${ subscriptionId }`,\n\t\t\tmethod: 'PUT',\n\t\t\tdata: { product, extraQuotaUnits },\n\t\t} );\n\n\t\twindow.location.reload();\n\t} catch ( error ) {\n\t\tdispatch( NAB_ACCOUNT ).unlock();\n\t\tcreateErrorNotice( error );\n\t}\n} //end upgradeSubscription()\n\nexport async function limitSiteQuota(\n\tsiteId: SiteId,\n\tmaxMonthlyQuota: number\n): Promise< void > {\n\ttry {\n\t\tconst subscription = select( NAB_ACCOUNT ).getSubscriptionId();\n\t\tconst sites = select( NAB_ACCOUNT ).getSites( subscription );\n\n\t\tconst site = await apiFetch< Partial< Site > >( {\n\t\t\tpath: `/nab/v1/site/${ siteId }`,\n\t\t\tmethod: 'PUT',\n\t\t\tdata: { maxMonthlyQuota },\n\t\t} );\n\n\t\tdispatch( NAB_ACCOUNT ).receiveSites(\n\t\t\tsites.map( ( s ) =>\n\t\t\t\ts.id === site.id ? { ...s, ...site, maxMonthlyQuota } : s\n\t\t\t)\n\t\t);\n\t} catch ( error ) {\n\t\tcreateErrorNotice( error );\n\t}\n} //end limitSiteQuota()\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@safe-wordpress/api-fetch';\nimport { dispatch, resolveSelect } from '@safe-wordpress/data';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { createErrorNotice } from '@nab/utils';\nimport type { Account, Invoice, Site, SubscriptionId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { STORE_NAME as NAB_ACCOUNT } from '../config';\n\nexport async function getAccount(): Promise< void > {\n\ttry {\n\t\tconst account = await apiFetch< Account >( {\n\t\t\tpath: '/nab/v1/account',\n\t\t} );\n\t\tdispatch( NAB_ACCOUNT ).receiveAccount( account );\n\t} catch ( error ) {\n\t\tcreateErrorNotice(\n\t\t\terror,\n\t\t\t_x( 'Error while accessing site info.', 'text', 'nelio-ab-testing' )\n\t\t);\n\t\tthrow error;\n\t} //end try\n} //end getAccount()\n\nexport async function getSubscriptionQuota(): Promise< void > {\n\tawait resolveSelect( NAB_ACCOUNT ).getAccount();\n} //end getSubscriptionQuota()\n\nexport async function getSites( id: SubscriptionId ): Promise< void > {\n\tif ( ! id ) {\n\t\treturn;\n\t} //end if\n\n\ttry {\n\t\tconst sites = await apiFetch< ReadonlyArray< Site > >( {\n\t\t\tpath: `/nab/v1/subscription/${ id }/sites`,\n\t\t} );\n\t\tdispatch( NAB_ACCOUNT ).receiveSites( sites );\n\t} catch ( error ) {\n\t\tcreateErrorNotice(\n\t\t\terror,\n\t\t\tsprintf(\n\t\t\t\t/* translators: subscription id */\n\t\t\t\t_x(\n\t\t\t\t\t'Error while accessing sites in subscription %s.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tid\n\t\t\t)\n\t\t);\n\t\tthrow error;\n\t} //end try\n} //end getSites()\n\nexport async function getInvoices( id: SubscriptionId ): Promise< void > {\n\tif ( ! id ) {\n\t\treturn;\n\t} //end if\n\n\ttry {\n\t\tconst invoices = await apiFetch< ReadonlyArray< Invoice > >( {\n\t\t\tpath: `/nab/v1/subscription/${ id }/invoices`,\n\t\t} );\n\t\tdispatch( NAB_ACCOUNT ).receiveInvoices( invoices );\n\t} catch ( error ) {\n\t\tcreateErrorNotice(\n\t\t\terror,\n\t\t\tsprintf(\n\t\t\t\t/* translators: subscription id */\n\t\t\t\t_x(\n\t\t\t\t\t'Error while accessing invoices in subscription %s.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tid\n\t\t\t)\n\t\t);\n\t\tthrow error;\n\t} //end try\n} //end getInvoices()\n","/**\n * External dependencies\n */\nimport type { Account, Invoice, Site } from '@nab/types';\n\nexport type State = {\n\treadonly account: Account;\n\n\treadonly invoices: ReadonlyArray< Invoice >;\n\treadonly sites: ReadonlyArray< Site >;\n\n\treadonly isPageLocked: boolean;\n\treadonly isAgencyFullViewEnabled: boolean;\n};\n","/**\n * WordPress dependencies\n */\nimport baseApiFetch from '@wordpress/api-fetch';\nimport { format } from '@wordpress/date';\nimport { addQueryArgs } from '@wordpress/url';\n\nimport type { APIFetchOptions } from '@wordpress/api-fetch';\n\nconst apiFetch = < T >( options: APIFetchOptions ): Promise< T > => {\n\tconst { url, path } = options;\n\tconst nabts = format( 'YmjHi' ).substring( 0, 11 ) + '0';\n\treturn baseApiFetch( {\n\t\t...options,\n\t\t...( url && {\n\t\t\turl: isRestApiRequest( options )\n\t\t\t\t? addQueryArgs( url, { nabts } )\n\t\t\t\t: url,\n\t\t} ),\n\t\t...( path && { path: addQueryArgs( path, { nabts } ) } ),\n\t} );\n};\n\nexport * from '@wordpress/api-fetch';\nexport default apiFetch;\n\n// =======\n// HELPERS\n// =======\nconst isRestApiRequest = ( options: APIFetchOptions ): boolean =>\n\t!! options.url?.includes( '/wp-json/' ) ||\n\t!! options.url?.includes( 'rest_route' ) ||\n\t!! Object.keys( options ).includes( 'rest_route' );\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/components';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/data';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/dom-ready';\nimport domReady from '@wordpress/dom-ready';\nexport default domReady;\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/element';\nimport { createRoot, render as legacyRender } from '@wordpress/element';\n\nexport function render(\n\telement: JSX.Element,\n\tcontainer: Element | null\n): void {\n\tif ( ! container ) {\n\t\treturn;\n\t} //end if\n\n\tif ( createRoot ) {\n\t\tconst root = createRoot( container );\n\t\troot.render( element );\n\t} else {\n\t\tlegacyRender( element, container );\n\t} //end if\n} //end render()\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/i18n';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/notices';\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"lodash\"];","module.exports = window[\"nab\"][\"components\"];","module.exports = window[\"nab\"][\"data\"];","module.exports = window[\"nab\"][\"date\"];","module.exports = window[\"nab\"][\"i18n\"];","module.exports = window[\"nab\"][\"utils\"];","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"date\"];","module.exports = window[\"wp\"][\"domReady\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"notices\"];","module.exports = window[\"wp\"][\"url\"];","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport '@safe-wordpress/dom-ready';\nimport '@safe-wordpress/notices';\nimport { Popover, SlotFillProvider } from '@safe-wordpress/components';\nimport { render } from '@safe-wordpress/element';\n\n/**\n * External dependencies\n */\nimport type { SiteId } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { renderHelp } from './help';\n\nimport { PageTitle } from './components/page-title';\nimport { AccountProvider } from './components/provider';\nimport { Layout } from './components/layout';\n\ntype Settings = {\n\treadonly isSubscribed: boolean;\n\treadonly siteId: SiteId;\n};\n\nexport function initPage( id: string, settings: Settings ): void {\n\tconst { siteId, isSubscribed } = settings;\n\n\tconst content = document.getElementById( id );\n\trender(\n\t\t<SlotFillProvider>\n\t\t\t<PageTitle isSubscribed={ isSubscribed } siteId={ siteId } />\n\t\t\t<AccountProvider>\n\t\t\t\t<Layout siteId={ siteId } />\n\t\t\t</AccountProvider>\n\t\t\t<Popover.Slot />\n\t\t</SlotFillProvider>,\n\t\tcontent\n\t);\n\n\trenderHelp();\n} //end initPage()\n"],"names":["React","Button","Dashicon","useSelect","useState","_x","sprintf","interpolateComponents","STORE_NAME","NAB_DATA","formatI18nDate","LicensePopover","RemoveLicenseAction","NAB_ACCOUNT","AccountInfo","isVisible","useIsVisible","fullname","useFullName","email","useEmail","startDate","useStartDate","license","useLicense","photo","usePhoto","_a","isPopoverVisible","setPopoverVisible","createElement","className","style","backgroundImage","concat","icon","mixedString","components","date","title","variant","onClick","isOpen","position","onFocusOutside","isDestructive","label","select","getMode","isAgency","isAgencyFullViewEnabled","isSubscribed","isAgencySummary","getFullname","getEmail","getStartDate","getToday","getLicense","getPhoto","useDispatch","ConfirmationDialog","buttonProps","__rest","_b","setVisible","siteId","getPluginSetting","isLocked","unlinkSite","Fragment","__assign","disabled","text","confirmLabel","cancelLabel","onCancel","onConfirm","apiFetch","Popover","Spinner","getLocale","createErrorNotice","AddonsPopover","isLoading","useIsLoading","useAddons","addons","enabledAddons","_c","isConfirmationOpen","setIsConfirmationOpen","_d","selectedAddon","setSelectedAddon","currency","useCurrency","_e","lock","unlock","displayName","displayPrice","strong","isConfirmBusy","path","method","then","window","location","reload","catch","error","finally","undefined","noArrow","map","id","price","period","key","localize","includes","formatPrice","isBusy","hasFinishedResolution","getProducts","getSubscriptionProduct","getSubscriptionAddons","currentProduct","products","allowedAddons","find","p","filter","isAddon","getCurrency","periodText","priceText","trim","str","locale","startsWith","es","en","ExternalLink","Invoice","Billing","invoices","useInvoices","urlToManagePayments","usePaymentsUrl","href","invoice","reference","isSubscriptionDeprecated","isDeprecated","getSubscriptionId","getInvoices","getUrlToManagePayments","classnames","invoiceUrl","chargeDate","isRefunded","subtotalDisplay","target","rel","Plan","Sites","LoadingModal","Layout","TextControl","LICENSE_LENGTH","OLD_LICENSE_LENGTH","setLicense","linkSite","value","placeholder","maxLength","Math","max","onChange","v","length","Modal","noop","shouldCloseOnEsc","shouldCloseOnClickOutside","isDismissible","onRequestClose","IconButton","Snackbar","useEffect","PageTitle","copied","setCopied","timeout","setTimeout","clearTimeout","navigator","clipboard","writeText","QuotaMeter","AgencyPlan","productDisplay","getProductDisplay","DowngradeButton","ViewDetailsButton","setIsOpen","open","close","confirm","validating","setValidating","enableAgencyFullView","receiveAccount","validate","data","account","QuotaPurchasePopover","getSubscribeLabel","getSubscribeLink","UpgradePopover","quota","useSubscriptionQuota","useIsAgencySummary","Title","Explanation","subscriptionQuota","Actions","usePeriodAndPlan","useProductDisplay","state","useSubscriptionState","isFree","useIsFree","periodLabel","isInvitation","useIsInvitation","useIsSubscriptionDeprecated","deactivationDate","useDeactivationDate","nextChargeDate","useNextChargeDate","nextChargeTotal","useNextChargeTotal","link","money","BuyMoreQuotaLink","UpgradeLink","AddLicenseAction","SubscribeAction","ReactivateSubscriptionAction","CancelSubscriptionAction","BuyMoreQuotaAction","AddonsAction","UpgradeAction","today","useToday","plan","isDialogOpen","setDialogOpen","cancelSubscription","uncancelSubscription","getPeriod","getPlan","getState","getDeactivationDate","getNextChargeDate","getNextChargeTotal","getSubscriptionQuota","NoticeList","store","noticesStore","NOTICES","name","LoadingAnimation","AccountProvider","children","hasError","useHasError","notices","useNotices","removeNotice","onRemove","getAccount","hasResolutionFailed","getNotices","CheckboxControl","HelpIcon","numberFormat","Site","displayQuotaLimit","actualUrl","isCurrentSite","usedMonthlyQuota","maxMonthlyQuota","url","type","stringifyMaxQuota","LimitQuotaAction","DeleteAction","canLimitQuota","canLimitSiteQuota","limitSiteQuota","currentSiteLimit","getSite","SiteQuotaDialog","initialValue","onClose","onSave","save","isSaving","setSaving","setValue","isDirty","isUnlimited","n","intValue","Number","parseInt","limit","abs","checked","enabled","min","sites","useSites","sitesAllowed","useSitesAllowed","sitesConnected","some","s","site","getSites","getSitesAllowed","SelectControl","range","toPairs","PRODUCTS","monthly","product","quotaAddon","yearly","PRODUCT_LIST","BASE_VIEWS","ADDON_VIEWS","ADDON_OPTIONS","EnterpriseUpgradePopover","back","useProducts","useCurrentStatus","wasYearly","previousAddonQuantity","options","expandOptionsAndDropFirst","__spreadArray","addonQuantity","setAddonQuantity","isYearly","setYearly","useTotal","pricePeriod","upgradeSubscription","x","JSON","stringify","formatViews","help","mode","quantity","baseProduct","addonProduct","USD","perc","quantityDiscounts","q","d","reduce","r","discount","total","getExtraQuotaUnits","formatter","Intl","NumberFormat","replace","e","format","ceil","values","result","i","slice","RegularUpgradePopover","props","currentPlan","interestedInEnterprise","enableEnterprise","showEnterprise","RadioControl","mapValues","selectedOption","setSelectedOption","selected","description","acc","a","option","allUpgradeableProducts","upgradeableFrom","upgradeableProducts","enterpriseProduct","getEnabledAddons","addonId","areSameAddon","EUR","b","aprefix","substring","indexOf","bprefix","appendContextualHelp","renderHelp","screen","questions","castArray","receiveSites","receiveInvoices","removeSiteAfterUnlink","INIT_STATE","firstname","lastname","productId","quotaExtra","quotaPerMonth","subscription","addonDetails","isPageLocked","registerStore","controls","reducer","selectors","realActions","sideEffects","resolvers","actions","reject","action","actualReducer","availableQuota","percentage","floor","getFirstname","getLastname","dispatch","sent","error_1","error_2","subscriptionId","error_3","error_4","extraQuotaUnits","error_5","site_1","error_6","resolveSelect","baseApiFetch","addQueryArgs","nabts","isRestApiRequest","Object","keys","domReady","createRoot","render","legacyRender","element","container","root","SlotFillProvider","initPage","settings","content","document","getElementById","Slot"],"sourceRoot":""}