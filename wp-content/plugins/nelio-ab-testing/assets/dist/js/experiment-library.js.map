{"version":3,"file":"js/experiment-library.js","mappings":"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","sources":["webpack://nab/./node_modules/@automattic/interpolate-components/dist/esm/index.js","webpack://nab/./node_modules/@automattic/interpolate-components/dist/esm/tokenize.js","webpack://nab/./packages/experiment-library/css/icon.svg","webpack://nab/./packages/experiment-library/custom-post-type/icon.svg","webpack://nab/./packages/experiment-library/headline/icon.svg","webpack://nab/./packages/experiment-library/heatmap/icon.svg","webpack://nab/./packages/experiment-library/javascript/icon.svg","webpack://nab/./packages/experiment-library/menu/icon.svg","webpack://nab/./packages/experiment-library/page/icon.svg","webpack://nab/./packages/experiment-library/post/icon.svg","webpack://nab/./packages/experiment-library/template/icon.svg","webpack://nab/./packages/experiment-library/theme/icon.svg","webpack://nab/./packages/experiment-library/widget/icon.svg","webpack://nab/./packages/experiment-library/woocommerce-bulk-sale/icon.svg","webpack://nab/./packages/experiment-library/woocommerce-product/icon.svg","webpack://nab/./packages/experiment-library/css/components/original/index.tsx","webpack://nab/./packages/experiment-library/css/components/value-preview/index.tsx","webpack://nab/./packages/experiment-library/css/index.ts","webpack://nab/./packages/experiment-library/custom-post-type/index.ts","webpack://nab/./packages/experiment-library/headline/components/alternative-headline/index.tsx","webpack://nab/./packages/experiment-library/headline/components/image-and-excerpt/index.tsx","webpack://nab/./packages/experiment-library/headline/components/original-headline/index.tsx","webpack://nab/./packages/experiment-library/headline/hooks.ts","webpack://nab/./packages/experiment-library/headline/index.ts","webpack://nab/./packages/experiment-library/heatmap/index.ts","webpack://nab/./packages/experiment-library/index.ts","webpack://nab/./packages/experiment-library/javascript/components/original/index.tsx","webpack://nab/./packages/experiment-library/javascript/components/value-preview/index.tsx","webpack://nab/./packages/experiment-library/javascript/index.ts","webpack://nab/./packages/experiment-library/menu/components/alternative/index.tsx","webpack://nab/./packages/experiment-library/menu/components/original/index.tsx","webpack://nab/./packages/experiment-library/menu/index.ts","webpack://nab/./packages/experiment-library/page/components/original.tsx","webpack://nab/./packages/experiment-library/page/index.ts","webpack://nab/./packages/experiment-library/post/components/alternative/index.tsx","webpack://nab/./packages/experiment-library/post/components/original/index.tsx","webpack://nab/./packages/experiment-library/post/index.ts","webpack://nab/./packages/experiment-library/template/components/alternative.tsx","webpack://nab/./packages/experiment-library/template/components/original/index.tsx","webpack://nab/./packages/experiment-library/template/index.ts","webpack://nab/./packages/experiment-library/theme/components/alternative.tsx","webpack://nab/./packages/experiment-library/theme/components/original/index.tsx","webpack://nab/./packages/experiment-library/theme/index.ts","webpack://nab/./packages/experiment-library/widget/components/original/index.tsx","webpack://nab/./packages/experiment-library/widget/index.ts","webpack://nab/./packages/experiment-library/woocommerce-bulk-sale/components/alternative/index.tsx","webpack://nab/./packages/experiment-library/woocommerce-bulk-sale/components/original/index.tsx","webpack://nab/./packages/experiment-library/woocommerce-bulk-sale/hooks.ts","webpack://nab/./packages/experiment-library/woocommerce-bulk-sale/index.ts","webpack://nab/./packages/experiment-library/woocommerce-product/components/original/index.tsx","webpack://nab/./packages/experiment-library/woocommerce-product/index.ts","webpack://nab/./packages/safe-wordpress/components.ts","webpack://nab/./packages/safe-wordpress/core-data.ts","webpack://nab/./packages/safe-wordpress/data.ts","webpack://nab/./packages/safe-wordpress/element.ts","webpack://nab/./packages/safe-wordpress/hooks.ts","webpack://nab/./packages/safe-wordpress/i18n.ts","webpack://nab/./packages/safe-wordpress/media-utils.ts","webpack://nab/./packages/experiment-library/css/components/original/style.scss?bfa9","webpack://nab/./packages/experiment-library/css/components/value-preview/style.scss?bd08","webpack://nab/./packages/experiment-library/headline/components/image-and-excerpt/style.scss?9566","webpack://nab/./packages/experiment-library/javascript/components/original/style.scss?b23e","webpack://nab/./packages/experiment-library/javascript/components/value-preview/style.scss?32e4","webpack://nab/./packages/experiment-library/menu/components/original/style.scss?b255","webpack://nab/./packages/experiment-library/post/components/original/style.scss?d9b7","webpack://nab/./packages/experiment-library/template/components/original/style.scss?aa04","webpack://nab/./packages/experiment-library/theme/components/original/style.scss?e759","webpack://nab/./packages/experiment-library/widget/components/original/style.scss?0bb9","webpack://nab/./packages/experiment-library/woocommerce-bulk-sale/components/original/style.scss?1e3e","webpack://nab/./packages/experiment-library/woocommerce-product/components/original/style.scss?e114","webpack://nab/external window \"React\"","webpack://nab/external window \"lodash\"","webpack://nab/external window [\"nab\",\"components\"]","webpack://nab/external window [\"nab\",\"conversionActions\"]","webpack://nab/external window [\"nab\",\"data\"]","webpack://nab/external window [\"nab\",\"experiments\"]","webpack://nab/external window [\"nab\",\"utils\"]","webpack://nab/external window [\"wp\",\"components\"]","webpack://nab/external window [\"wp\",\"coreData\"]","webpack://nab/external window [\"wp\",\"data\"]","webpack://nab/external window [\"wp\",\"element\"]","webpack://nab/external window [\"wp\",\"hooks\"]","webpack://nab/external window [\"wp\",\"i18n\"]","webpack://nab/external window [\"wp\",\"mediaUtils\"]","webpack://nab/./node_modules/classnames/index.js","webpack://nab/webpack/bootstrap","webpack://nab/webpack/runtime/compat get default export","webpack://nab/webpack/runtime/define property getters","webpack://nab/webpack/runtime/hasOwnProperty shorthand","webpack://nab/webpack/runtime/make namespace object","webpack://nab/./packages/experiment-library/export.ts"],"sourcesContent":["import { cloneElement, createElement, Fragment } from 'react';\nimport tokenize from './tokenize';\n\nfunction getCloseIndex(openIndex, tokens) {\n  const openToken = tokens[openIndex];\n  let nestLevel = 0;\n\n  for (let i = openIndex + 1; i < tokens.length; i++) {\n    const token = tokens[i];\n\n    if (token.value === openToken.value) {\n      if (token.type === 'componentOpen') {\n        nestLevel++;\n        continue;\n      }\n\n      if (token.type === 'componentClose') {\n        if (nestLevel === 0) {\n          return i;\n        }\n\n        nestLevel--;\n      }\n    }\n  } // if we get this far, there was no matching close token\n\n\n  throw new Error('Missing closing component token `' + openToken.value + '`');\n}\n\nfunction buildChildren(tokens, components) {\n  let children = [];\n  let openComponent;\n  let openIndex;\n\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n\n    if (token.type === 'string') {\n      children.push(token.value);\n      continue;\n    } // component node should at least be set\n\n\n    if (components[token.value] === undefined) {\n      throw new Error(`Invalid interpolation, missing component node: \\`${token.value}\\``);\n    } // should be either ReactElement or null (both type \"object\"), all other types deprecated\n\n\n    if (typeof components[token.value] !== 'object') {\n      throw new Error(`Invalid interpolation, component node must be a ReactElement or null: \\`${token.value}\\``);\n    } // we should never see a componentClose token in this loop\n\n\n    if (token.type === 'componentClose') {\n      throw new Error(`Missing opening component token: \\`${token.value}\\``);\n    }\n\n    if (token.type === 'componentOpen') {\n      openComponent = components[token.value];\n      openIndex = i;\n      break;\n    } // componentSelfClosing token\n\n\n    children.push(components[token.value]);\n    continue;\n  }\n\n  if (openComponent) {\n    const closeIndex = getCloseIndex(openIndex, tokens);\n    const grandChildTokens = tokens.slice(openIndex + 1, closeIndex);\n    const grandChildren = buildChildren(grandChildTokens, components);\n    const clonedOpenComponent = /*#__PURE__*/cloneElement(openComponent, {}, grandChildren);\n    children.push(clonedOpenComponent);\n\n    if (closeIndex < tokens.length - 1) {\n      const siblingTokens = tokens.slice(closeIndex + 1);\n      const siblings = buildChildren(siblingTokens, components);\n      children = children.concat(siblings);\n    }\n  }\n\n  children = children.filter(Boolean);\n\n  if (children.length === 0) {\n    return null;\n  }\n\n  if (children.length === 1) {\n    return children[0];\n  }\n\n  return /*#__PURE__*/createElement(Fragment, null, ...children);\n}\n\nexport default function interpolate(options) {\n  const {\n    mixedString,\n    components,\n    throwErrors\n  } = options;\n\n  if (!components) {\n    return mixedString;\n  }\n\n  if (typeof components !== 'object') {\n    if (throwErrors) {\n      throw new Error(`Interpolation Error: unable to process \\`${mixedString}\\` because components is not an object`);\n    }\n\n    return mixedString;\n  }\n\n  const tokens = tokenize(mixedString);\n\n  try {\n    return buildChildren(tokens, components);\n  } catch (error) {\n    if (throwErrors) {\n      throw new Error(`Interpolation Error: unable to process \\`${mixedString}\\` because of error \\`${error.message}\\``);\n    }\n\n    return mixedString;\n  }\n}","function identifyToken(item) {\n  // {{/example}}\n  if (item.startsWith('{{/')) {\n    return {\n      type: 'componentClose',\n      value: item.replace(/\\W/g, '')\n    };\n  } // {{example /}}\n\n\n  if (item.endsWith('/}}')) {\n    return {\n      type: 'componentSelfClosing',\n      value: item.replace(/\\W/g, '')\n    };\n  } // {{example}}\n\n\n  if (item.startsWith('{{')) {\n    return {\n      type: 'componentOpen',\n      value: item.replace(/\\W/g, '')\n    };\n  }\n\n  return {\n    type: 'string',\n    value: item\n  };\n}\n\nexport default function tokenize(mixedString) {\n  const tokenStrings = mixedString.split(/(\\{\\{\\/?\\s*\\w+\\s*\\/?\\}\\})/g); // split to components and strings\n\n  return tokenStrings.map(identifyToken);\n}","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"m11.188 5.205 9.847 106.076L64 122.795l42.965-11.514 9.847-106.076H64Z\",\n    style: {\n      fill: \"#255da9\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30.568 26.557h65.94l-1.219 14.078-30.213 12.27h29.15L90.73 93.29l-26.795 7.879-26.797-7.879-1.965-19.97h13.521l1.313 10.25 13.928 3.677 14.705-4.469 1.058-16.549H34.473l-1.264-12.847L64.98 40.48H31.94Z\",\n    style: {\n      fill: \"#fff\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M74.454 38.903V3.853l35.052 35.05z\",\n    style: {\n      fill: \"#fed0a4\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20.284 3.852h54.447v34.775h34.775v86.312H20.284z\",\n    style: {\n      fill: \"#ff9348\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M91.378 55.908 62.483 84.94 45.89 68.27l-7.116 7.16 15.039 15.113 7.75 7.788.92.92 36.01-36.192-7.116-7.16z\",\n    style: {\n      fill: \"#fff\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M25.753 19.803h64.632l16.817 16.158v16.158h-81.45z\",\n    style: {\n      fill: \"#2b471f\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M26.635 51.546h80.121v60.264h-80.12z\",\n    style: {\n      fill: \"#508139\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M80.711 5v.019H15.28V123.39h99.737v-84.23h-.143L80.806 5.096v-.076h-.076zM30.383 24.798H80.71v14.48H99.61v10.715H30.383zm40.264 31.25H99.24v6.29H70.647zm0 11.269h28.727v6.256H70.647zm0 11.235h28.727v6.324H70.647zM30.854 89.854h68.52v6.29h-68.52zm0 11.235h27.314v6.358H30.854z\",\n    style: {\n      fill: \"#8ac072\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M30.854 55.805h35.019V84.74h-35.02z\",\n    style: {\n      fill: \"#f2f8ef\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.847 14.847h28.475v28.475H14.847Z\",\n    style: {\n      fill: \"#48489d\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M49.424 14.847h28.474v28.475H49.424Z\",\n    style: {\n      fill: \"#6464b8\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M84.678 14.847h28.475v28.475H84.678Z\",\n    style: {\n      fill: \"#9292cd\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.847 49.424h28.475v28.474H14.847Z\",\n    style: {\n      fill: \"#6464b8\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M49.424 49.424h28.474v28.474H49.424Z\",\n    style: {\n      fill: \"#7a7ac2\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M84.678 49.424h28.475v28.474H84.678Z\",\n    style: {\n      fill: \"#9494ce\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.847 84.678h28.475v28.475H14.847Z\",\n    style: {\n      fill: \"#9292cd\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M49.424 84.678h28.474v28.475H49.424Z\",\n    style: {\n      fill: \"#9494ce\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M84.678 84.678h28.475v28.475H84.678Z\",\n    style: {\n      fill: \"#9f9fd3\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M10.953 10.953h106.094v106.094H10.953Z\",\n    style: {\n      fill: \"#f0db4f\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M51.945 108.646c-5.705-.505-10.107-3.348-12.683-8.19l-.447-.84 3.992-2.416a475 475 0 0 1 4.058-2.44c.036-.015.3.375.587.867 1.388 2.375 2.578 3.488 4.26 3.987.649.193 2.544.221 3.355.05 1.791-.376 2.87-1.535 3.37-3.623.17-.706.183-1.852.214-18.527l.032-17.775h9.883l-.034 18.43c-.036 20.386.015 18.793-.685 21.204-1.298 4.475-4.457 7.536-8.994 8.715-1.985.516-4.807.744-6.908.558m38.215.002c-4.071-.317-7.65-1.538-10.63-3.626-1.145-.802-3.15-2.789-3.94-3.903-1.01-1.424-1.599-2.481-1.456-2.614.17-.158 7.833-4.578 7.937-4.578.046 0 .232.23.412.512 1.755 2.735 4.034 4.483 6.724 5.159 1.2.3 3.905.325 5.1.045 1.747-.41 3.343-1.55 3.937-2.812.538-1.142.527-2.696-.026-3.879-.775-1.655-2.36-2.666-7.874-5.025-3.99-1.706-5.801-2.665-7.715-4.083-3.077-2.28-4.9-5.264-5.44-8.909-.198-1.332-.2-3.674-.006-4.876.65-4.01 3.164-7.394 6.866-9.243 3.631-1.813 8.92-2.16 13.204-.864 2.235.676 4.221 1.918 5.896 3.687.861.91 2.572 3.278 2.504 3.467-.03.084-7.332 4.8-7.58 4.895-.089.034-.31-.225-.626-.735-.67-1.08-1.926-2.314-2.773-2.728-.985-.48-1.804-.66-3.018-.664-1.71-.006-2.82.423-3.782 1.463-.648.7-.963 1.455-1.035 2.478-.096 1.374.292 2.543 1.147 3.457.925.989 2.275 1.727 6.443 3.526 8.474 3.656 11.784 6.34 13.4 10.87.567 1.588.709 2.595.712 5.066.003 2.11-.016 2.347-.264 3.39-.594 2.495-1.552 4.23-3.31 5.99-1.241 1.246-2.078 1.857-3.607 2.635-2.885 1.469-7.238 2.207-11.2 1.899\",\n    style: {\n      fill: \"#323330\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3.328 18.108H124.92v20.648H3.328zM3.328 54.624H124.92v20.648H3.328zM3.328 91.14H124.92v20.648H3.328z\",\n    style: {\n      fill: \"#6daa11\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M74.155 39.06V3.852l35.208 35.208z\",\n    style: {\n      fill: \"#f6a097\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.742 3.852h54.69v34.931h34.931v86.698H19.742z\",\n    style: {\n      fill: \"#ef5848\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M122.226 47.15 81.116 6.023q-3.195 3.14-4.768 6.935-1.566 3.796-1.568 7.764c0 2.608.521 5.176 1.58 7.706L50.7 54.067a30.1 30.1 0 0 0-13.83-3.373q-5.665.001-10.962 2.053c-3.532 1.372-6.685 3.432-9.46 6.193l21.866 21.807s9.407 9.316 9.264 9.267l21.73 21.788q4.16-4.16 6.202-9.46A30.2 30.2 0 0 0 77.55 91.4a30 30 0 0 0-.836-7.108 29.7 29.7 0 0 0-2.53-6.742L99.82 51.91q3.796 1.562 7.705 1.56 3.989.001 7.774-1.57c2.523-1.042 4.832-2.63 6.926-4.747z\",\n    style: {\n      fill: \"#f19c00\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M38.483 80.617 24.522 96.674l-10.53 12.769-6.671 8.862c-1.548 2.286-2.336 3.806-2.336 4.527l-.048.288.138.048v.233l.095-.137.233.048c.727 0 2.241-.769 4.527-2.288l8.862-6.623 12.77-10.577 16.153-13.96-9.243-9.244z\",\n    style: {\n      fill: \"#f19c00\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M74.155 39.06V3.852l35.208 35.208z\",\n    style: {\n      fill: \"#b6ccf9\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.742 3.852V125.48h89.621V38.783H74.432V3.852zm49.404 48.455h.057q1.341-.001 2.168 1.054.798 1.14.371 2.452L60.25 91.145q-.57 1.882-2.566 1.882h-.086q-1.37.001-2.139-1.054-.77-1.027-.371-2.397L66.58 54.188q.627-1.882 2.566-1.881M50.871 59.32q1.37.057 2.281.998.942.914.942 2.282 0 2.167-2.026 3.023l-17.423 7.072 17.423 7.073q2.025.827 2.026 3.023 0 1.454-.942 2.395-.912.94-2.28.941-.63 0-1.284-.314l-21.559-9.268q-2.51-1.083-2.51-3.793 0-2.766 2.51-3.85l21.559-9.324q.656-.314 1.283-.258m26.264 0q.656-.056 1.283.258l21.559 9.324q2.48 1.084 2.48 3.85 0 2.709-2.48 3.793l-21.559 9.267a2.84 2.84 0 0 1-1.283.315q-1.312 0-2.252-.941-.942-1.055-.998-2.395 0-2.196 2.052-3.023l17.368-7.073-17.368-7.072q-2.052-.856-2.052-3.023.056-1.369.998-2.282a3.29 3.29 0 0 1 2.252-.998\",\n    style: {\n      fill: \"#487fef\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.353 4.937v118.917h97.346V4.937zm10.73 14.803h75.885v17.224H26.083zm25.974 25.038h49.911v64.273h-49.91zm-25.975.054h19.37v16.124h-19.37zm0 24.048h19.37v16.124h-19.37zm0 24.048h19.37v16.123h-19.37z\",\n    style: {\n      fill: \"#61b8dd\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M63.5 102.276c-20.989 0-38.065-17.12-38.065-38.16s17.076-38.167 38.066-38.167c20.984 0 38.06 17.127 38.06 38.166 0 21.04-17.076 38.16-38.06 38.16m56.279-57.571s.982-.432-4.733-10.538c-5.704-10.107-6.562-9.466-6.562-9.466-11.055 3.646-16.875 4.008-16.875 4.008l.022.034a44.9 44.9 0 0 0-11.83-6.969h.306s-2.57-5.297-4.956-16.853c0 0 .112-1.065-11.356-1.065-11.484 0-11.362 1.065-11.362 1.065-2.18 10.582-4.52 15.9-4.9 16.725-.28.106-.563.201-.836.316-3.83 1.579-7.381 3.691-10.604 6.222l.045-.072s-5.803-.49-16.792-4.37c0 0-.841-.662-6.756 9.327-5.921 9.985-4.956 10.425-4.956 10.425 8.54 8.022 11.685 12.995 11.685 12.995l.039-.056a46.4 46.4 0 0 0-.664 7.677c0 2.28.173 4.521.497 6.718l-.023-.039s-3.244 4.906-11.952 12.745c0 0-.97.417 4.738 10.531 5.704 10.102 6.55 9.477 6.55 9.477 11.078-3.658 16.887-4.013 16.887-4.013l-.022-.05a44.7 44.7 0 0 0 11.841 6.986h-.318s2.576 5.296 4.957 16.853c0 0-.129 1.065 11.356 1.065 11.473 0 11.356-1.065 11.356-1.065 2.18-10.57 4.515-15.894 4.906-16.72a44.9 44.9 0 0 0 11.428-6.516l-.039.044s5.804.475 16.792 4.376c0 0 .836.648 6.768-9.333 5.91-9.99 4.95-10.425 4.95-10.425-8.546-8.028-11.685-12.995-11.685-12.995l-.033.04c.423-2.493.641-5.057.641-7.678a47 47 0 0 0-.467-6.69l.011.023s3.245-4.905 11.947-12.739\",\n    style: {\n      fill: \"#2a508d\"\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M63.502 84.018c-11.451 0-20.733-9.298-20.733-20.783 0-11.479 9.282-20.79 20.733-20.79 11.456 0 20.733 9.31 20.733 20.79 0 11.484-9.277 20.783-20.733 20.783m0-54.428c-18.503 0-33.556 15.097-33.556 33.645 0 18.553 15.053 33.65 33.556 33.65 18.497 0 33.55-15.097 33.55-33.65 0-18.548-15.053-33.645-33.55-33.645M35.394 98.647l-.023-.05\",\n    style: {\n      fill: \"#1e3863\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M73.466 11.33 42.333 42.463 11.2 73.6l21.531 21.535c11.843 11.845 21.765 21.535 22.051 21.535s14.358-13.834 31.27-30.744L116.8 55.18V11.329H95.132Zm18.683 12.485c1.914 0 3.83.314 5.211.942 4.116 1.87 7.504 7.054 7.504 11.48s-3.388 9.611-7.504 11.48c-1.287.586-3.298.952-5.21.952-4.028 0-6.719-1.24-9.462-4.356-2.794-3.174-3.711-6.757-2.787-10.888.759-3.39 3.878-7.232 7.04-8.668 1.382-.628 3.295-.942 5.208-.942M58.163 52.827l6.711 32.207-2.844 2.844-6.754-32.164zm11.041 5.953q.34.006.684.055 2.734.388 5.8 3.453 3.012 3.01 3.356 5.842.346 2.83-2.057 5.234-2.43 2.43-5.234 2.084-2.804-.345-5.842-3.383-3.094-3.093-3.453-5.828-.373-2.748 2.195-5.316 2.175-2.175 4.551-2.14m-.705 3.604q-.953-.104-1.719.664-1.105 1.104-.58 2.484.54 1.369 2.707 3.537 2.209 2.209 3.563 2.678 1.34.456 2.377-.58 1.007-1.008.51-2.389t-2.637-3.521q-2.197-2.197-3.565-2.707a2.6 2.6 0 0 0-.656-.166m-20.756 2.81q.34.002.684.05 2.762.359 5.828 3.425 3.01 3.01 3.355 5.87.345 2.83-2.086 5.26-2.403 2.404-5.207 2.057-2.817-.358-5.855-3.396-3.135-3.135-3.467-5.842-.344-2.72 2.211-5.275 2.163-2.163 4.537-2.149m-.678 3.625q-.952-.103-1.718.664-1.105 1.105-.594 2.471.496 1.354 2.678 3.537 2.182 2.181 3.564 2.678 1.38.47 2.416-.565 1.023-1.022.512-2.39-.498-1.38-2.666-3.549t-3.535-2.68a2.6 2.6 0 0 0-.657-.166\",\n    style: {\n      fill: \"#2a508d\"\n    }\n  }));\n};\nexport default SvgIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nvar SvgIcon = function SvgIcon(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 128 128\"\n  }, props), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.815 24.783v14.143h100.37V24.783ZM19.4 43.03v60.188h89.204V43.029Zm27.87 8.205h33.464v6.504H47.27Z\",\n    style: {\n      fill: \"#2a508d\"\n    }\n  }));\n};\nexport default SvgIcon;","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport const Original = (): JSX.Element => (\n\t<p className=\"nab-css-original-version\">\n\t\t{ _x(\n\t\t\t'Current look and feel with no extra CSS styles',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t) }\n\t</p>\n);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { TextareaControl } from '@safe-wordpress/components';\n\n/**\n * External dependencies\n */\nimport './style.scss';\nimport type { AlternativeAttributes } from '../../types';\n\nexport type ValuePreviewProps = {\n\treadonly attributes: AlternativeAttributes;\n};\n\nexport const ValuePreview = ( {\n\tattributes: { css },\n}: ValuePreviewProps ): JSX.Element => (\n\t<TextareaControl\n\t\tclassName=\"nab-css-value-preview\"\n\t\tvalue={ css }\n\t\tonChange={ () => void null }\n\t\treadOnly\n\t/>\n);\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@safe-wordpress/hooks';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { DefaultAlternative } from '@nab/components';\nimport type { ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Original } from './components/original';\nimport { ValuePreview } from './components/value-preview';\n\nimport type { ControlAttributes, AlternativeAttributes } from './types';\n\nexport const name = 'nab/css';\n\nexport const settings: Omit<\n\tExperimentType< ControlAttributes, AlternativeAttributes >,\n\t'name'\n> = {\n\tcategory: 'global',\n\ttitle: _x( 'CSS', 'text (experiment name)', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Test different CSS rules on your site',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tsupports: {\n\t\talternativeEdition: 'external',\n\t\talternativePreviewDialog: ValuePreview,\n\t\tscope: 'custom',\n\t},\n\thelp: {\n\t\toriginal: _x(\n\t\t\t'CSS split tests help you to improve the conversion rate of your WordPress site by changing its look and feel. The control version (commonly known as the “A” version) is how your site currently looks with the active theme, with no extra CSS snippets loaded in the front-end.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\talternative: _x(\n\t\t\t'Here you can create one or more CSS snippets that will be loaded after your theme’s own styles. This way, you can test what style works the best for you. Click on the “Edit” link of each variant to view and edit the corresponding CSS snippet.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\tdefaults: {\n\t\toriginal: {},\n\t\talternative: {\n\t\t\tname: '',\n\t\t\tcss: '',\n\t\t},\n\t},\n\tviews: {\n\t\toriginal: Original,\n\t\talternative: DefaultAlternative,\n\t},\n};\n\n// =======\n// FILTERS\n// =======\n\naddFilter(\n\t'nab.isTestedElementInvalid',\n\t'nab/cssTestedElementShouldNotBeInvalid',\n\t( error, _, experimentType ) => ( name === experimentType ? false : error )\n);\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Original } from '../post/components/original';\nimport { Alternative } from '../post/components/alternative';\n\nimport type { ControlAttributes, AlternativeAttributes } from './types';\n\nexport const name = 'nab/custom-post-type';\n\nexport const settings: Omit<\n\tExperimentType< ControlAttributes, AlternativeAttributes >,\n\t'name'\n> = {\n\tcategory: 'page',\n\ttitle: _x(\n\t\t'Custom Post Type',\n\t\t'text (experiment name)',\n\t\t'nelio-ab-testing'\n\t),\n\tdescription: _x(\n\t\t'Test alternative versions of a custom post type',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tsupports: {\n\t\talternativeApplication: ( alternatives ) =>\n\t\t\t! alternatives[ 0 ]?.attributes?.testAgainstExistingContent,\n\t\talternativeEdition: 'external',\n\t\tpostTypeExceptions: [\n\t\t\t'page',\n\t\t\t'post',\n\t\t\t'product',\n\t\t\t'product_variation',\n\t\t\t'attachment',\n\t\t\t'nelio_popup',\n\t\t\t'nelio_form',\n\t\t],\n\t\tscope: 'tested-post-with-consistency',\n\t},\n\thelp: {\n\t\toriginal: _x(\n\t\t\t'Split tests of custom post types help you to improve the conversion rate of your WordPress site by creating one or more variants of your content. The control version (commonly known as the “A” version) is the already-existing content from your site you want to run the test on.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\talternative: _x(\n\t\t\t'You can create one or more variants of your tested element. By default, each variant you create will be an exact copy of the tested element. Click on the “Edit” link of each variant to tweak it as you please. When editing a variant, you can also overwrite it with the content of any existing element in the selected type.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\tdefaults: {\n\t\toriginal: {\n\t\t\tpostType: '',\n\t\t\tpostId: 0,\n\t\t},\n\t\talternative: {\n\t\t\tname: '',\n\t\t\tpostId: 0,\n\t\t},\n\t},\n\tviews: {\n\t\toriginal: Original,\n\t\talternative: Alternative,\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { DefaultAlternative } from '@nab/components';\nimport type { ExperimentEditProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { ImageAndExcerpt } from '../image-and-excerpt';\nimport { useTestedPost } from '../../hooks';\n\nimport type { AlternativeAttributes } from '../../types';\n\nexport type AlternativeProps = ExperimentEditProps< AlternativeAttributes > & {\n\treadonly excerptPlaceholder?: string;\n};\n\nexport const Alternative = ( {\n\tdisabled,\n\tsetAttributes,\n\t...props\n}: AlternativeProps ): JSX.Element => {\n\tconst {\n\t\texcerpt,\n\t\texcerptPlaceholder,\n\t\timageId,\n\t\timageUrl,\n\t\toriginalImageId,\n\t\toriginalImageUrl,\n\t\toriginalTitle,\n\t} = useImageAndExcerpt( props );\n\n\treturn (\n\t\t<>\n\t\t\t<DefaultAlternative\n\t\t\t\t{ ...{ ...props, setAttributes } }\n\t\t\t\tplaceholder={\n\t\t\t\t\toriginalTitle ||\n\t\t\t\t\t_x(\n\t\t\t\t\t\t'Write an alternative title…',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tdisabled={ disabled }\n\t\t\t/>\n\t\t\t<ImageAndExcerpt\n\t\t\t\timageId={ imageId }\n\t\t\t\timageUrl={ imageUrl }\n\t\t\t\texcerpt={ excerpt }\n\t\t\t\texcerptPlaceholder={ excerptPlaceholder }\n\t\t\t\tdefaultImageId={ originalImageId }\n\t\t\t\tdefaultImageUrl={ originalImageUrl }\n\t\t\t\tdisabled={ disabled }\n\t\t\t\tonImageChange={ ( id, url ) =>\n\t\t\t\t\tsetAttributes( { imageId: id, imageUrl: url } )\n\t\t\t\t}\n\t\t\t\tonExcerptChange={ ( value ) =>\n\t\t\t\t\tsetAttributes( { excerpt: value } )\n\t\t\t\t}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nconst useImageAndExcerpt = (\n\tprops: Omit< AlternativeProps, 'disabled' | 'setAttributes' >\n) => {\n\tconst imageId = props.attributes?.imageId ?? 0;\n\tconst imageUrl = props.attributes?.imageUrl ?? '';\n\tconst excerpt = props.attributes?.excerpt ?? '';\n\tconst excerptPlaceholder = props.excerptPlaceholder ?? '';\n\n\tconst post = useTestedPost();\n\tconst originalTitle = post?.title ?? '';\n\tconst originalImageId = post?.imageId ?? 0;\n\tconst originalImageUrl = post?.imageSrc ?? '';\n\tconst originalExcerpt = post?.excerpt ?? '';\n\n\treturn {\n\t\timageId,\n\t\timageUrl,\n\t\texcerpt,\n\t\toriginalTitle,\n\t\toriginalImageId,\n\t\toriginalImageUrl,\n\t\texcerptPlaceholder:\n\t\t\toriginalExcerpt ||\n\t\t\texcerptPlaceholder ||\n\t\t\t_x( '(no excerpt)', 'text', 'nelio-ab-testing' ),\n\t};\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { MediaUpload } from '@safe-wordpress/media-utils';\nimport { Button, TextareaControl } from '@safe-wordpress/components';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { noop } from 'lodash';\nimport { FancyIcon, Tooltip } from '@nab/components';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport type ImageAndExcerptProps = {\n\treadonly imageId: number;\n\treadonly imageUrl: string;\n\treadonly defaultImageId?: number;\n\treadonly defaultImageUrl?: string;\n\treadonly disabled?: boolean;\n\treadonly excerpt: string;\n\treadonly excerptPlaceholder: string;\n\treadonly onImageChange?: ( id: number, url: string ) => void;\n\treadonly onExcerptChange?: ( excerpt: string ) => void;\n};\n\nexport const ImageAndExcerpt = ( {\n\timageId,\n\timageUrl,\n\tdefaultImageId,\n\tdefaultImageUrl,\n\tdisabled,\n\texcerpt,\n\texcerptPlaceholder,\n\tonImageChange,\n\tonExcerptChange,\n}: ImageAndExcerptProps ): JSX.Element => (\n\t<div className=\"nab-alternative-list__alternative-image-and-excerpt\">\n\t\t{ ( ! onImageChange || disabled ) && (\n\t\t\t<Image src={ imageUrl || defaultImageUrl } />\n\t\t) }\n\n\t\t{ ! disabled && !! onImageChange && !! imageId && (\n\t\t\t<Tooltip\n\t\t\t\ttext={\n\t\t\t\t\tdefaultImageId\n\t\t\t\t\t\t? _x(\n\t\t\t\t\t\t\t\t'Click to use the original featured image',\n\t\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t  )\n\t\t\t\t\t\t: _x(\n\t\t\t\t\t\t\t\t'Click to remove featured image',\n\t\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t  )\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"nab-alternative-list__alternative-image-button nab-alternative-list__alternative-image-button--is-remove\"\n\t\t\t\t\tonClick={ () => onImageChange( 0, '' ) }\n\t\t\t\t\tdisabled={ disabled }\n\t\t\t\t>\n\t\t\t\t\t<Image src={ imageUrl || defaultImageUrl } />\n\t\t\t\t</Button>\n\t\t\t</Tooltip>\n\t\t) }\n\n\t\t{ ! disabled && !! onImageChange && ! imageId && (\n\t\t\t<MediaUpload\n\t\t\t\ttitle={ _x(\n\t\t\t\t\t'Alternative Featured Image',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tallowedTypes={ [ 'image' ] }\n\t\t\t\tvalue={ imageId || defaultImageId }\n\t\t\t\tonSelect={ ( { id, sizes, url } ) =>\n\t\t\t\t\t// eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-unsafe-assignment, @typescript-eslint/no-unsafe-member-access\n\t\t\t\t\tonImageChange( id, sizes?.thumbnail?.url || url )\n\t\t\t\t}\n\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t<Tooltip\n\t\t\t\t\t\ttext={\n\t\t\t\t\t\t\tdefaultImageId\n\t\t\t\t\t\t\t\t? _x(\n\t\t\t\t\t\t\t\t\t\t'Click to set a different featured image',\n\t\t\t\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: _x(\n\t\t\t\t\t\t\t\t\t\t'Click to set a featured image',\n\t\t\t\t\t\t\t\t\t\t'user',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"nab-alternative-list__alternative-image-button nab-alternative-list__alternative-image-button--is-set\"\n\t\t\t\t\t\t\tonClick={ open }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Image src={ imageUrl || defaultImageUrl } />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t) }\n\t\t\t/>\n\t\t) }\n\n\t\t<TextareaControl\n\t\t\tclassName=\"nab-alternative-list__alternative-excerpt\"\n\t\t\treadOnly={ ! onExcerptChange }\n\t\t\tvalue={ excerpt }\n\t\t\tplaceholder={ excerptPlaceholder }\n\t\t\tonChange={ onExcerptChange || noop }\n\t\t\tdisabled={ disabled }\n\t\t/>\n\t</div>\n);\n\nconst Image = ( { src }: { src?: string } ) =>\n\t!! src ? (\n\t\t<img\n\t\t\tclassName=\"nab-alternative-list__alternative-image\"\n\t\t\talt={ _x( 'Featured Image', 'text', 'nelio-ab-testing' ) }\n\t\t\tsrc={ src }\n\t\t/>\n\t) : (\n\t\t<FancyIcon className=\"nab-alternative-list__alternative-image\" />\n\t);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { ExperimentEditProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport { ImageAndExcerpt } from '../image-and-excerpt';\nimport { useTestedPost } from '../../hooks';\nimport { Original as PostOriginal } from '../../../post/components/original';\n\nimport type { ControlAttributes } from '../../types';\n\nexport type OriginalProps = ExperimentEditProps< ControlAttributes > & {\n\treadonly excerptPlaceholder?: string;\n};\n\nexport const Original = ( props: OriginalProps ): JSX.Element => {\n\tconst imageAndExcerpt = useImageAndExcerpt( props.excerptPlaceholder );\n\treturn (\n\t\t<>\n\t\t\t<PostOriginal\n\t\t\t\t{ ...{ ...props, disableExistingContentSelect: true } }\n\t\t\t/>\n\t\t\t<ImageAndExcerpt { ...imageAndExcerpt } />\n\t\t</>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useImageAndExcerpt = ( placeholder?: string ) => {\n\tconst post = useTestedPost();\n\n\treturn {\n\t\timageId: post?.imageId ?? 0,\n\t\timageUrl: post?.imageSrc ?? '',\n\t\texcerpt: post?.excerpt ?? '',\n\t\texcerptPlaceholder:\n\t\t\tplaceholder || _x( '(no excerpt)', 'text', 'nelio-ab-testing' ),\n\t};\n};\n","/*\n * WordPress dependencies\n */\nimport { useSelect } from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { EntityInstance, Maybe } from '@nab/types';\n\n// NOTE. Dependency loop with @nab package.\nconst NAB_EDITOR = 'nab/editor';\n\ntype MaybePost =\n\t| { readonly postId: undefined }\n\t| { readonly postId: number; readonly postType: string };\n\nexport const useTestedPost = (): Maybe< EntityInstance > =>\n\tuseSelect( ( select ) => {\n\t\tconst { getAlternative } = select( NAB_EDITOR );\n\t\tconst original = getAlternative< MaybePost >( 'control' );\n\t\tif ( ! original?.attributes.postId ) {\n\t\t\treturn;\n\t\t} //end if\n\n\t\tconst { getEntityRecord } = select( NAB_DATA );\n\t\tconst post = getEntityRecord(\n\t\t\toriginal.attributes.postType,\n\t\t\toriginal.attributes.postId\n\t\t);\n\t\treturn post;\n\t} );\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { createConversionAction } from '@nab/conversion-actions';\nimport type { ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Original } from './components/original-headline';\nimport { Alternative } from './components/alternative-headline';\n\nimport type { ControlAttributes, AlternativeAttributes } from './types';\n\nexport const name = 'nab/headline';\n\nexport const settings: Omit<\n\tExperimentType< ControlAttributes, AlternativeAttributes >,\n\t'name'\n> = {\n\tcategory: 'page',\n\ttitle: _x( 'Headline', 'text (experiment name)', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Test alternative versions of a title, featured image, and excerpt',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tsupports: {\n\t\talternativeApplication: true,\n\t\tautomaticGoalSetup: ( control ) => [\n\t\t\t{\n\t\t\t\t...createConversionAction( 'nab/page-view', {\n\t\t\t\t\tpostType: 'post',\n\t\t\t\t\tpostId: control.postId,\n\t\t\t\t} ),\n\t\t\t\tscope: {\n\t\t\t\t\ttype: 'post-ids',\n\t\t\t\t\tids: control.postId ? [ control.postId ] : [],\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t\tpostTypes: 'post',\n\t\tscope: 'custom-with-tested-post',\n\t},\n\thelp: {\n\t\toriginal: _x(\n\t\t\t'Headline split tests help you to improve the engagement with your audience by creating one or more variants of the title, excerpt, and featured image of a blog post. The control version (commonly known as the “A” version) is the already-existing blog post you want to test with its current headline.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\talternative: _x(\n\t\t\t'Here you can create and edit one or more variants of your tested post’s headline. By default, each variant you create will use the post’s current headline.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\tdefaults: {\n\t\toriginal: {\n\t\t\tpostType: 'post',\n\t\t\tpostId: 0,\n\t\t},\n\t\talternative: {\n\t\t\tname: '',\n\t\t\texcerpt: '',\n\t\t\timageId: 0,\n\t\t\timageUrl: '',\n\t\t},\n\t},\n\tviews: {\n\t\toriginal: Original,\n\t\talternative: Alternative,\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\n\nexport const name = 'nab/heatmap';\n\nexport const settings = {\n\tcategory: 'page',\n\ttitle: _x( 'Heatmap', 'text (experiment name)', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Discover which parts of a web page are attracting the most attention',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n};\n","/**\n * External dependencies\n */\nimport { registerExperimentType } from '@nab/experiments';\nimport type { ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport * as css from './css';\nimport * as customPostType from './custom-post-type';\nimport * as headline from './headline';\nimport * as heatmap from './heatmap';\nimport * as javascript from './javascript';\nimport * as menu from './menu';\nimport * as page from './page';\nimport * as post from './post';\nimport * as template from './template';\nimport * as theme from './theme';\nimport * as widget from './widget';\n\nimport * as wcProduct from './woocommerce-product';\nimport * as wcBulkSale from './woocommerce-bulk-sale';\n\n/**\n * Function to register core experiments.\n *\n * @example\n * ```js\n * import { registerCoreExperiments } from '@nab/experiment-library';\n *\n * registerCoreExperiments();\n * ```\n */\nexport const registerCoreExperiments = (): void => {\n\t[\n\t\t// Content experiments\n\t\tpage,\n\t\tpost,\n\t\tcustomPostType,\n\t\theadline,\n\n\t\t// Heatmap and scrollmap\n\t\theatmap,\n\n\t\t// Site-wide experiments\n\t\ttemplate,\n\t\ttheme,\n\t\twidget,\n\t\tmenu,\n\t\tcss,\n\t\tjavascript,\n\n\t\t// WooCommerce experiments\n\t\twcProduct,\n\t\twcBulkSale,\n\t].forEach( ( experiment ) => {\n\t\tif ( ! experiment ) {\n\t\t\treturn;\n\t\t} //end if\n\t\tconst { name, settings } = experiment;\n\t\tregisterExperimentType( name, settings as unknown as ExperimentType );\n\t} );\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { Button, Modal, TextareaControl } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\nimport type { ExperimentEditProps } from '@nab/types';\n\n/**\n * External dependencies\n */\nimport { trim } from 'lodash';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport type { ControlAttributes } from '../../types';\n\nexport const Original = ( {\n\tattributes,\n\tsetAttributes,\n}: ExperimentEditProps< ControlAttributes > ): JSX.Element => {\n\tconst [ isModalVisible, setVisibility ] = useState( false );\n\tconst [ editingCode, setEditingCode ] = useState( '' );\n\tconst { code = '' } = attributes;\n\n\tconst isDirty = trim( code ) !== trim( editingCode );\n\n\tconst open = () => {\n\t\tsetEditingCode( code );\n\t\tsetVisibility( true );\n\t};\n\tconst close = () => {\n\t\tsetVisibility( false );\n\t};\n\tconst save = () => {\n\t\tclose();\n\t\tsetAttributes( {\n\t\t\tcode: ! trim( editingCode ) ? undefined : trim( editingCode ),\n\t\t} );\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"nab-javascript-original-version\">\n\t\t\t\t<p>\n\t\t\t\t\t{ _x(\n\t\t\t\t\t\t'Current look and feel',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t</p>\n\t\t\t\t<div className=\"nab-javascript-original-version__actions\">\n\t\t\t\t\t<Button variant=\"link\" onClick={ open }>\n\t\t\t\t\t\t{ _x(\n\t\t\t\t\t\t\t'Customize Tracking',\n\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{ isModalVisible && (\n\t\t\t\t<Modal\n\t\t\t\t\tclassName=\"nab-javascript-original-version__modal\"\n\t\t\t\t\ttitle={ _x(\n\t\t\t\t\t\t'Tracking Customization',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t\tisDismissible={ false }\n\t\t\t\t\tonRequestClose={ () => void null }\n\t\t\t\t\tshouldCloseOnClickOutside={ false }\n\t\t\t\t>\n\t\t\t\t\t<div className=\"nab-javascript-original-version__modal-content\">\n\t\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t\tplaceholder={ placeholder }\n\t\t\t\t\t\t\tclassName=\"nab-javascript-original-version__editor\"\n\t\t\t\t\t\t\tonChange={ setEditingCode }\n\t\t\t\t\t\t\tvalue={ editingCode }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"nab-javascript-original-version__modal-actions\">\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={ close }>\n\t\t\t\t\t\t\t{ isDirty\n\t\t\t\t\t\t\t\t? _x(\n\t\t\t\t\t\t\t\t\t\t'Discard Changes',\n\t\t\t\t\t\t\t\t\t\t'command',\n\t\t\t\t\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t: _x( 'Close', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tonClick={ save }\n\t\t\t\t\t\t\tdisabled={ ! isDirty }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ _x( 'Save', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Modal>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst placeholder = [\n\t_x(\n\t\t'Customize when the plugin should track page views in the control version. If left empty, Nelio A/B Testing will start tracking as soon as the page has been loaded.',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\t'\\n',\n\t'\\n- ',\n\t_x( 'Run callback when dom is ready', 'text', 'nelio-ab-testing' ),\n\t'\\n  utils.domReady( callback );',\n\t'\\n',\n\t'\\n- ',\n\t_x( 'Show variant:', 'text', 'nelio-ab-testing' ),\n\t'\\n  utils.showContent();',\n\t'\\n',\n\t'\\n- ',\n\t_x( 'Show variant and track events', 'text', 'nelio-ab-testing' ),\n\t'\\n  done();',\n].join( '' );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { TextareaControl } from '@safe-wordpress/components';\n\n/**\n * External dependencies\n */\nimport './style.scss';\nimport type { AlternativeAttributes } from '../../types';\n\nexport type ValuePreviewProps = {\n\treadonly attributes: AlternativeAttributes;\n};\n\nexport const ValuePreview = ( {\n\tattributes: { code },\n}: ValuePreviewProps ): JSX.Element => (\n\t<TextareaControl\n\t\tclassName=\"nab-javascript-value-preview\"\n\t\tvalue={ code }\n\t\tonChange={ () => void null }\n\t\treadOnly\n\t/>\n);\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@safe-wordpress/hooks';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { DefaultAlternative } from '@nab/components';\nimport type { ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Original } from './components/original';\nimport { ValuePreview } from './components/value-preview';\n\nimport type { ControlAttributes, AlternativeAttributes } from './types';\n\nexport const name = 'nab/javascript';\n\nexport const settings: Omit<\n\tExperimentType< ControlAttributes, AlternativeAttributes >,\n\t'name'\n> = {\n\tcategory: 'global',\n\ttitle: _x( 'JavaScript', 'text (experiment name)', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Apply changes to your pages by running JS code',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tsupports: {\n\t\talternativeEdition: 'external',\n\t\talternativePreviewDialog: ValuePreview,\n\t\tscope: 'custom',\n\t},\n\thelp: {\n\t\toriginal: _x(\n\t\t\t'JavaScript split tests help you to improve the conversion rate of your WordPress site by running custom code to tweak the tested page(s). The control version (commonly known as the “A” version) won’t run any code.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\talternative: _x(\n\t\t\t'Here you can create one or more JavaScript snippets that will be loaded when your page’s DOM is ready. Click on the “Edit” link of each variant to view and edit its associated snippet.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\tdefaults: {\n\t\toriginal: {},\n\t\talternative: {\n\t\t\tname: '',\n\t\t\tcode: '',\n\t\t},\n\t},\n\tviews: {\n\t\toriginal: Original,\n\t\talternative: DefaultAlternative,\n\t},\n};\n\n// =======\n// FILTERS\n// =======\n\naddFilter(\n\t'nab.isTestedElementInvalid',\n\t'nab/javascriptTestedElementShouldNotBeInvalid',\n\t( error, _, experimentType ) => ( name === experimentType ? false : error )\n);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { TextControl } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { useEffect } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { MenuSearcher } from '@nab/components';\nimport type { ExperimentEditProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { ControlAttributes, AlternativeAttributes } from '../../types';\n\nexport type AlternativeProps = ExperimentEditProps< AlternativeAttributes > & {\n\treadonly placeholder?: string;\n};\n\n// NOTE. Dependency loop with @nab package.\nconst NAB_EDITOR = 'nab/editor';\n\nexport const Alternative = ( {\n\tattributes,\n\tdisabled,\n\tplaceholder = _x( 'Describe your variant…', 'user', 'nelio-ab-testing' ),\n\tsetAttributes,\n}: AlternativeProps ): JSX.Element => {\n\tconst isExistingMenu = useExistingMenu();\n\n\tuseEffect( () => {\n\t\tsetAttributes( {\n\t\t\tisExistingMenu: isExistingMenu ? true : undefined,\n\t\t} );\n\t}, [ isExistingMenu ] );\n\n\treturn isExistingMenu ? (\n\t\t<MenuSearcher\n\t\t\tdisabled={ disabled }\n\t\t\tvalue={ attributes.menuId }\n\t\t\tonChange={ ( value ) => setAttributes( { menuId: value } ) }\n\t\t\tplaceholder={ _x( 'Select variant…', 'user', 'nelio-ab-testing' ) }\n\t\t/>\n\t) : (\n\t\t<TextControl\n\t\t\tdisabled={ disabled }\n\t\t\tvalue={ attributes.name }\n\t\t\tonChange={ ( value ) => setAttributes( { name: value } ) }\n\t\t\tplaceholder={ placeholder }\n\t\t/>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useExistingMenu = () =>\n\t!! useControl()?.attributes.testAgainstExistingMenu;\n\nconst useControl = () =>\n\tuseSelect( ( select ) =>\n\t\tselect( NAB_EDITOR ).getAlternative< ControlAttributes >( 'control' )\n\t);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { CheckboxControl } from '@safe-wordpress/components';\nimport { useState } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\nimport {\n\tselect as doSelect,\n\tuseDispatch,\n\tuseSelect,\n} from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { filter, map } from 'lodash';\nimport { MenuSearcher } from '@nab/components';\nimport { createAlternative } from '@nab/utils';\n\nimport type { Alternative, ExperimentEditProps } from '@nab/types';\n\n// NOTE. Dependency loop with @nab package.\nconst NAB_EDITOR = 'nab/editor';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport type { ControlAttributes } from '../../types';\n\nexport type OriginalProps = ExperimentEditProps< ControlAttributes >;\n\nexport const Original = ( {\n\tattributes,\n\tsetAttributes,\n}: OriginalProps ): JSX.Element => {\n\tconst isPaused = useIsPaused();\n\tconst toggleExistingMenu = useExistingMenuToggler( setAttributes );\n\n\treturn (\n\t\t<div className=\"nab-original-menu-alternative\">\n\t\t\t<div className=\"nab-original-menu-alternative__selector\">\n\t\t\t\t<MenuSearcher\n\t\t\t\t\tvalue={ attributes.menuId }\n\t\t\t\t\tonChange={ ( value ) => setAttributes( { menuId: value } ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t'nab-original-menu-alternative__existing-content': true,\n\t\t\t\t\t'nab-original-menu-alternative__existing-content--is-disabled':\n\t\t\t\t\t\tisPaused,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t'Test against already-existing menus',\n\t\t\t\t\t\t'command',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t\tdisabled={ isPaused }\n\t\t\t\t\tchecked={ !! attributes.testAgainstExistingMenu }\n\t\t\t\t\tonChange={ toggleExistingMenu }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useIsPaused = () =>\n\tuseSelect( ( select ) =>\n\t\t`${ select( NAB_EDITOR ).getExperimentAttribute( 'status' ) }`.includes(\n\t\t\t'paused'\n\t\t)\n\t);\n\nconst useExistingMenuToggler = (\n\tsetAttributes: (\n\t\tprops: Partial< Pick< ControlAttributes, 'testAgainstExistingMenu' > >\n\t) => void\n) => {\n\tconst [ prevAlts, setPrevAlts ] = useState( [ createAlternative() ] );\n\tconst { replaceAlternatives } = useDispatch( NAB_EDITOR );\n\treturn ( checked: boolean ) => {\n\t\tconst alts = filter(\n\t\t\tdoSelect( NAB_EDITOR ).getAlternatives(),\n\t\t\t( { id }: Alternative ) => 'control' !== id\n\t\t);\n\t\treplaceAlternatives( map( alts, 'id' ), prevAlts );\n\t\tsetPrevAlts( alts );\n\t\tsetAttributes( {\n\t\t\ttestAgainstExistingMenu: checked ? true : undefined,\n\t\t} );\n\t};\n};\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Original } from './components/original';\nimport { Alternative } from './components/alternative';\n\nimport type { ControlAttributes, AlternativeAttributes } from './types';\n\nexport const name = 'nab/menu';\n\nexport const settings: Omit<\n\tExperimentType< ControlAttributes, AlternativeAttributes >,\n\t'name'\n> = {\n\tcategory: 'global',\n\ttitle: _x( 'Menu', 'text (experiment name)', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Test alternative versions of a menu',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tsupports: {\n\t\talternativeApplication: true,\n\t\talternativeEdition: 'external',\n\t\tscope: 'custom',\n\t\tisEnabled: ( select ) =>\n\t\t\tselect( NAB_DATA ).hasMenus() &&\n\t\t\tselect( NAB_DATA ).getPluginSetting( 'themeSupport' ).menus,\n\t},\n\thelp: {\n\t\toriginal: _x(\n\t\t\t'Menu split tests help you to improve the conversion rate of your WordPress site by creating one or more variants of your navigation menus. The control version (commonly known as the “A” version) is the already-existing navigation menu you want to run the test on.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\talternative: _x(\n\t\t\t'Here you can create one or more variants of your tested menu. By default, each variant you create will be an exact copy of the tested menu. Click on the “Edit” link of each variant to tweak it as you please.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\tdefaults: {\n\t\toriginal: {\n\t\t\tmenuId: 0,\n\t\t},\n\t\talternative: {\n\t\t\tname: '',\n\t\t\tmenuId: 0,\n\t\t},\n\t},\n\tviews: {\n\t\toriginal: Original,\n\t\talternative: Alternative,\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\n\n/**\n * Internal dependencies\n */\nimport { Original as PostOriginal } from '../../post/components/original';\nimport type { OriginalProps as OP } from '../../post/components/original';\n\nexport type OriginalProps = Omit< OP< 'page' >, 'validPostfilter' >;\n\nexport const Original = ( props: OriginalProps ): JSX.Element => (\n\t<PostOriginal\n\t\t{ ...props }\n\t\tvalidPostFilter={ ( post ) =>\n\t\t\t'page-for-posts' !== post.extra.specialPostType\n\t\t}\n\t/>\n);\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Original } from './components/original';\nimport { Alternative } from '../post/components/alternative';\n\nimport type { ControlAttributes, AlternativeAttributes } from './types';\n\nexport const name = 'nab/page';\n\nexport const settings: Omit<\n\tExperimentType< ControlAttributes, AlternativeAttributes >,\n\t'name'\n> = {\n\tcategory: 'page',\n\ttitle: _x( 'Page', 'text (experiment name)', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Test alternative versions of a page',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tsupports: {\n\t\talternativeApplication: ( alternatives ) =>\n\t\t\t! alternatives[ 0 ]?.attributes?.testAgainstExistingContent,\n\t\talternativeEdition: 'external',\n\t\tpostTypes: 'page',\n\t\tscope: 'tested-post-with-consistency',\n\t},\n\thelp: {\n\t\toriginal: _x(\n\t\t\t'Page split tests help you to improve the conversion rate of your WordPress site by creating one or more variants of your pages. The control version (commonly known as the “A” version) is the already-existing page from your site (such as, for instance, the home page or a contact us page) you want to run the test on.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\talternative: _x(\n\t\t\t'You can create one or more variants of your tested page. By default, each variant you create will be an exact copy of the tested page. Click on the “Edit” link of each variant to tweak it as you please. When editing a variant, you can also overwrite it with the content of any existing page.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\tdefaults: {\n\t\toriginal: {\n\t\t\tpostType: 'page',\n\t\t\tpostId: 0,\n\t\t},\n\t\talternative: {\n\t\t\tname: '',\n\t\t\tpostId: 0,\n\t\t},\n\t},\n\tviews: {\n\t\toriginal: Original,\n\t\talternative: Alternative,\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { TextControl } from '@safe-wordpress/components';\nimport { useSelect } from '@safe-wordpress/data';\nimport { useEffect } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { PostSearcher } from '@nab/components';\nimport type { ExperimentEditProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { ControlAttributes, AlternativeAttributes } from '../../types';\n\nexport type AlternativeProps = ExperimentEditProps< AlternativeAttributes > & {\n\treadonly placeholder?: string;\n};\n\n// NOTE. Dependency loop with @nab package.\nconst NAB_EDITOR = 'nab/editor';\n\nexport const Alternative = ( {\n\tattributes,\n\tdisabled,\n\tplaceholder = _x( 'Describe your variant…', 'user', 'nelio-ab-testing' ),\n\tsetAttributes,\n}: AlternativeProps ): JSX.Element => {\n\tconst isExistingContent = useExistingContent();\n\tconst postType = useOriginalPostType();\n\n\tuseEffect( () => {\n\t\tsetAttributes( {\n\t\t\tisExistingContent: isExistingContent ? true : undefined,\n\t\t} );\n\t}, [ isExistingContent ] );\n\n\treturn isExistingContent ? (\n\t\t<PostSearcher\n\t\t\tdisabled={ disabled || ! postType }\n\t\t\ttype={ postType || 'post' }\n\t\t\tvalue={ attributes.postId }\n\t\t\tperPage={ 10 }\n\t\t\tonChange={ ( value ) => setAttributes( { postId: value } ) }\n\t\t\tplaceholder={ _x( 'Select variant…', 'user', 'nelio-ab-testing' ) }\n\t\t/>\n\t) : (\n\t\t<TextControl\n\t\t\tdisabled={ disabled }\n\t\t\tvalue={ attributes.name }\n\t\t\tonChange={ ( value ) => setAttributes( { name: value } ) }\n\t\t\tplaceholder={ placeholder }\n\t\t/>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst useExistingContent = () =>\n\t!! useControl()?.attributes.testAgainstExistingContent;\n\nconst useOriginalPostType = () => useControl()?.attributes.postType;\n\nconst useControl = () =>\n\tuseSelect( ( select ) =>\n\t\tselect( NAB_EDITOR ).getAlternative< ControlAttributes >( 'control' )\n\t);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { CheckboxControl, SelectControl } from '@safe-wordpress/components';\nimport { useState } from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\nimport {\n\tselect as doSelect,\n\tuseDispatch,\n\tuseSelect,\n} from '@safe-wordpress/data';\n\n/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { castArray, filter, map } from 'lodash';\nimport { PostSearcher, Tooltip } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { STORE_NAME as NAB_EXPERIMENTS } from '@nab/experiments';\nimport {\n\tcreateAlternative,\n\tisEmpty,\n\tisMultiArray,\n\tisSingleton,\n} from '@nab/utils';\n\nimport type { PostSearcherProps } from '@nab/components';\nimport type {\n\tAlternative,\n\tExperimentEditProps,\n\tExperimentTypeName,\n\tEntityKind,\n\tMaybe,\n} from '@nab/types';\n\n// NOTE. Dependency loop with @nab package.\nconst NAB_EDITOR = 'nab/editor';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport type { ControlAttributes } from '../../types';\n\ntype Attributes< T extends string > = {\n\t[ K in keyof ControlAttributes ]: K extends 'postType'\n\t\t? T\n\t\t: ControlAttributes[ K ];\n};\n\nexport type OriginalProps< T extends string > = ExperimentEditProps<\n\tAttributes< T >\n> & {\n\treadonly disableExistingContentSelect?: boolean;\n\treadonly validPostFilter?: PostSearcherProps[ 'filter' ];\n};\n\nexport const Original = < T extends string >( {\n\tattributes,\n\tsetAttributes,\n\tdisableExistingContentSelect,\n\tvalidPostFilter,\n\texperimentType,\n}: OriginalProps< T > ): JSX.Element => {\n\tconst isSubscribed = !! useSubscription();\n\tconst isPaused = useIsPaused();\n\tconst toggleExistingContent = useExistingContentToggler( setAttributes );\n\tconst { postTypes, showSinglePostType } = usePostTypes( experimentType );\n\n\tconst defaultPostType = postTypes[ 0 ]?.name;\n\tconst postType = attributes.postType || defaultPostType;\n\tconst selectablePostTypes = postTypes.map( ( type ) => ( {\n\t\tvalue: type.name,\n\t\tlabel: type.labels.singular_name,\n\t} ) );\n\n\treturn (\n\t\t<div className=\"nab-original-post-alternative\">\n\t\t\t<div className=\"nab-original-post-alternative__selector\">\n\t\t\t\t{ showSinglePostType && isSingleton( postTypes ) && (\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tvalue={ postTypes[ 0 ].labels.singular_name }\n\t\t\t\t\t\tdisabled\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t{ isMultiArray( postTypes ) && (\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={ postType }\n\t\t\t\t\t\toptions={ selectablePostTypes }\n\t\t\t\t\t\tdisabled={ !! attributes.postId }\n\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\tpostId: undefined,\n\t\t\t\t\t\t\t\tpostType: value as T,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t<PostSearcher\n\t\t\t\t\tdisabled={ isEmpty( postTypes ) }\n\t\t\t\t\ttype={ postType }\n\t\t\t\t\tvalue={ attributes.postId }\n\t\t\t\t\tperPage={ 10 }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tpostId: value,\n\t\t\t\t\t\t\tpostType: postType as T,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tfilter={ validPostFilter }\n\t\t\t\t\tplaceholder={ getPlaceholder( postTypes ) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t'nab-original-post-alternative__run-as-inline': true,\n\t\t\t\t\t'nab-original-post-alternative__run-as-inline--is-disabled':\n\t\t\t\t\t\t!! attributes.testAgainstExistingContent,\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tlabel={ <RunAsInlineLabel /> }\n\t\t\t\t\tdisabled={ !! attributes.testAgainstExistingContent }\n\t\t\t\t\tchecked={ !! attributes.runAsInlineTest }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\trunAsInlineTest: value,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t{ ! disableExistingContentSelect && (\n\t\t\t\t<div\n\t\t\t\t\tclassName={ classnames( {\n\t\t\t\t\t\t'nab-original-post-alternative__existing-content': true,\n\t\t\t\t\t\t'nab-original-post-alternative__existing-content--is-disabled':\n\t\t\t\t\t\t\tisPaused || !! attributes.runAsInlineTest,\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\tlabel={ getExistingContentLabel(\n\t\t\t\t\t\t\tpostType,\n\t\t\t\t\t\t\tisSubscribed\n\t\t\t\t\t\t) }\n\t\t\t\t\t\tdisabled={ isPaused || !! attributes.runAsInlineTest }\n\t\t\t\t\t\tchecked={ !! attributes.testAgainstExistingContent }\n\t\t\t\t\t\tonChange={ toggleExistingContent }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\nconst RunAsInlineLabel = (): JSX.Element => (\n\t<span>\n\t\t{ _x( 'Test title and content only', 'command', 'nelio-ab-testing' ) }{ ' ' }\n\t\t<Tooltip\n\t\t\ttext={ _x(\n\t\t\t\t'If you enable this option, Nelio A/B Testing will load alternative content inline (no JavaScript redirection required). This will result in faster loading times and better user experience. Support for custom page builders is currently limited, so please make sure this option works as expected by previewing your variants after enabling this option.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t) }\n\t\t\tplacement=\"bottom\"\n\t\t>\n\t\t\t<span className=\"nab-original-post-alternative__beta-help\">\n\t\t\t\tBeta\n\t\t\t</span>\n\t\t</Tooltip>\n\t</span>\n);\n\n// =====\n// HOOKS\n// =====\n\nconst useSubscription = () =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( NAB_DATA ).getPluginSetting( 'subscription' ) || false\n\t);\n\nconst useIsPaused = () =>\n\tuseSelect( ( select ) =>\n\t\t`${ select( NAB_EDITOR ).getExperimentAttribute( 'status' ) }`.includes(\n\t\t\t'paused'\n\t\t)\n\t);\n\nconst usePostTypes = ( experimentType: ExperimentTypeName ) =>\n\tuseSelect( ( select ) => {\n\t\tconst { hasExperimentSupport, getExperimentSupport } =\n\t\t\tselect( NAB_EXPERIMENTS );\n\n\t\tconst { getKindEntities } = select( NAB_DATA );\n\t\tlet postTypes = getKindEntities() || [];\n\t\tpostTypes = postTypes.filter( ( pt ) => 'entity' === pt.kind );\n\n\t\tif ( hasExperimentSupport( experimentType, 'postTypes' ) ) {\n\t\t\tconst acceptedPostTypes = castArray(\n\t\t\t\tgetExperimentSupport( experimentType, 'postTypes' )\n\t\t\t);\n\t\t\treturn {\n\t\t\t\tpostTypes: filter( postTypes, ( { name } ) =>\n\t\t\t\t\tacceptedPostTypes.includes( name )\n\t\t\t\t),\n\t\t\t\tshowSinglePostType: 1 !== acceptedPostTypes.length,\n\t\t\t};\n\t\t} //end if\n\n\t\tif ( hasExperimentSupport( experimentType, 'postTypeExceptions' ) ) {\n\t\t\tconst excludedPostTypes = castArray(\n\t\t\t\tgetExperimentSupport( experimentType, 'postTypeExceptions' )\n\t\t\t);\n\t\t\treturn {\n\t\t\t\tpostTypes: filter(\n\t\t\t\t\tpostTypes,\n\t\t\t\t\t( { name } ) => ! excludedPostTypes.includes( name )\n\t\t\t\t),\n\t\t\t\tshowSinglePostType: true,\n\t\t\t};\n\t\t} //end if\n\n\t\treturn {\n\t\t\tpostTypes: [],\n\t\t\tshowSinglePostType: true,\n\t\t};\n\t} );\n\nconst useExistingContentToggler = (\n\tsetAttributes: (\n\t\tprops: Partial<\n\t\t\tPick< ControlAttributes, 'testAgainstExistingContent' >\n\t\t>\n\t) => void\n) => {\n\tconst [ prevAlts, setPrevAlts ] = useState( [ createAlternative() ] );\n\tconst { replaceAlternatives } = useDispatch( NAB_EDITOR );\n\treturn ( checked: boolean ) => {\n\t\tconst alts = filter(\n\t\t\tdoSelect( NAB_EDITOR ).getAlternatives(),\n\t\t\t( { id }: Alternative ) => 'control' !== id\n\t\t);\n\t\treplaceAlternatives( map( alts, 'id' ), prevAlts );\n\t\tsetPrevAlts( alts );\n\t\tsetAttributes( {\n\t\t\ttestAgainstExistingContent: checked ? true : undefined,\n\t\t} );\n\t};\n};\n\n// =======\n// HELPERS\n// =======\n\nfunction getExistingContentLabel(\n\ttype: Maybe< string >,\n\tisSubscribed: boolean\n): string {\n\tswitch ( type ) {\n\t\tcase 'page':\n\t\t\treturn isSubscribed\n\t\t\t\t? _x(\n\t\t\t\t\t\t'Test against already existing pages',\n\t\t\t\t\t\t'command',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t  )\n\t\t\t\t: _x(\n\t\t\t\t\t\t'Test against an already existing page',\n\t\t\t\t\t\t'command',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t  );\n\t\tcase 'post':\n\t\t\treturn isSubscribed\n\t\t\t\t? _x(\n\t\t\t\t\t\t'Test against already existing posts',\n\t\t\t\t\t\t'command',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t  )\n\t\t\t\t: _x(\n\t\t\t\t\t\t'Test against an already existing post',\n\t\t\t\t\t\t'command',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t  );\n\t\tdefault:\n\t\t\treturn _x(\n\t\t\t\t'Test against already existing content',\n\t\t\t\t'command',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\t} //end switch\n} //end getExistingContentLabel()\n\nfunction getPlaceholder(\n\tpostTypes: ReadonlyArray< EntityKind >\n): Maybe< string > {\n\tif ( isEmpty( postTypes ) ) {\n\t\treturn _x(\n\t\t\t'Loading compatible post types…',\n\t\t\t'text',\n\t\t\t'nelio-ab-testing'\n\t\t);\n\t} //end if\n\n\tif ( postTypes?.length > 1 ) {\n\t\treturn _x(\n\t\t\t'First select the post type and then the actual content…',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t);\n\t} //end if\n\n\treturn undefined;\n} //end getPlaceholder()\n","/**\n * WordPress dependencies\n */\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Original } from './components/original';\nimport { Alternative } from './components/alternative';\n\nimport type { ControlAttributes, AlternativeAttributes } from './types';\n\nexport const name = 'nab/post';\n\nexport const settings: Omit<\n\tExperimentType< ControlAttributes, AlternativeAttributes >,\n\t'name'\n> = {\n\tcategory: 'page',\n\ttitle: _x( 'Post', 'text (experiment name)', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Test alternative versions of a post',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tsupports: {\n\t\talternativeApplication: ( alternatives ) =>\n\t\t\t! alternatives[ 0 ]?.attributes?.testAgainstExistingContent,\n\t\talternativeEdition: 'external',\n\t\tpostTypes: 'post',\n\t\tscope: 'tested-post-with-consistency',\n\t},\n\thelp: {\n\t\toriginal: _x(\n\t\t\t'Post split tests help you to improve the conversion rate of your WordPress blog by creating one or more variants of your posts. The control version (commonly known as the “A” version) is the already-existing post from your blog you want to run the test on.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\talternative: _x(\n\t\t\t'You can create one or more variants of your tested post. By default, each variant you create will be an exact copy of the tested post. Click on the “Edit” link of each variant to tweak it as you please. When editing a variant, you can also overwrite it with the content of any existing post.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\tdefaults: {\n\t\toriginal: {\n\t\t\tpostType: 'post',\n\t\t\tpostId: 0,\n\t\t},\n\t\talternative: {\n\t\t\tname: '',\n\t\t\tpostId: 0,\n\t\t},\n\t},\n\tviews: {\n\t\toriginal: Original,\n\t\talternative: Alternative,\n\t},\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { filter } from 'lodash';\nimport { PresetAlternative } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { ExperimentEditProps } from '@nab/types';\n\n// NOTE. Dependency loop with @nab package.\nconst NAB_EDITOR = 'nab/editor';\n\n/**\n * Internal dependencies\n */\nimport type { ControlAttributes, AlternativeAttributes } from '../types';\n\nexport const Alternative = ( {\n\tattributes: { templateId, name },\n\tdisabled,\n\texperimentType,\n\tsetAttributes,\n}: ExperimentEditProps< AlternativeAttributes > ): JSX.Element => {\n\tconst postType = usePostType();\n\treturn (\n\t\t<PresetAlternative\n\t\t\texperimentType={ experimentType }\n\t\t\tcollection={ postType }\n\t\t\tvalue={ templateId }\n\t\t\tonChange={ ( t ) =>\n\t\t\t\tt\n\t\t\t\t\t? setAttributes( { templateId: t.value, name: t.label } )\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t\tdisabled={ disabled }\n\t\t\tlabels={ {\n\t\t\t\tselection: name,\n\t\t\t\tselectAction: _x(\n\t\t\t\t\t'Please select a template…',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tloading: _x( 'Loading templates…', 'text', 'nelio-ab-testing' ),\n\t\t\t\tempty: _x(\n\t\t\t\t\t'No templates available',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tunknownOption: _x(\n\t\t\t\t\t'Template not found',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t} }\n\t\t/>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst usePostType = () =>\n\tuseSelect( ( select ) => {\n\t\tconst { getAlternative } = select( NAB_EDITOR );\n\t\tconst control = getAlternative< ControlAttributes >( 'control' );\n\n\t\tconst { getKindEntities } = select( NAB_DATA );\n\t\tconst postTypes = filter( getKindEntities(), { kind: 'entity' } );\n\n\t\treturn control?.attributes.postType || postTypes[ 0 ]?.name;\n\t} );\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { SelectControl } from '@safe-wordpress/components';\nimport { useDispatch, useSelect } from '@safe-wordpress/data';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { filter } from 'lodash';\nimport { PresetAlternative } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport { isEmpty, omitUndefineds } from '@nab/utils';\nimport type {\n\tAlternative as AlternativeType,\n\tExperimentEditProps,\n\tMaybe,\n} from '@nab/types';\n\n// NOTE. Dependency loop with @nab package.\nconst NAB_EDITOR = 'nab/editor';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\nimport type { ControlAttributes, AlternativeAttributes } from '../../types';\n\nexport const Original = (\n\tprops: ExperimentEditProps< ControlAttributes >\n): JSX.Element => {\n\tconst { experimentType } = props;\n\tconst { attributes } = props;\n\tconst { templateId, name } = attributes;\n\n\tconst postTypes = usePostTypes();\n\tconst setAttributes = useTemplateSetter(\n\t\ttemplateId ?? '',\n\t\tprops.setAttributes\n\t);\n\n\tconst loading = _x( 'Loading…', 'text', 'nelio-ab-testing' );\n\tconst postType = attributes.postType || postTypes[ 0 ]?.name;\n\tconst selectablePostTypes = isEmpty( postTypes )\n\t\t? [ { value: '', label: loading } ]\n\t\t: postTypes.map( ( type ) => ( {\n\t\t\t\tvalue: type.name,\n\t\t\t\tlabel: type.labels.singular_name,\n\t\t  } ) );\n\n\treturn (\n\t\t<div className=\"nab-template-original-alternative\">\n\t\t\t<SelectControl\n\t\t\t\tvalue={ postType }\n\t\t\t\toptions={ selectablePostTypes }\n\t\t\t\tdisabled={ !! templateId || isEmpty( postTypes ) }\n\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\ttemplateId: undefined,\n\t\t\t\t\t\tname: '',\n\t\t\t\t\t\tpostType: value,\n\t\t\t\t\t} )\n\t\t\t\t}\n\t\t\t/>\n\t\t\t<PresetAlternative\n\t\t\t\texperimentType={ experimentType }\n\t\t\t\tcollection={ postType }\n\t\t\t\tvalue={ templateId }\n\t\t\t\tonChange={ ( template ) =>\n\t\t\t\t\ttemplate\n\t\t\t\t\t\t? setAttributes( {\n\t\t\t\t\t\t\t\ttemplateId: template.value,\n\t\t\t\t\t\t\t\tname: template.label,\n\t\t\t\t\t\t\t\tpostType,\n\t\t\t\t\t\t  } )\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tdisabled={ isEmpty( postTypes ) }\n\t\t\t\tlabels={ {\n\t\t\t\t\tselection: name,\n\t\t\t\t\tselectAction: _x(\n\t\t\t\t\t\t'Select a template…',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tloading: _x(\n\t\t\t\t\t\t'Loading templates…',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tempty: _x(\n\t\t\t\t\t\t'No templates available',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t\tunknownOption: _x(\n\t\t\t\t\t\t'Template not found',\n\t\t\t\t\t\t'text',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t),\n\t\t\t\t} }\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\n// =====\n// HOOKS\n// =====\n\nconst usePostTypes = () =>\n\tuseSelect( ( select ) =>\n\t\tfilter( select( NAB_DATA ).getKindEntities(), { kind: 'entity' } )\n\t);\n\nconst useTemplateSetter = (\n\ttemplateId: string,\n\tsetAttributes: ( attrs: Partial< ControlAttributes > ) => void\n) => {\n\tconst { setAlternative } = useDispatch( NAB_EDITOR );\n\tconst alternative = useSelect(\n\t\t( select ) => select( NAB_EDITOR )?.getAlternatives()[ 1 ]\n\t) as Maybe< AlternativeType< AlternativeAttributes > >;\n\n\tif ( !! templateId ) {\n\t\treturn setAttributes;\n\t} //end if\n\n\treturn ( attrs: Partial< ControlAttributes > ): void => {\n\t\tsetAttributes( attrs );\n\t\tif ( alternative ) {\n\t\t\tsetAlternative( alternative.id, {\n\t\t\t\t...alternative,\n\t\t\t\tattributes: omitUndefineds( {\n\t\t\t\t\t...alternative.attributes,\n\t\t\t\t\t...attrs,\n\t\t\t\t} ),\n\t\t\t} );\n\t\t} //end if\n\t};\n};\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@safe-wordpress/hooks';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { isObject, values } from 'lodash';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { Dict, ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Original } from './components/original';\nimport { Alternative } from './components/alternative';\n\nimport type { ControlAttributes, AlternativeAttributes } from './types';\n\nexport const name = 'nab/template';\n\nexport const settings: Omit<\n\tExperimentType< ControlAttributes, AlternativeAttributes >,\n\t'name'\n> = {\n\tcategory: 'global',\n\ttitle: _x( 'Template', 'text (experiment name)', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Test different templates on your site',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tsupports: {\n\t\tpresetAlternatives: ( select, collection ) => {\n\t\t\tconst { getTemplates } = select( NAB_DATA );\n\t\t\tconst templatesByPostType = getTemplates();\n\n\t\t\tif ( ! templatesByPostType ) {\n\t\t\t\treturn false;\n\t\t\t} //end if\n\n\t\t\tif ( 'nab-check-availability' === collection ) {\n\t\t\t\treturn values( templatesByPostType ).some(\n\t\t\t\t\t( templates ) => 2 <= templates.length\n\t\t\t\t);\n\t\t\t} //end if\n\n\t\t\tconst postTypeTemplates = templatesByPostType[ collection ] || [];\n\t\t\treturn postTypeTemplates.map( ( template ) => ( {\n\t\t\t\tvalue: template.id,\n\t\t\t\tlabel: template.name,\n\t\t\t} ) );\n\t\t},\n\t},\n\thelp: {\n\t\toriginal: _x(\n\t\t\t'Split tests of page templates help you to improve the conversion rate of your site by switching the appearance of the post types that use a certain template. The control version (commonly known as the “A” version) are those elements that use the specified template.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\talternative: _x(\n\t\t\t'You can test the selected template against one or more alternative templates from those available in your WordPress site.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\tdefaults: {\n\t\toriginal: {\n\t\t\tpostType: '',\n\t\t\tname: '',\n\t\t},\n\t\talternative: {\n\t\t\tname: '',\n\t\t},\n\t},\n\tviews: {\n\t\toriginal: Original,\n\t\talternative: Alternative,\n\t},\n};\n\n// =======\n// FILTERS\n// =======\n\naddFilter(\n\t'nab.isTestedElementInvalid',\n\t'nab/templateTestedElementMightBeInvalid',\n\t( error, testedElement, experimentType ) => {\n\t\tif ( ! isControlOfType( experimentType, testedElement ) ) {\n\t\t\treturn error;\n\t\t} //end if\n\n\t\tif ( ! testedElement.templateId ) {\n\t\t\treturn _x(\n\t\t\t\t'Test doesn’t specify the tested template',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\t\t} //end if\n\n\t\treturn false;\n\t}\n);\n\naddFilter(\n\t'nab.isAlternativeInvalid',\n\t'nab/template/isAlternativeInvalid',\n\t( error, alternative, alternativeLetter, experimentType ) => {\n\t\tif ( ! isAlternativeOfType( experimentType, alternative ) ) {\n\t\t\treturn error;\n\t\t} //end if\n\n\t\tif ( ! alternative.templateId ) {\n\t\t\treturn sprintf(\n\t\t\t\t/* translators: letter of the variant */\n\t\t\t\t_x(\n\t\t\t\t\t'Please select a template in variant %s',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\talternativeLetter\n\t\t\t);\n\t\t} //end if\n\n\t\treturn false;\n\t}\n);\n\n// =======\n// HELPERS\n// =======\n\nconst isControlOfType = ( type: string, alt: Dict ): alt is ControlAttributes =>\n\tisObject( alt ) && name === type;\n\nconst isAlternativeOfType = (\n\ttype: string,\n\talt: Dict\n): alt is AlternativeAttributes => isObject( alt ) && name === type;\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { PresetAlternative } from '@nab/components';\nimport type { ExperimentEditProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { AlternativeAttributes } from '../types';\n\nexport const Alternative = ( {\n\tattributes: { themeId, name },\n\tdisabled,\n\texperimentType,\n\tsetAttributes,\n}: ExperimentEditProps< AlternativeAttributes > ): JSX.Element => (\n\t<PresetAlternative\n\t\texperimentType={ experimentType }\n\t\tvalue={ themeId }\n\t\tonChange={ ( theme ) =>\n\t\t\ttheme\n\t\t\t\t? setAttributes( { themeId: theme.value, name: theme.label } )\n\t\t\t\t: undefined\n\t\t}\n\t\tdisabled={ disabled }\n\t\tlabels={ {\n\t\t\tselection: name,\n\t\t\tselectAction: _x(\n\t\t\t\t'Please select a theme…',\n\t\t\t\t'user',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t),\n\t\t\tloading: _x( 'Loading themes…', 'text', 'nelio-ab-testing' ),\n\t\t\tempty: _x( 'No themes available', 'text', 'nelio-ab-testing' ),\n\t\t\tunknownOption: _x( 'Theme not found', 'text', 'nelio-ab-testing' ),\n\t\t} }\n\t/>\n);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport const Original = (): JSX.Element => (\n\t<p className=\"nab-theme-original-version\">\n\t\t{ _x( 'Active Theme', 'text', 'nelio-ab-testing' ) }\n\t</p>\n);\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@safe-wordpress/hooks';\nimport { sprintf, _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { isObject } from 'lodash';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Original } from './components/original';\nimport { Alternative } from './components/alternative';\n\nimport type { ControlAttributes, AlternativeAttributes } from './types';\n\nexport const name = 'nab/theme';\n\nexport const settings: Omit<\n\tExperimentType< ControlAttributes, AlternativeAttributes >,\n\t'name'\n> = {\n\tcategory: 'global',\n\ttitle: _x( 'Theme', 'text (experiment name)', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Test different themes on your site',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tsupports: {\n\t\talternativeApplication: true,\n\t\tscope: 'custom',\n\t\tpresetAlternatives: ( select, collection ) => {\n\t\t\tconst { getThemes } = select( NAB_DATA );\n\t\t\tconst themes = getThemes();\n\n\t\t\tif ( ! themes ) {\n\t\t\t\treturn false;\n\t\t\t} //end if\n\n\t\t\tif ( 'nab-check-availability' === collection ) {\n\t\t\t\treturn true;\n\t\t\t} //end if\n\n\t\t\treturn themes.map( ( theme ) => ( {\n\t\t\t\tvalue: theme.id,\n\t\t\t\tlabel: theme.name,\n\t\t\t} ) );\n\t\t},\n\t},\n\thelp: {\n\t\toriginal: _x(\n\t\t\t'Split tests of WordPress themes help you to improve the conversion rate of your site by showing different themes to different visitors. The control version (commonly known as the “A” version) uses your current theme.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\talternative: _x(\n\t\t\t'You can test your active theme against one or more alternative themes from those installed in your WordPress site.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\tdefaults: {\n\t\toriginal: {},\n\t\talternative: {\n\t\t\tname: '',\n\t\t\tthemeId: '',\n\t\t},\n\t},\n\tviews: {\n\t\toriginal: Original,\n\t\talternative: Alternative,\n\t},\n};\n\n// =======\n// FILTERS\n// =======\n\naddFilter(\n\t'nab.isTestedElementInvalid',\n\t'nab/themeTestedElementShouldNotBeInvalid',\n\t( error, _, experimentType ) => ( name === experimentType ? false : error )\n);\n\naddFilter(\n\t'nab.isAlternativeInvalid',\n\t'nab/theme/isAlternativeInvalid',\n\t( error, alternative, alternativeLetter, experimentType ) => {\n\t\tif ( ! isAlternativeOfType( experimentType, alternative ) ) {\n\t\t\treturn error;\n\t\t} //end if\n\n\t\tif ( ! alternative.themeId ) {\n\t\t\treturn sprintf(\n\t\t\t\t/* translators: letter of the variant */\n\t\t\t\t_x(\n\t\t\t\t\t'Please select a theme in variant %s',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\talternativeLetter\n\t\t\t);\n\t\t} //end if\n\n\t\treturn false;\n\t}\n);\n\n// =======\n// HELPERS\n// =======\n\nconst isAlternativeOfType = (\n\ttype: string,\n\talt: unknown\n): alt is AlternativeAttributes => isObject( alt ) && name === type;\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nexport const Original = (): JSX.Element => (\n\t<p className=\"nab-widget-original-version\">\n\t\t{ _x( 'Current Widget Set', 'text', 'nelio-ab-testing' ) }\n\t</p>\n);\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@safe-wordpress/hooks';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { DefaultAlternative } from '@nab/components';\nimport { STORE_NAME as NAB_DATA } from '@nab/data';\nimport type { ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Original } from './components/original';\n\nimport type { ControlAttributes, AlternativeAttributes } from './types';\n\nexport const name = 'nab/widget';\n\nexport const settings: Omit<\n\tExperimentType< ControlAttributes, AlternativeAttributes >,\n\t'name'\n> = {\n\tcategory: 'global',\n\ttitle: _x( 'Widget', 'text (experiment name)', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Test alternative widget configurations on your site',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tsupports: {\n\t\talternativeApplication: true,\n\t\talternativeEdition: 'external',\n\t\tscope: 'custom',\n\t\tisEnabled: ( select ) =>\n\t\t\tselect( NAB_DATA ).getPluginSetting( 'themeSupport' ).widgets,\n\t},\n\thelp: {\n\t\toriginal: _x(\n\t\t\t'Widget split tests help you to improve the conversion rate of your WordPress site by changing the widgets you show on your sidebars (or widget areas). The control version (commonly known as the “A” version) is your current setup.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\talternative: _x(\n\t\t\t'Here you can create one or more variants of the widgets you use in your website. By default, each variant you create will be an exact copy of your control widgets. Click on the “Edit” link of each variant to modify its widgets.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\tdefaults: {\n\t\toriginal: {},\n\t\talternative: {\n\t\t\tname: '',\n\t\t\tsidebars: [],\n\t\t},\n\t},\n\tviews: {\n\t\toriginal: Original,\n\t\talternative: DefaultAlternative,\n\t},\n};\n\n// =======\n// FILTERS\n// =======\n\naddFilter(\n\t'nab.isTestedElementInvalid',\n\t'nab/widgetTestedElementShouldNotBeInvalid',\n\t( error, _, experimentType ) => ( name === experimentType ? false : error )\n);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { CheckboxControl, TextControl } from '@safe-wordpress/components';\nimport { useEffect, useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport type { ExperimentEditProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport type { AlternativeAttributes } from '../../types';\n\nexport const Alternative = (\n\tprops: ExperimentEditProps< AlternativeAttributes >\n): JSX.Element => {\n\tconst { attributes, disabled, setAttributes } = props;\n\tconst { name, overwritesExistingSalePrice, discount } = attributes;\n\tconst [ value, setValue ] = useState( `${ discount }` );\n\n\tuseEffect( () => {\n\t\tconst newName = getName( discount );\n\t\tif ( name !== newName ) {\n\t\t\tsetAttributes( { name: newName } );\n\t\t} //end if\n\t}, [ discount ] );\n\n\treturn (\n\t\t<>\n\t\t\t<TextControl\n\t\t\t\tlabel={ _x( 'Discount (%)', 'text', 'nelio-ab-testing' ) }\n\t\t\t\tdisabled={ disabled }\n\t\t\t\tvalue={ value }\n\t\t\t\ttype=\"number\"\n\t\t\t\tmin={ 0 }\n\t\t\t\tmax={ 100 }\n\t\t\t\tstep={ 1 }\n\t\t\t\tonChange={ ( v ) => {\n\t\t\t\t\tv = v.replace( /[^0-9]/g, '' );\n\t\t\t\t\tlet aux: number;\n\t\t\t\t\taux = Number.parseInt( v );\n\t\t\t\t\taux = isNaN( aux ) ? 0 : aux;\n\t\t\t\t\taux = aux < 0 ? 0 : aux;\n\t\t\t\t\taux = aux > 100 ? 100 : aux;\n\t\t\t\t\tv = v.length ? `${ aux }` : '';\n\t\t\t\t\tsetValue( v );\n\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\tdiscount: aux,\n\t\t\t\t\t\tname: getName( aux ),\n\t\t\t\t\t} );\n\t\t\t\t} }\n\t\t\t/>\n\t\t\t<CheckboxControl\n\t\t\t\tlabel={ _x(\n\t\t\t\t\t'Overwrite existing sale prices (if any) when applying tested discount',\n\t\t\t\t\t'command',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t) }\n\t\t\t\tchecked={ !! overwritesExistingSalePrice }\n\t\t\t\tonChange={ ( v ) =>\n\t\t\t\t\tsetAttributes( { overwritesExistingSalePrice: v } )\n\t\t\t\t}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst getName = ( discount: number ) =>\n\tsprintf(\n\t\t/* translators: 1 -> discount percentage */\n\t\t_x( '%1$d%% discount', 'text', 'nelio-ab-testing' ),\n\t\tdiscount\n\t);\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { Button } from '@safe-wordpress/components';\nimport { useEffect, useState } from '@safe-wordpress/element';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport interpolateComponents from '@automattic/interpolate-components';\nimport { find, map } from 'lodash';\nimport { ItemSelectControl } from '@nab/components';\nimport { hasHead, listify } from '@nab/utils';\nimport type {\n\tExperimentEditProps,\n\tMaybe,\n\tProductSelection,\n\tSelectedProductTerms,\n\tTermId,\n} from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nimport {\n\tuseProductCategoryLabel,\n\tuseProductCategories,\n\tuseProductTagLabel,\n\tuseProductTags,\n} from '../../hooks';\nimport type { ControlAttributes } from '../../types';\n\nconst DEFAULT_ATTRS = {\n\tproductSelections: [ { type: 'all-products' } ] as const,\n};\n\nexport const Original = (\n\tprops: ExperimentEditProps< ControlAttributes >\n): JSX.Element => {\n\tconst { setAttributes } = props;\n\tconst { productSelections } = props.attributes;\n\n\tuseEffect( () => {\n\t\tif ( ! productSelections.length ) {\n\t\t\tsetAttributes( DEFAULT_ATTRS );\n\t\t\treturn;\n\t\t} //end if\n\n\t\tif ( ! hasHead( productSelections ) ) {\n\t\t\tsetAttributes( DEFAULT_ATTRS );\n\t\t\treturn;\n\t\t} //end if\n\t\tif ( productSelections[ 0 ].type !== 'some-products' ) {\n\t\t\tsetAttributes( DEFAULT_ATTRS );\n\t\t\treturn;\n\t\t} //end if\n\n\t\tconst selection = productSelections[ 0 ].value;\n\t\tif ( selection.type !== 'product-taxonomies' ) {\n\t\t\tsetAttributes( DEFAULT_ATTRS );\n\t\t\treturn;\n\t\t} //end if\n\n\t\tsetAttributes(\n\t\t\tmakeCatTagFilter( { selection: productSelections[ 0 ] } )\n\t\t);\n\t}, [] );\n\n\tconst selection =\n\t\tproductSelections[ 0 ] ?? DEFAULT_ATTRS.productSelections[ 0 ];\n\n\tconst categories =\n\t\tselection.type === 'some-products' &&\n\t\tselection.value.type === 'product-taxonomies'\n\t\t\t? find( selection.value.value, { taxonomy: 'product_cat' } )\n\t\t\t\t\t?.termIds || []\n\t\t\t: [];\n\tconst tags =\n\t\tselection.type === 'some-products' &&\n\t\tselection.value.type === 'product-taxonomies'\n\t\t\t? find( selection.value.value, { taxonomy: 'product_tag' } )\n\t\t\t\t\t?.termIds || []\n\t\t\t: [];\n\n\tconst [ areProductsFiltered, enableProductFilter ] = useState(\n\t\t!! categories.length || !! tags.length\n\t);\n\n\treturn (\n\t\t<div>\n\t\t\t<p className=\"nab-woocommerce-bulk-sale-original\">\n\t\t\t\t{ areProductsFiltered\n\t\t\t\t\t? _x( 'Selected Products', 'text', 'nelio-ab-testing' )\n\t\t\t\t\t: _x( 'All Products', 'text', 'nelio-ab-testing' ) }\n\t\t\t\t{ ! areProductsFiltered && (\n\t\t\t\t\t<span className=\"nab-woocommerce-bulk-sale-original__filter-action\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\tonClick={ () => enableProductFilter( true ) }\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{ _x( 'Filter', 'command', 'nelio-ab-testing' ) }\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</span>\n\t\t\t\t) }\n\t\t\t</p>\n\n\t\t\t{ areProductsFiltered && (\n\t\t\t\t<ProductFilters\n\t\t\t\t\tcategories={ categories }\n\t\t\t\t\ttags={ tags }\n\t\t\t\t\tsetCategories={ ( cats ) =>\n\t\t\t\t\t\tsetAttributes( makeCatTagFilter( { selection, cats } ) )\n\t\t\t\t\t}\n\t\t\t\t\tsetTags={ ( value ) =>\n\t\t\t\t\t\tsetAttributes(\n\t\t\t\t\t\t\tmakeCatTagFilter( { selection, tags: value } )\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t) }\n\t\t</div>\n\t);\n};\n\n// ============\n// HELPER VIEWS\n// ============\n\ntype ProductFilterProps = {\n\treadonly categories: ReadonlyArray< TermId >;\n\treadonly tags: ReadonlyArray< TermId >;\n\treadonly setCategories: ( cats: ReadonlyArray< TermId > ) => void;\n\treadonly setTags: ( tags: ReadonlyArray< TermId > ) => void;\n};\n\nconst ProductFilters = ( props: ProductFilterProps ) => {\n\tconst {\n\t\tcategories: selectedCategories,\n\t\ttags: selectedTags,\n\t\tsetCategories,\n\t\tsetTags,\n\t} = props;\n\n\tconst explanation = useFilterExplanation(\n\t\tselectedCategories,\n\t\tselectedTags\n\t);\n\n\tconst categoryLabel = useProductCategoryLabel();\n\tconst allCats = useProductCategories();\n\n\tconst tagLabel = useProductTagLabel();\n\tconst allTags = useProductTags();\n\n\treturn (\n\t\t<>\n\t\t\t<div className=\"nab-woocommerce-bulk-sale-original__product-filters\">\n\t\t\t\t<div>\n\t\t\t\t\t<ItemSelectControl\n\t\t\t\t\t\tlabel={ categoryLabel }\n\t\t\t\t\t\tkind=\"taxonomy\"\n\t\t\t\t\t\tname=\"product_cat\"\n\t\t\t\t\t\tdisabled={ ! allCats?.length }\n\t\t\t\t\t\tvalue={ selectedCategories }\n\t\t\t\t\t\tonChange={ setCategories }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<ItemSelectControl\n\t\t\t\t\t\tlabel={ tagLabel }\n\t\t\t\t\t\tkind=\"taxonomy\"\n\t\t\t\t\t\tname=\"product_tag\"\n\t\t\t\t\t\tdisabled={ ! allTags?.length }\n\t\t\t\t\t\tvalue={ selectedTags }\n\t\t\t\t\t\tonChange={ setTags }\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<p className=\"nab-woocommerce-bulk-sale-original__explanation\">\n\t\t\t\t{ explanation }\n\t\t\t</p>\n\t\t</>\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst makeCatTagFilter = ( attrs: {\n\treadonly selection: ProductSelection;\n\treadonly cats?: ReadonlyArray< TermId >;\n\treadonly tags?: ReadonlyArray< TermId >;\n} ): ControlAttributes => {\n\tconst { selection, cats, tags } = attrs;\n\tconst taxonomies =\n\t\tselection.type === 'some-products' &&\n\t\tselection.value.type === 'product-taxonomies'\n\t\t\t? selection.value.value\n\t\t\t: [];\n\n\tconst catTax: SelectedProductTerms = {\n\t\ttype: 'product-terms',\n\t\ttaxonomy: 'product_cat',\n\t\tmode: 'or',\n\t\ttermIds: [],\n\t\t...find( taxonomies, { taxonomy: 'product_cat' } ),\n\t\t...( cats ? { termIds: cats } : {} ),\n\t};\n\n\tconst tagTax: SelectedProductTerms = {\n\t\ttype: 'product-terms',\n\t\ttaxonomy: 'product_tag',\n\t\tmode: 'or',\n\t\ttermIds: [],\n\t\t...find( taxonomies, { taxonomy: 'product_tag' } ),\n\t\t...( tags ? { termIds: tags } : {} ),\n\t};\n\n\tif ( ! catTax.termIds.length && ! tagTax.termIds.length ) {\n\t\treturn DEFAULT_ATTRS;\n\t} //end if\n\n\treturn {\n\t\tproductSelections: [\n\t\t\t{\n\t\t\t\ttype: 'some-products',\n\t\t\t\tvalue: {\n\t\t\t\t\ttype: 'product-taxonomies',\n\t\t\t\t\tvalue: [\n\t\t\t\t\t\t!! catTax.termIds.length && catTax,\n\t\t\t\t\t\t!! tagTax.termIds.length && tagTax,\n\t\t\t\t\t].filter( ( x ): x is SelectedProductTerms => !! x ),\n\t\t\t\t},\n\t\t\t},\n\t\t],\n\t};\n};\n\nconst useFilterExplanation = (\n\tcats: Maybe< ReadonlyArray< number > >,\n\ttags: Maybe< ReadonlyArray< number > >\n): JSX.Element => {\n\tconst allCats = useProductCategories();\n\tconst getCatName = ( id: number ): string =>\n\t\tfind( allCats, { id } )?.name || `#${ id }`;\n\n\tconst allTags = useProductTags();\n\tconst getTagName = ( id: number ): string =>\n\t\tfind( allTags, { id } )?.name || `#${ id }`;\n\n\tif ( cats?.length && tags?.length ) {\n\t\treturn beautify(\n\t\t\tsprintf(\n\t\t\t\t/* translators: 1 -> list of category names, 2 -> list of tag names */\n\t\t\t\t_x(\n\t\t\t\t\t'This test applies to products in category %1$s and tagged as %2$s.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tlistify( 'or', map( map( cats, getCatName ), strong ) ),\n\t\t\t\tlistify( 'or', map( map( tags, getTagName ), strong ) )\n\t\t\t)\n\t\t);\n\t} //end if\n\n\tif ( cats?.length ) {\n\t\treturn beautify(\n\t\t\tsprintf(\n\t\t\t\t/* translators: list of category names */\n\t\t\t\t_x(\n\t\t\t\t\t'This test applies to products in category %s.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tlistify( 'or', map( map( cats, getCatName ), strong ) )\n\t\t\t)\n\t\t);\n\t} //end if\n\n\tif ( tags?.length ) {\n\t\treturn beautify(\n\t\t\tsprintf(\n\t\t\t\t/* translators: list of tag names */\n\t\t\t\t_x(\n\t\t\t\t\t'This test applies to products tagged as %s.',\n\t\t\t\t\t'text',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\tlistify( 'or', map( map( tags, getTagName ), strong ) )\n\t\t\t)\n\t\t);\n\t} //end if\n\n\treturn (\n\t\t<>\n\t\t\t{ _x(\n\t\t\t\t'This test applies to all products in your store.',\n\t\t\t\t'text',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t) }\n\t\t</>\n\t);\n};\n\n// =======\n// HELPERS\n// =======\n\nconst beautify = ( text: string ): JSX.Element =>\n\tinterpolateComponents( {\n\t\t// eslint-disable-next-line @wordpress/valid-sprintf\n\t\tmixedString: text,\n\t\tcomponents: { em: <em />, strong: <strong /> },\n\t} );\n\nconst strong = ( t: string ): string => `{{strong}}${ t }{{/strong}}`;\n","/**\n * WordPress dependencies\n */\nimport { useSelect } from '@safe-wordpress/data';\nimport { store as coreStore } from '@safe-wordpress/core-data';\nconst CORE = coreStore?.name || 'core';\n\n/**\n * External dependencies\n */\nimport type { Maybe, Term } from '@nab/types';\n\nexport const useProductCategoryLabel = (): string =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( CORE ).getTaxonomy( 'product_cat' )?.name ??\n\t\t\t'Product categories'\n\t);\n\nexport const useProductCategories = (): Maybe< ReadonlyArray< Term > > =>\n\tuseTerms( 'product_cat' );\n\nexport const useProductTagLabel = (): string =>\n\tuseSelect(\n\t\t( select ) =>\n\t\t\tselect( CORE ).getTaxonomy( 'product_tag' )?.name ?? 'Product tags'\n\t);\n\nexport const useProductTags = (): Maybe< ReadonlyArray< Term > > =>\n\tuseTerms( 'product_tag' );\n\n// =======\n// HELPERS\n// =======\n\nconst useTerms = ( taxonomy: string ): Maybe< ReadonlyArray< Term > > =>\n\tuseSelect( ( select ): Maybe< ReadonlyArray< Term > > => {\n\t\tconst cats = select( CORE ).getEntityRecords( 'taxonomy', taxonomy, {\n\t\t\tper_page: -1,\n\t\t} ) as unknown as ReadonlyArray< Term >;\n\t\tconst isResolving = select( CORE ).isResolving( 'getEntityRecords', [\n\t\t\t'taxonomy',\n\t\t\ttaxonomy,\n\t\t\t{ per_page: -1 },\n\t\t] );\n\t\treturn cats && ! isResolving ? cats.map( formatTermName ) : undefined;\n\t} );\n\nconst el = document.createElement( 'div' );\nconst formatTermName = ( t: Term ): Term => {\n\tel.innerHTML = t.name;\n\treturn { ...t, name: el.textContent ?? t.name };\n};\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@safe-wordpress/hooks';\nimport { _x, sprintf } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { isObject } from 'lodash';\nimport { createConversionAction } from '@nab/conversion-actions';\nimport type { ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Original } from './components/original';\nimport { Alternative } from './components/alternative';\n\nimport type { ControlAttributes, AlternativeAttributes } from './types';\n\nexport const name = 'nab/wc-bulk-sale';\n\nexport const settings: Omit<\n\tExperimentType< ControlAttributes, AlternativeAttributes >,\n\t'name'\n> = {\n\tcategory: 'woocommerce',\n\ttitle: _x(\n\t\t'WooCommerce Bulk Sale',\n\t\t'text (experiment name)',\n\t\t'nelio-ab-testing'\n\t),\n\tshortTitle: _x( 'Bulk Sale', 'text (experiment name)', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Apply a discount to all your (selected) products.',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tsupports: {\n\t\tautomaticGoalSetup: ( control ) => {\n\t\t\treturn control.productSelections.map( ( selection ) =>\n\t\t\t\tcreateConversionAction( 'nab/wc-order', {\n\t\t\t\t\ttype: 'product-selection',\n\t\t\t\t\tvalue: selection,\n\t\t\t\t} )\n\t\t\t);\n\t\t},\n\t\tpostTypes: 'product',\n\t},\n\thelp: {\n\t\toriginal: _x(\n\t\t\t'This type of test lets you apply a bulk sale to all your (selected) products. The control version doesn’t apply any discount and simply shows the regular price of your selected products.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\talternative: _x(\n\t\t\t'Here you can create one or more bulk sale discounts that will apply to all your tested products.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\tdefaults: {\n\t\toriginal: {\n\t\t\tproductSelections: [ { type: 'all-products' } ],\n\t\t},\n\t\talternative: {\n\t\t\tname: '',\n\t\t\tdiscount: 20,\n\t\t\toverwritesExistingSalePrice: true,\n\t\t},\n\t},\n\tviews: {\n\t\toriginal: Original,\n\t\talternative: Alternative,\n\t},\n};\n\n// =======\n// FILTERS\n// =======\n\naddFilter(\n\t'nab.isAlternativeInvalid',\n\t'nab/woocommerceBulkSale/isValidPercentage',\n\t( error, alternative, alternativeLetter, experimentType ) => {\n\t\tif ( ! isAlternativeOfType( experimentType, alternative ) ) {\n\t\t\treturn error;\n\t\t} //end if\n\n\t\tif ( ! isValidPercentage( alternative.discount ) ) {\n\t\t\treturn sprintf(\n\t\t\t\t/* translators: letter of the variant */\n\t\t\t\t_x(\n\t\t\t\t\t'Please set a valid discount percentage value (between 0 and 100) in variant %s',\n\t\t\t\t\t'user',\n\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t),\n\t\t\t\talternativeLetter\n\t\t\t);\n\t\t} //end if\n\n\t\treturn false;\n\t}\n);\n\n// =====\n// HOOKS\n// =====\n\naddFilter(\n\t'nab.isTestedElementInvalid',\n\t'nab/woocommerceBulkSaleIsAlwaysValid',\n\t( error, _, experimentType ) => ( name === experimentType ? false : error )\n);\n\n// =======\n// HELPERS\n// =======\n\nconst isAlternativeOfType = (\n\ttype: string,\n\talt: unknown\n): alt is AlternativeAttributes => isObject( alt ) && name === type;\n\nconst isValidPercentage = ( percentage: number ): boolean => {\n\treturn 0 <= percentage && percentage <= 100;\n};\n","/**\n * WordPress dependencies\n */\nimport * as React from '@safe-wordpress/element';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { PostSearcher } from '@nab/components';\n\nimport type { PostSearcherProps } from '@nab/components';\nimport type { ExperimentEditProps } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport './style.scss';\n\nimport type { ControlAttributes } from '../../types';\nimport { CheckboxControl } from '@wordpress/components';\n\nexport type OriginalProps = ExperimentEditProps< ControlAttributes > & {\n\treadonly validPostFilter?: PostSearcherProps[ 'filter' ];\n};\n\nexport const Original = ( {\n\tattributes,\n\tsetAttributes,\n\tvalidPostFilter,\n}: OriginalProps ): JSX.Element => {\n\treturn (\n\t\t<div className=\"nab-original-product-alternative\">\n\t\t\t<div className=\"nab-original-product-alternative__selector\">\n\t\t\t\t<PostSearcher\n\t\t\t\t\ttype=\"product\"\n\t\t\t\t\tvalue={ attributes.postId }\n\t\t\t\t\tperPage={ 10 }\n\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tpostId: value,\n\t\t\t\t\t\t\tpostType: 'product',\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tfilter={ validPostFilter }\n\t\t\t\t\tplaceholder={ _x(\n\t\t\t\t\t\t'Please select a product…',\n\t\t\t\t\t\t'user',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className=\"nab-original-product-alternative__flags\">\n\t\t\t\t<CheckboxControl\n\t\t\t\t\tclassName=\"nab-original-product-alternative__flag\"\n\t\t\t\t\tchecked={ ! attributes.disablePriceTesting }\n\t\t\t\t\tonChange={ ( enabled ) =>\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\tdisablePriceTesting: ! enabled ? true : undefined,\n\t\t\t\t\t\t} )\n\t\t\t\t\t}\n\t\t\t\t\tlabel={ _x(\n\t\t\t\t\t\t'Enable price testing',\n\t\t\t\t\t\t'command',\n\t\t\t\t\t\t'nelio-ab-testing'\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","/**\n * WordPress dependencies\n */\nimport { addFilter } from '@safe-wordpress/hooks';\nimport { _x } from '@safe-wordpress/i18n';\n\n/**\n * External dependencies\n */\nimport { isObject } from 'lodash';\nimport { DefaultAlternative as Alternative } from '@nab/components';\nimport { createConversionAction } from '@nab/conversion-actions';\nimport type { ExperimentType } from '@nab/types';\n\n/**\n * Internal dependencies\n */\nimport icon from './icon.svg';\nimport { Original } from './components/original';\n\nimport type { ControlAttributes, AlternativeAttributes } from './types';\n\nexport const name = 'nab/wc-product';\n\nexport const settings: Omit<\n\tExperimentType< ControlAttributes, AlternativeAttributes >,\n\t'name'\n> = {\n\tcategory: 'woocommerce',\n\ttitle: _x(\n\t\t'WooCommerce Product',\n\t\t'text (experiment name)',\n\t\t'nelio-ab-testing'\n\t),\n\tshortTitle: _x( 'Product', 'text (experiment name)', 'nelio-ab-testing' ),\n\tdescription: _x(\n\t\t'Test alternative versions of a product name, price, featured image, and short description',\n\t\t'user',\n\t\t'nelio-ab-testing'\n\t),\n\ticon,\n\tsupports: {\n\t\talternativeApplication: true,\n\t\talternativeEdition: 'external',\n\t\tautomaticGoalSetup: ( control ) => {\n\t\t\treturn [\n\t\t\t\tcreateConversionAction( 'nab/wc-order', {\n\t\t\t\t\ttype: 'product-selection',\n\t\t\t\t\tvalue: {\n\t\t\t\t\t\ttype: 'some-products',\n\t\t\t\t\t\tvalue: {\n\t\t\t\t\t\t\ttype: 'product-ids',\n\t\t\t\t\t\t\tmode: 'and',\n\t\t\t\t\t\t\tproductIds: control.postId\n\t\t\t\t\t\t\t\t? [ control.postId ]\n\t\t\t\t\t\t\t\t: [],\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t} ),\n\t\t\t];\n\t\t},\n\t},\n\thelp: {\n\t\toriginal: _x(\n\t\t\t'Product split tests help you to improve the interest your customers show in your products by creating one or more variants of the name, pricing, short description, and image of a WooCommerce Product. The control version (commonly known as the “A” version) is the already-existing product you want to test.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t\talternative: _x(\n\t\t\t'Here you can create and edit one or more variants of your tested product. By default, each variant you create will use the product’s current values.',\n\t\t\t'user',\n\t\t\t'nelio-ab-testing'\n\t\t),\n\t},\n\tdefaults: {\n\t\toriginal: {\n\t\t\tpostId: 0,\n\t\t\tpostType: 'product',\n\t\t},\n\t\talternative: {\n\t\t\tname: '',\n\t\t\tpostId: 0,\n\t\t},\n\t},\n\tviews: {\n\t\toriginal: Original,\n\t\talternative: Alternative,\n\t},\n};\n\n// =======\n// FILTERS\n// =======\n\naddFilter(\n\t'nab.isTestedElementInvalid',\n\t'nab/woocommerceProduct/isTestedElementInvalid',\n\t( error, testedElement, experimentType ) => {\n\t\tif ( ! isControlOfType( experimentType, testedElement ) ) {\n\t\t\treturn error;\n\t\t} //end if\n\n\t\tif ( ! testedElement.postId ) {\n\t\t\treturn _x(\n\t\t\t\t'Please select the product you want to test',\n\t\t\t\t'user',\n\t\t\t\t'nelio-ab-testing'\n\t\t\t);\n\t\t} //end if\n\n\t\treturn false;\n\t}\n);\n\n// =======\n// HELPERS\n// =======\n\nconst isControlOfType = (\n\ttype: string,\n\talt: unknown\n): alt is ControlAttributes => isObject( alt ) && name === type;\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/components';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/core-data';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/data';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/element';\nimport { createRoot, render as legacyRender } from '@wordpress/element';\n\nexport function render(\n\telement: JSX.Element,\n\tcontainer: Element | null\n): void {\n\tif ( ! container ) {\n\t\treturn;\n\t} //end if\n\n\tif ( createRoot ) {\n\t\tconst root = createRoot( container );\n\t\troot.render( element );\n\t} else {\n\t\tlegacyRender( element, container );\n\t} //end if\n} //end render()\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/hooks';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/i18n';\n","/**\n * WordPress dependencies\n */\nexport * from '@wordpress/media-utils';\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"React\"];","module.exports = window[\"lodash\"];","module.exports = window[\"nab\"][\"components\"];","module.exports = window[\"nab\"][\"conversionActions\"];","module.exports = window[\"nab\"][\"data\"];","module.exports = window[\"nab\"][\"experiments\"];","module.exports = window[\"nab\"][\"utils\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"coreData\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"hooks\"];","module.exports = window[\"wp\"][\"i18n\"];","module.exports = window[\"wp\"][\"mediaUtils\"];","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","export * as experimentLibrary from './index';\n"],"names":["React","_x","Original","createElement","className","TextareaControl","ValuePreview","_a","css","attributes","value","onChange","readOnly","addFilter","DefaultAlternative","icon","name","settings","category","title","description","supports","alternativeEdition","alternativePreviewDialog","scope","help","original","alternative","defaults","views","error","_","experimentType","Alternative","alternativeApplication","alternatives","_b","testAgainstExistingContent","postTypeExceptions","postType","postId","ImageAndExcerpt","useTestedPost","disabled","setAttributes","props","__rest","useImageAndExcerpt","excerpt","excerptPlaceholder","imageId","imageUrl","originalImageId","originalImageUrl","originalTitle","Fragment","__assign","placeholder","defaultImageId","defaultImageUrl","onImageChange","id","url","onExcerptChange","_d","_c","_f","_e","_g","post","_h","_j","_k","imageSrc","originalExcerpt","_l","MediaUpload","Button","noop","FancyIcon","Tooltip","Image","src","text","onClick","allowedTypes","onSelect","sizes","thumbnail","render","open","alt","PostOriginal","imageAndExcerpt","disableExistingContentSelect","useSelect","STORE_NAME","NAB_DATA","NAB_EDITOR","select","getAlternative","getEntityRecord","createConversionAction","automaticGoalSetup","control","type","ids","postTypes","registerExperimentType","customPostType","headline","heatmap","javascript","menu","page","template","theme","widget","wcProduct","wcBulkSale","registerCoreExperiments","forEach","experiment","Modal","useState","trim","isModalVisible","setVisibility","editingCode","setEditingCode","code","isDirty","close","save","undefined","variant","isDismissible","onRequestClose","shouldCloseOnClickOutside","join","TextControl","useEffect","MenuSearcher","isExistingMenu","useExistingMenu","menuId","useControl","testAgainstExistingMenu","CheckboxControl","doSelect","useDispatch","classnames","filter","map","createAlternative","isPaused","useIsPaused","toggleExistingMenu","useExistingMenuToggler","label","checked","concat","getExperimentAttribute","includes","prevAlts","setPrevAlts","replaceAlternatives","alts","getAlternatives","isEnabled","hasMenus","getPluginSetting","menus","validPostFilter","extra","specialPostType","PostSearcher","isExistingContent","useExistingContent","useOriginalPostType","perPage","SelectControl","castArray","NAB_EXPERIMENTS","isEmpty","isMultiArray","isSingleton","isSubscribed","useSubscription","toggleExistingContent","useExistingContentToggler","usePostTypes","showSinglePostType","defaultPostType","selectablePostTypes","labels","singular_name","options","getPlaceholder","RunAsInlineLabel","runAsInlineTest","getExistingContentLabel","placement","hasExperimentSupport","getExperimentSupport","getKindEntities","pt","kind","acceptedPostTypes_1","length","excludedPostTypes_1","PresetAlternative","templateId","usePostType","collection","t","selection","selectAction","loading","empty","unknownOption","omitUndefineds","useTemplateSetter","setAlternative","attrs","sprintf","isObject","values","presetAlternatives","getTemplates","templatesByPostType","some","templates","postTypeTemplates","testedElement","isControlOfType","alternativeLetter","isAlternativeOfType","themeId","getThemes","themes","widgets","sidebars","overwritesExistingSalePrice","discount","setValue","newName","getName","min","max","step","v","replace","aux","Number","parseInt","isNaN","interpolateComponents","find","ItemSelectControl","hasHead","listify","useProductCategoryLabel","useProductCategories","useProductTagLabel","useProductTags","DEFAULT_ATTRS","productSelections","makeCatTagFilter","categories","taxonomy","termIds","tags","areProductsFiltered","enableProductFilter","ProductFilters","setCategories","cats","setTags","selectedCategories","selectedTags","explanation","useFilterExplanation","categoryLabel","allCats","tagLabel","allTags","taxonomies","catTax","mode","tagTax","x","getCatName","getTagName","beautify","strong","mixedString","components","em","store","coreStore","CORE","getTaxonomy","useTerms","getEntityRecords","per_page","isResolving","formatTermName","el","document","innerHTML","textContent","shortTitle","isValidPercentage","percentage","disablePriceTesting","enabled","productIds","createRoot","legacyRender","element","container","root","experimentLibrary"],"sourceRoot":""}